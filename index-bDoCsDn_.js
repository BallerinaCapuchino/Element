(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function $w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hp={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RT;function y2(){if(RT)return bu;RT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return bu.Fragment=t,bu.jsx=n,bu.jsxs=n,bu}var CT;function v2(){return CT||(CT=1,Hp.exports=y2()),Hp.exports}var S=v2(),qp={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function _2(){if(IT)return wt;IT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function A(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function O(z,it,lt){this.props=z,this.context=it,this.refs=j,this.updater=lt||I}O.prototype.isReactComponent={},O.prototype.setState=function(z,it){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,it,"setState")},O.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function q(){}q.prototype=O.prototype;function B(z,it,lt){this.props=z,this.context=it,this.refs=j,this.updater=lt||I}var tt=B.prototype=new q;tt.constructor=B,k(tt,O.prototype),tt.isPureReactComponent=!0;var at=Array.isArray;function ut(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(z,it,lt){var ft=lt.ref;return{$$typeof:e,type:z,key:it,ref:ft!==void 0?ft:null,props:lt}}function L(z,it){return C(z.type,it,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function F(z){var it={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(lt){return it[lt]})}var D=/\/+/g;function $t(z,it){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):it.toString(36)}function le(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ut,ut):(z.status="pending",z.then(function(it){z.status==="pending"&&(z.status="fulfilled",z.value=it)},function(it){z.status==="pending"&&(z.status="rejected",z.reason=it)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,it,lt,ft,bt){var It=typeof z;(It==="undefined"||It==="boolean")&&(z=null);var zt=!1;if(z===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(z.$$typeof){case e:case t:zt=!0;break;case y:return zt=z._init,Q(zt(z._payload),it,lt,ft,bt)}}if(zt)return bt=bt(z),zt=ft===""?"."+$t(z,0):ft,at(bt)?(lt="",zt!=null&&(lt=zt.replace(D,"$&/")+"/"),Q(bt,it,lt,"",function(Hr){return Hr})):bt!=null&&(P(bt)&&(bt=L(bt,lt+(bt.key==null||z&&z.key===bt.key?"":(""+bt.key).replace(D,"$&/")+"/")+zt)),it.push(bt)),1;zt=0;var je=ft===""?".":ft+":";if(at(z))for(var ue=0;ue<z.length;ue++)ft=z[ue],It=je+$t(ft,ue),zt+=Q(ft,it,lt,It,bt);else if(ue=A(z),typeof ue=="function")for(z=ue.call(z),ue=0;!(ft=z.next()).done;)ft=ft.value,It=je+$t(ft,ue++),zt+=Q(ft,it,lt,It,bt);else if(It==="object"){if(typeof z.then=="function")return Q(le(z),it,lt,ft,bt);throw it=String(z),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return zt}function rt(z,it,lt){if(z==null)return z;var ft=[],bt=0;return Q(z,ft,"","",function(It){return it.call(lt,It,bt++)}),ft}function dt(z){if(z._status===-1){var it=z._result;it=it(),it.then(function(lt){(z._status===0||z._status===-1)&&(z._status=1,z._result=lt)},function(lt){(z._status===0||z._status===-1)&&(z._status=2,z._result=lt)}),z._status===-1&&(z._status=0,z._result=it)}if(z._status===1)return z._result.default;throw z._result}var Ct=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Mt={map:rt,forEach:function(z,it,lt){rt(z,function(){it.apply(this,arguments)},lt)},count:function(z){var it=0;return rt(z,function(){it++}),it},toArray:function(z){return rt(z,function(it){return it})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return wt.Activity=_,wt.Children=Mt,wt.Component=O,wt.Fragment=n,wt.Profiler=a,wt.PureComponent=B,wt.StrictMode=s,wt.Suspense=m,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,wt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return N.H.useMemoCache(z)}},wt.cache=function(z){return function(){return z.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(z,it,lt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ft=k({},z.props),bt=z.key;if(it!=null)for(It in it.key!==void 0&&(bt=""+it.key),it)!R.call(it,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&it.ref===void 0||(ft[It]=it[It]);var It=arguments.length-2;if(It===1)ft.children=lt;else if(1<It){for(var zt=Array(It),je=0;je<It;je++)zt[je]=arguments[je+2];ft.children=zt}return C(z.type,bt,ft)},wt.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},wt.createElement=function(z,it,lt){var ft,bt={},It=null;if(it!=null)for(ft in it.key!==void 0&&(It=""+it.key),it)R.call(it,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(bt[ft]=it[ft]);var zt=arguments.length-2;if(zt===1)bt.children=lt;else if(1<zt){for(var je=Array(zt),ue=0;ue<zt;ue++)je[ue]=arguments[ue+2];bt.children=je}if(z&&z.defaultProps)for(ft in zt=z.defaultProps,zt)bt[ft]===void 0&&(bt[ft]=zt[ft]);return C(z,It,bt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(z){return{$$typeof:f,render:z}},wt.isValidElement=P,wt.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:dt}},wt.memo=function(z,it){return{$$typeof:p,type:z,compare:it===void 0?null:it}},wt.startTransition=function(z){var it=N.T,lt={};N.T=lt;try{var ft=z(),bt=N.S;bt!==null&&bt(lt,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(ut,Ct)}catch(It){Ct(It)}finally{it!==null&&lt.types!==null&&(it.types=lt.types),N.T=it}},wt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},wt.use=function(z){return N.H.use(z)},wt.useActionState=function(z,it,lt){return N.H.useActionState(z,it,lt)},wt.useCallback=function(z,it){return N.H.useCallback(z,it)},wt.useContext=function(z){return N.H.useContext(z)},wt.useDebugValue=function(){},wt.useDeferredValue=function(z,it){return N.H.useDeferredValue(z,it)},wt.useEffect=function(z,it){return N.H.useEffect(z,it)},wt.useEffectEvent=function(z){return N.H.useEffectEvent(z)},wt.useId=function(){return N.H.useId()},wt.useImperativeHandle=function(z,it,lt){return N.H.useImperativeHandle(z,it,lt)},wt.useInsertionEffect=function(z,it){return N.H.useInsertionEffect(z,it)},wt.useLayoutEffect=function(z,it){return N.H.useLayoutEffect(z,it)},wt.useMemo=function(z,it){return N.H.useMemo(z,it)},wt.useOptimistic=function(z,it){return N.H.useOptimistic(z,it)},wt.useReducer=function(z,it,lt){return N.H.useReducer(z,it,lt)},wt.useRef=function(z){return N.H.useRef(z)},wt.useState=function(z){return N.H.useState(z)},wt.useSyncExternalStore=function(z,it,lt){return N.H.useSyncExternalStore(z,it,lt)},wt.useTransition=function(){return N.H.useTransition()},wt.version="19.2.4",wt}var NT;function Ny(){return NT||(NT=1,qp.exports=_2()),qp.exports}var V=Ny();const E2=$w(V);var Gp={exports:{}},Su={},Kp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function T2(){return DT||(DT=1,(function(e){function t(Q,rt){var dt=Q.length;Q.push(rt);t:for(;0<dt;){var Ct=dt-1>>>1,Mt=Q[Ct];if(0<a(Mt,rt))Q[Ct]=rt,Q[dt]=Mt,dt=Ct;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var rt=Q[0],dt=Q.pop();if(dt!==rt){Q[0]=dt;t:for(var Ct=0,Mt=Q.length,z=Mt>>>1;Ct<z;){var it=2*(Ct+1)-1,lt=Q[it],ft=it+1,bt=Q[ft];if(0>a(lt,dt))ft<Mt&&0>a(bt,lt)?(Q[Ct]=bt,Q[ft]=dt,Ct=ft):(Q[Ct]=lt,Q[it]=dt,Ct=it);else if(ft<Mt&&0>a(bt,dt))Q[Ct]=bt,Q[ft]=dt,Ct=ft;else break t}}return rt}function a(Q,rt){var dt=Q.sortIndex-rt.sortIndex;return dt!==0?dt:Q.id-rt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,A=!1,I=!1,k=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function tt(Q){for(var rt=n(p);rt!==null;){if(rt.callback===null)s(p);else if(rt.startTime<=Q)s(p),rt.sortIndex=rt.expirationTime,t(m,rt);else break;rt=n(p)}}function at(Q){if(k=!1,tt(Q),!I)if(n(m)!==null)I=!0,ut||(ut=!0,F());else{var rt=n(p);rt!==null&&le(at,rt.startTime-Q)}}var ut=!1,N=-1,R=5,C=-1;function L(){return j?!0:!(e.unstable_now()-C<R)}function P(){if(j=!1,ut){var Q=e.unstable_now();C=Q;var rt=!0;try{t:{I=!1,k&&(k=!1,q(N),N=-1),A=!0;var dt=E;try{e:{for(tt(Q),_=n(m);_!==null&&!(_.expirationTime>Q&&L());){var Ct=_.callback;if(typeof Ct=="function"){_.callback=null,E=_.priorityLevel;var Mt=Ct(_.expirationTime<=Q);if(Q=e.unstable_now(),typeof Mt=="function"){_.callback=Mt,tt(Q),rt=!0;break e}_===n(m)&&s(m),tt(Q)}else s(m);_=n(m)}if(_!==null)rt=!0;else{var z=n(p);z!==null&&le(at,z.startTime-Q),rt=!1}}break t}finally{_=null,E=dt,A=!1}rt=void 0}}finally{rt?F():ut=!1}}}var F;if(typeof B=="function")F=function(){B(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$t=D.port2;D.port1.onmessage=P,F=function(){$t.postMessage(null)}}else F=function(){O(P,0)};function le(Q,rt){N=O(function(){Q(e.unstable_now())},rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var rt=3;break;default:rt=E}var dt=E;E=rt;try{return Q()}finally{E=dt}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=E;E=Q;try{return rt()}finally{E=dt}},e.unstable_scheduleCallback=function(Q,rt,dt){var Ct=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ct+dt:Ct):dt=Ct,Q){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=dt+Mt,Q={id:y++,callback:rt,priorityLevel:Q,startTime:dt,expirationTime:Mt,sortIndex:-1},dt>Ct?(Q.sortIndex=dt,t(p,Q),n(m)===null&&Q===n(p)&&(k?(q(N),N=-1):k=!0,le(at,dt-Ct))):(Q.sortIndex=Mt,t(m,Q),I||A||(I=!0,ut||(ut=!0,F()))),Q},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(Q){var rt=E;return function(){var dt=E;E=rt;try{return Q.apply(this,arguments)}finally{E=dt}}}})(Yp)),Yp}var VT;function b2(){return VT||(VT=1,Kp.exports=T2()),Kp.exports}var $p={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function S2(){if(MT)return rn;MT=1;var e=Ny();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},rn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},rn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},rn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,p){return m(p)},rn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var OT;function w2(){if(OT)return $p.exports;OT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$p.exports=S2(),$p.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT;function A2(){if(PT)return Su;PT=1;var e=b2(),t=Ny(),n=w2();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,w=d.child;w;){if(w===o){T=!0,o=d,u=g;break}if(w===u){T=!0,u=d,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,u=d;break}if(w===u){T=!0,u=g,o=d;break}w=w.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function $t(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case at:return"Suspense";case ut:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case B:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case tt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:$t(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return $t(i(r))}catch{}}return null}var le=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ct=[],Mt=-1;function z(i){return{current:i}}function it(i){0>Mt||(i.current=Ct[Mt],Ct[Mt]=null,Mt--)}function lt(i,r){Mt++,Ct[Mt]=i.current,i.current=r}var ft=z(null),bt=z(null),It=z(null),zt=z(null);function je(i,r){switch(lt(It,r),lt(bt,i),lt(ft,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?XE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=XE(r),i=WE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(ft),lt(ft,i)}function ue(){it(ft),it(bt),it(It)}function Hr(i){i.memoizedState!==null&&lt(zt,i);var r=ft.current,o=WE(r,i.type);r!==o&&(lt(bt,i),lt(ft,o))}function za(i){bt.current===i&&(it(ft),it(bt)),zt.current===i&&(it(zt),vu._currentValue=dt)}var Ba,Fa;function wi(i){if(Ba===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ba=r&&r[1]||"",Fa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ba+i+Fa}var vl=!1;function qr(i,r){if(!i||vl)return"";vl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(W){var $=W}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(W){$=W}i.call(nt.prototype)}}else{try{throw Error()}catch(W){$=W}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var M=T.split(`
`),Y=w.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===Y.length)for(u=M.length-1,d=Y.length-1;1<=u&&0<=d&&M[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==Y[d]){var J=`
`+M[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=d);break}}}finally{vl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?wi(o):""}function _l(i,r){switch(i.tag){case 26:case 27:case 5:return wi(i.type);case 16:return wi("Lazy");case 13:return i.child!==r&&r!==null?wi("Suspense Fallback"):wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return qr(i.type,!1);case 11:return qr(i.type.render,!1);case 1:return qr(i.type,!0);case 31:return wi("Activity");default:return""}}function El(i){try{var r="",o=null;do r+=_l(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,ks=e.unstable_cancelCallback,Gd=e.unstable_shouldYield,Ic=e.unstable_requestPaint,hn=e.unstable_now,Gr=e.unstable_getCurrentPriorityLevel,Tl=e.unstable_ImmediatePriority,bl=e.unstable_UserBlockingPriority,Ls=e.unstable_NormalPriority,Kd=e.unstable_LowPriority,Nc=e.unstable_IdlePriority,Dc=e.log,Vc=e.unstable_setDisableYieldValue,ei=null,Qe=null;function kn(i){if(typeof Dc=="function"&&Vc(i),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ei,i)}catch{}}var ve=Math.clz32?Math.clz32:Oc,Mc=Math.log,Ha=Math.LN2;function Oc(i){return i>>>=0,i===0?32:31-(Mc(i)/Ha|0)|0}var Ai=256,Kr=262144,Ae=4194304;function xi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ri(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=xi(u):(T&=w,T!==0?d=xi(T):o||(o=w&~i,o!==0&&(d=xi(o))))):(w=u&~g,w!==0?d=xi(w):T!==0?d=xi(T):o||(o=u&~i,o!==0&&(d=xi(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function ni(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Yd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pc(){var i=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),i}function Ci(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Yr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $d(i,r,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,M=i.expirationTimes,Y=i.hiddenUpdates;for(o=T&~o;0<o;){var J=31-ve(o),nt=1<<J;w[J]=0,M[J]=-1;var $=Y[J];if($!==null)for(Y[J]=null,J=0;J<$.length;J++){var W=$[J];W!==null&&(W.lane&=-536870913)}o&=~nt}u!==0&&$r(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~r))}function $r(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-ve(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Sl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-ve(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function wl(i,r){var o=r&-r;return o=(o&42)!==0?1:Qr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Qr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function kc(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:ET(i.type))}function ii(i,r){var o=rt.p;try{return rt.p=i,r()}finally{rt.p=o}}var si=Math.random().toString(36).slice(2),xe="__reactFiber$"+si,He="__reactProps$"+si,Ii="__reactContainer$"+si,qa="__reactEvents$"+si,Qd="__reactListeners$"+si,Lc="__reactHandles$"+si,jc="__reactResources$"+si,Ni="__reactMarker$"+si;function Ga(i){delete i[xe],delete i[He],delete i[qa],delete i[Qd],delete i[Lc]}function Di(i){var r=i[xe];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ii]||o[xe]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=sT(i);i!==null;){if(o=i[xe])return o;i=sT(i)}return r}i=o,o=i.parentNode}return null}function Ln(i){if(i=i[xe]||i[Ii]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function xn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[jc];return r||(r=i[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Re(i){i[Ni]=!0}var Al=new Set,xl={};function Mi(i,r){Oi(i,r),Oi(i+"Capture",r)}function Oi(i,r){for(xl[i]=r,i=0;i<r.length;i++)Al.add(r[i])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Il={};function Uc(i){return we.call(Il,i)?!0:we.call(Cl,i)?!1:Rl.test(i)?Il[i]=!0:(Cl[i]=!0,!1)}function Ka(i,r,o){if(Uc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Rn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ce(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function js(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qt(i){if(!i._valueTracker){var r=js(i)?"checked":"value";i._valueTracker=Nl(i,r,""+i[r])}}function Xr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=js(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Pi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wr=/[\n"\\]/g;function gn(i){return i.replace(Wr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ya(i,r,o,u,d,g,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+qe(r)):i.value!==""+qe(r)&&(i.value=""+qe(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?Dl(i,T,qe(r)):o!=null?Dl(i,T,qe(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+qe(w):i.removeAttribute("name")}function zc(i,r,o,u,d,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Qt(i);return}o=o!=null?""+qe(o):"",r=r!=null?""+qe(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Qt(i)}function Dl(i,r,o){r==="number"&&Pi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Us(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+qe(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Bc(i,r,o){if(r!=null&&(r=""+qe(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+qe(o):""}function zs(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(le(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=qe(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Qt(i)}function yn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Fc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Fc.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Ml(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Vl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Vl(i,g,r[g])}function $a(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(i){return Bs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ri(){}var Ol=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fs=null,ki=null;function Jr(i){var r=Ln(i);if(r&&(i=r.stateNode)){var o=i[He]||null;t:switch(i=r.stateNode,r.type){case"input":if(Ya(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[He]||null;if(!d)throw Error(s(90));Ya(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Xr(u)}break t;case"textarea":Bc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Us(i,!!o.multiple,r,!1)}}}var Xa=!1;function Hs(i,r,o){if(Xa)return i(r,o);Xa=!0;try{var u=i(r);return u}finally{if(Xa=!1,(Fs!==null||ki!==null)&&(kh(),Fs&&(r=Fs,i=ki,ki=Fs=null,Jr(r),i)))for(r=0;r<i.length;r++)Jr(i[r])}}function ai(i,r){var o=i.stateNode;if(o===null)return null;var u=o[He]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zr=!1;if(Un)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Zr=!1}var Li=null,Pl=null,ta=null;function kl(){if(ta)return ta;var i,r=Pl,o=r.length,u,d="value"in Li?Li.value:Li.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&r[o-u]===d[g-u];u++);return ta=d.slice(i,1<u?1-u:void 0)}function ea(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function oi(){return!1}function Xe(i){function r(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ss:oi,this.isPropagationStopped=oi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),r}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Xe(rs),qs=_({},rs,{view:0,detail:0}),Ll=Xe(qs),Gs,Wa,Ui,Ja=_({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?(Gs=i.screenX-Ui.screenX,Wa=i.screenY-Ui.screenY):Wa=Gs=0,Ui=i),Gs)},movementY:function(i){return"movementY"in i?i.movementY:Wa}}),jl=Xe(Ja),na=_({},Ja,{dataTransfer:0}),qc=Xe(na),Gc=_({},qs,{relatedTarget:0}),ia=Xe(Gc),Ul=_({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=Xe(Ul),Za=_({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yc=Xe(Za),$c=_({},rs,{data:0}),zi=Xe($c),Qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Wc[i])?!!r[i]:!1}function Ks(){return Jc}var fn=_({},qs,{key:function(i){if(i.key){var r=Qc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ea(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(i){return i.type==="keypress"?ea(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ea(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Zc=Xe(fn),th=_({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=Xe(th),h=_({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),v=Xe(h),b=_({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Xe(b),G=_({},Ja,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Xe(G),ot=_({},rs,{newState:0,oldState:0}),xt=Xe(ot),_e=[9,13,27,32],Gt=Un&&"CompositionEvent"in window,ce=null;Un&&"documentMode"in document&&(ce=document.documentMode);var zn=Un&&"TextEvent"in window&&!ce,Bi=Un&&(!Gt||ce&&8<ce&&11>=ce),li=" ",ui=!1;function sa(i,r){switch(i){case"keyup":return _e.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function to(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var eo=!1;function BC(i,r){switch(i){case"compositionend":return to(r);case"keypress":return r.which!==32?null:(ui=!0,li);case"textInput":return i=r.data,i===li&&ui?null:i;default:return null}}function FC(i,r){if(eo)return i==="compositionend"||!Gt&&sa(i,r)?(i=kl(),ta=Pl=Li=null,eo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bi&&r.locale!=="ko"?null:r.data;default:return null}}var HC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!HC[i.type]:r==="textarea"}function lv(i,r,o,u){Fs?ki?ki.push(u):ki=[u]:Fs=u,r=Hh(r,"onChange"),0<r.length&&(o=new ji("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var zl=null,Bl=null;function qC(i){qE(i,0)}function eh(i){var r=xn(i);if(Xr(r))return i}function uv(i,r){if(i==="change")return r}var cv=!1;if(Un){var Xd;if(Un){var Wd="oninput"in document;if(!Wd){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),Wd=typeof hv.oninput=="function"}Xd=Wd}else Xd=!1;cv=Xd&&(!document.documentMode||9<document.documentMode)}function fv(){zl&&(zl.detachEvent("onpropertychange",dv),Bl=zl=null)}function dv(i){if(i.propertyName==="value"&&eh(Bl)){var r=[];lv(r,Bl,i,jn(i)),Hs(qC,r)}}function GC(i,r,o){i==="focusin"?(fv(),zl=r,Bl=o,zl.attachEvent("onpropertychange",dv)):i==="focusout"&&fv()}function KC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eh(Bl)}function YC(i,r){if(i==="click")return eh(r)}function $C(i,r){if(i==="input"||i==="change")return eh(r)}function QC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:QC;function Fl(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!we.call(r,d)||!Cn(i[d],r[d]))return!1}return!0}function mv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pv(i,r){var o=mv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=mv(o)}}function gv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?gv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Pi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Pi(i.document)}return r}function Jd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var XC=Un&&"documentMode"in document&&11>=document.documentMode,no=null,Zd=null,Hl=null,tm=!1;function vv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tm||no==null||no!==Pi(u)||(u=no,"selectionStart"in u&&Jd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hl&&Fl(Hl,u)||(Hl=u,u=Hh(Zd,"onSelect"),0<u.length&&(r=new ji("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=no)))}function ra(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var io={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},em={},_v={};Un&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function aa(i){if(em[i])return em[i];if(!io[i])return i;var r=io[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in _v)return em[i]=r[o];return i}var Ev=aa("animationend"),Tv=aa("animationiteration"),bv=aa("animationstart"),WC=aa("transitionrun"),JC=aa("transitionstart"),ZC=aa("transitioncancel"),Sv=aa("transitionend"),wv=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nm.push("scrollEnd");function ci(i,r){wv.set(i,r),Mi(r,[i])}var nh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],so=0,im=0;function ih(){for(var i=so,r=im=so=0;r<i;){var o=Bn[r];Bn[r++]=null;var u=Bn[r];Bn[r++]=null;var d=Bn[r];Bn[r++]=null;var g=Bn[r];if(Bn[r++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&Av(o,d,g)}}function sh(i,r,o,u){Bn[so++]=i,Bn[so++]=r,Bn[so++]=o,Bn[so++]=u,im|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function sm(i,r,o,u){return sh(i,r,o,u),rh(i)}function oa(i,r){return sh(i,null,null,r),rh(i)}function Av(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-ve(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function rh(i){if(50<hu)throw hu=0,dp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var ro={};function tI(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(i,r,o,u){return new tI(i,r,o,u)}function rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function os(i,r){var o=i.alternate;return o===null?(o=In(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function xv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ah(i,r,o,u,d,g){var T=0;if(u=i,typeof i=="function")rm(i)&&(T=1);else if(typeof i=="string")T=r2(i,o,ft.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=In(31,o,r,d),i.elementType=C,i.lanes=g,i;case k:return la(o.children,d,g,r);case j:T=8,d|=24;break;case O:return i=In(12,o,r,d|2),i.elementType=O,i.lanes=g,i;case at:return i=In(13,o,r,d),i.elementType=at,i.lanes=g,i;case ut:return i=In(19,o,r,d),i.elementType=ut,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:T=10;break t;case q:T=9;break t;case tt:T=11;break t;case N:T=14;break t;case R:T=16,u=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=In(T,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function la(i,r,o,u){return i=In(7,i,u,r),i.lanes=o,i}function am(i,r,o){return i=In(6,i,null,r),i.lanes=o,i}function Rv(i){var r=In(18,null,null,0);return r.stateNode=i,r}function om(i,r,o){return r=In(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Cv=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var o=Cv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:El(r)},Cv.set(i,r),r)}return{value:i,source:r,stack:El(r)}}var ao=[],oo=0,oh=null,ql=0,Hn=[],qn=0,Ys=null,Fi=1,Hi="";function ls(i,r){ao[oo++]=ql,ao[oo++]=oh,oh=i,ql=r}function Iv(i,r,o){Hn[qn++]=Fi,Hn[qn++]=Hi,Hn[qn++]=Ys,Ys=i;var u=Fi;i=Hi;var d=32-ve(u)-1;u&=~(1<<d),o+=1;var g=32-ve(r)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Fi=1<<32-ve(r)+d|o<<d|u,Hi=g+i}else Fi=1<<g|o<<d|u,Hi=i}function lm(i){i.return!==null&&(ls(i,1),Iv(i,1,0))}function um(i){for(;i===oh;)oh=ao[--oo],ao[oo]=null,ql=ao[--oo],ao[oo]=null;for(;i===Ys;)Ys=Hn[--qn],Hn[qn]=null,Hi=Hn[--qn],Hn[qn]=null,Fi=Hn[--qn],Hn[qn]=null}function Nv(i,r){Hn[qn++]=Fi,Hn[qn++]=Hi,Hn[qn++]=Ys,Fi=r.id,Hi=r.overflow,Ys=i}var We=null,re=null,Ut=!1,$s=null,Gn=!1,cm=Error(s(519));function Qs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Fn(r,i)),cm}function Dv(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[xe]=i,r[He]=u,o){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(o=0;o<du.length;o++)Vt(du[o],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),zc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),zs(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||$E(r.textContent,o)?(u.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),u.onScroll!=null&&Vt("scroll",r),u.onScrollEnd!=null&&Vt("scrollend",r),u.onClick!=null&&(r.onclick=ri),r=!0):r=!1,r||Qs(i,!0)}function Vv(i){for(We=i.return;We;)switch(We.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:We=We.return}}function lo(i){if(i!==We)return!1;if(!Ut)return Vv(i),Ut=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Cp(i.type,i.memoizedProps)),o=!o),o&&re&&Qs(i),Vv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));re=iT(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));re=iT(i)}else r===27?(r=re,ur(i.type)?(i=Mp,Mp=null,re=i):re=r):re=We?Yn(i.stateNode.nextSibling):null;return!0}function ua(){re=We=null,Ut=!1}function hm(){var i=$s;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),$s=null),i}function Gl(i){$s===null?$s=[i]:$s.push(i)}var fm=z(null),ca=null,us=null;function Xs(i,r,o){lt(fm,r._currentValue),r._currentValue=o}function cs(i){i._currentValue=fm.current,it(fm)}function dm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function mm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var M=0;M<r.length;M++)if(w.context===r[M]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),dm(g.return,o,i),u||(T=null);break t}g=w.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),dm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function uo(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=d.type;Cn(d.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(d===zt.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}d=d.return}i!==null&&mm(r,i,o,u),r.flags|=262144}function lh(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ha(i){ca=i,us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return Mv(ca,i)}function uh(i,r){return ca===null&&ha(i),Mv(i,r)}function Mv(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},us===null){if(i===null)throw Error(s(308));us=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else us=us.next=r;return o}var eI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},nI=e.unstable_scheduleCallback,iI=e.unstable_NormalPriority,Ie={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pm(){return{controller:new eI,data:new Map,refCount:0}}function Kl(i){i.refCount--,i.refCount===0&&nI(iI,function(){i.controller.abort()})}var Yl=null,gm=0,co=0,ho=null;function sI(i,r){if(Yl===null){var o=Yl=[];gm=0,co=_p(),ho={status:"pending",value:void 0,then:function(u){o.push(u)}}}return gm++,r.then(Ov,Ov),r}function Ov(){if(--gm===0&&Yl!==null){ho!==null&&(ho.status="fulfilled");var i=Yl;Yl=null,co=0,ho=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function rI(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Pv=Q.S;Q.S=function(i,r){vE=hn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&sI(i,r),Pv!==null&&Pv(i,r)};var fa=z(null);function ym(){var i=fa.current;return i!==null?i:ne.pooledCache}function ch(i,r){r===null?lt(fa,fa.current):lt(fa,r.pool)}function kv(){var i=ym();return i===null?null:{parent:Ie._currentValue,pool:i}}var fo=Error(s(460)),vm=Error(s(474)),hh=Error(s(542)),fh={then:function(){}};function Lv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function jv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ri,ri),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,zv(i),i;default:if(typeof r.status=="string")r.then(ri,ri);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,zv(i),i}throw ma=r,fo}}function da(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ma=o,fo):o}}var ma=null;function Uv(){if(ma===null)throw Error(s(459));var i=ma;return ma=null,i}function zv(i){if(i===fo||i===hh)throw Error(s(483))}var mo=null,$l=0;function dh(i){var r=$l;return $l+=1,mo===null&&(mo=[]),jv(mo,i,r)}function Ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function mh(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Bv(i){function r(H,U){if(i){var K=H.deletions;K===null?(H.deletions=[U],H.flags|=16):K.push(U)}}function o(H,U){if(!i)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=os(H,U),H.index=0,H.sibling=null,H}function g(H,U,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<U?(H.flags|=67108866,U):K):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function w(H,U,K,Z){return U===null||U.tag!==6?(U=am(K,H.mode,Z),U.return=H,U):(U=d(U,K),U.return=H,U)}function M(H,U,K,Z){var yt=K.type;return yt===k?J(H,U,K.props.children,Z,K.key):U!==null&&(U.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&da(yt)===U.type)?(U=d(U,K.props),Ql(U,K),U.return=H,U):(U=ah(K.type,K.key,K.props,null,H.mode,Z),Ql(U,K),U.return=H,U)}function Y(H,U,K,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=om(K,H.mode,Z),U.return=H,U):(U=d(U,K.children||[]),U.return=H,U)}function J(H,U,K,Z,yt){return U===null||U.tag!==7?(U=la(K,H.mode,Z,yt),U.return=H,U):(U=d(U,K),U.return=H,U)}function nt(H,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=am(""+U,H.mode,K),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return K=ah(U.type,U.key,U.props,null,H.mode,K),Ql(K,U),K.return=H,K;case I:return U=om(U,H.mode,K),U.return=H,U;case R:return U=da(U),nt(H,U,K)}if(le(U)||F(U))return U=la(U,H.mode,K,null),U.return=H,U;if(typeof U.then=="function")return nt(H,dh(U),K);if(U.$$typeof===B)return nt(H,uh(H,U),K);mh(H,U)}return null}function $(H,U,K,Z){var yt=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return yt!==null?null:w(H,U,""+K,Z);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return K.key===yt?M(H,U,K,Z):null;case I:return K.key===yt?Y(H,U,K,Z):null;case R:return K=da(K),$(H,U,K,Z)}if(le(K)||F(K))return yt!==null?null:J(H,U,K,Z,null);if(typeof K.then=="function")return $(H,U,dh(K),Z);if(K.$$typeof===B)return $(H,U,uh(H,K),Z);mh(H,K)}return null}function W(H,U,K,Z,yt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return H=H.get(K)||null,w(U,H,""+Z,yt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return H=H.get(Z.key===null?K:Z.key)||null,M(U,H,Z,yt);case I:return H=H.get(Z.key===null?K:Z.key)||null,Y(U,H,Z,yt);case R:return Z=da(Z),W(H,U,K,Z,yt)}if(le(Z)||F(Z))return H=H.get(K)||null,J(U,H,Z,yt,null);if(typeof Z.then=="function")return W(H,U,K,dh(Z),yt);if(Z.$$typeof===B)return W(H,U,K,uh(U,Z),yt);mh(U,Z)}return null}function mt(H,U,K,Z){for(var yt=null,Ft=null,gt=U,Nt=U=0,Pt=null;gt!==null&&Nt<K.length;Nt++){gt.index>Nt?(Pt=gt,gt=null):Pt=gt.sibling;var Ht=$(H,gt,K[Nt],Z);if(Ht===null){gt===null&&(gt=Pt);break}i&&gt&&Ht.alternate===null&&r(H,gt),U=g(Ht,U,Nt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht,gt=Pt}if(Nt===K.length)return o(H,gt),Ut&&ls(H,Nt),yt;if(gt===null){for(;Nt<K.length;Nt++)gt=nt(H,K[Nt],Z),gt!==null&&(U=g(gt,U,Nt),Ft===null?yt=gt:Ft.sibling=gt,Ft=gt);return Ut&&ls(H,Nt),yt}for(gt=u(gt);Nt<K.length;Nt++)Pt=W(gt,H,Nt,K[Nt],Z),Pt!==null&&(i&&Pt.alternate!==null&&gt.delete(Pt.key===null?Nt:Pt.key),U=g(Pt,U,Nt),Ft===null?yt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&gt.forEach(function(mr){return r(H,mr)}),Ut&&ls(H,Nt),yt}function _t(H,U,K,Z){if(K==null)throw Error(s(151));for(var yt=null,Ft=null,gt=U,Nt=U=0,Pt=null,Ht=K.next();gt!==null&&!Ht.done;Nt++,Ht=K.next()){gt.index>Nt?(Pt=gt,gt=null):Pt=gt.sibling;var mr=$(H,gt,Ht.value,Z);if(mr===null){gt===null&&(gt=Pt);break}i&&gt&&mr.alternate===null&&r(H,gt),U=g(mr,U,Nt),Ft===null?yt=mr:Ft.sibling=mr,Ft=mr,gt=Pt}if(Ht.done)return o(H,gt),Ut&&ls(H,Nt),yt;if(gt===null){for(;!Ht.done;Nt++,Ht=K.next())Ht=nt(H,Ht.value,Z),Ht!==null&&(U=g(Ht,U,Nt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return Ut&&ls(H,Nt),yt}for(gt=u(gt);!Ht.done;Nt++,Ht=K.next())Ht=W(gt,H,Nt,Ht.value,Z),Ht!==null&&(i&&Ht.alternate!==null&&gt.delete(Ht.key===null?Nt:Ht.key),U=g(Ht,U,Nt),Ft===null?yt=Ht:Ft.sibling=Ht,Ft=Ht);return i&&gt.forEach(function(g2){return r(H,g2)}),Ut&&ls(H,Nt),yt}function ee(H,U,K,Z){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case A:t:{for(var yt=K.key;U!==null;){if(U.key===yt){if(yt=K.type,yt===k){if(U.tag===7){o(H,U.sibling),Z=d(U,K.props.children),Z.return=H,H=Z;break t}}else if(U.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===R&&da(yt)===U.type){o(H,U.sibling),Z=d(U,K.props),Ql(Z,K),Z.return=H,H=Z;break t}o(H,U);break}else r(H,U);U=U.sibling}K.type===k?(Z=la(K.props.children,H.mode,Z,K.key),Z.return=H,H=Z):(Z=ah(K.type,K.key,K.props,null,H.mode,Z),Ql(Z,K),Z.return=H,H=Z)}return T(H);case I:t:{for(yt=K.key;U!==null;){if(U.key===yt)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){o(H,U.sibling),Z=d(U,K.children||[]),Z.return=H,H=Z;break t}else{o(H,U);break}else r(H,U);U=U.sibling}Z=om(K,H.mode,Z),Z.return=H,H=Z}return T(H);case R:return K=da(K),ee(H,U,K,Z)}if(le(K))return mt(H,U,K,Z);if(F(K)){if(yt=F(K),typeof yt!="function")throw Error(s(150));return K=yt.call(K),_t(H,U,K,Z)}if(typeof K.then=="function")return ee(H,U,dh(K),Z);if(K.$$typeof===B)return ee(H,U,uh(H,K),Z);mh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(o(H,U.sibling),Z=d(U,K),Z.return=H,H=Z):(o(H,U),Z=am(K,H.mode,Z),Z.return=H,H=Z),T(H)):o(H,U)}return function(H,U,K,Z){try{$l=0;var yt=ee(H,U,K,Z);return mo=null,yt}catch(gt){if(gt===fo||gt===hh)throw gt;var Ft=In(29,gt,null,H.mode);return Ft.lanes=Z,Ft.return=H,Ft}finally{}}}var pa=Bv(!0),Fv=Bv(!1),Ws=!1;function _m(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Em(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=rh(i),Av(i,null,o),r}return sh(i,u,r,o),rh(i)}function Xl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Sl(i,o)}}function Tm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var bm=!1;function Wl(){if(bm){var i=ho;if(i!==null)throw i}}function Jl(i,r,o,u){bm=!1;var d=i.updateQueue;Ws=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var M=w,Y=M.next;M.next=null,T===null?g=Y:T.next=Y,T=M;var J=i.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==T&&(w===null?J.firstBaseUpdate=Y:w.next=Y,J.lastBaseUpdate=M))}if(g!==null){var nt=d.baseState;T=0,J=Y=M=null,w=g;do{var $=w.lane&-536870913,W=$!==w.lane;if(W?(Ot&$)===$:(u&$)===$){$!==0&&$===co&&(bm=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var mt=i,_t=w;$=r;var ee=o;switch(_t.tag){case 1:if(mt=_t.payload,typeof mt=="function"){nt=mt.call(ee,nt,$);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=_t.payload,$=typeof mt=="function"?mt.call(ee,nt,$):mt,$==null)break t;nt=_({},nt,$);break t;case 2:Ws=!0}}$=w.callback,$!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[$]:W.push($))}else W={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(Y=J=W,M=nt):J=J.next=W,T|=$;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;W=w,w=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);J===null&&(M=nt),d.baseState=M,d.firstBaseUpdate=Y,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),sr|=T,i.lanes=T,i.memoizedState=nt}}function Hv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function qv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Hv(o[i],r)}var po=z(null),ph=z(0);function Gv(i,r){i=_s,lt(ph,i),lt(po,r),_s=i|r.baseLanes}function Sm(){lt(ph,_s),lt(po,po.current)}function wm(){_s=ph.current,it(po),it(ph)}var Nn=z(null),Kn=null;function tr(i){var r=i.alternate;lt(Ee,Ee.current&1),lt(Nn,i),Kn===null&&(r===null||po.current!==null||r.memoizedState!==null)&&(Kn=i)}function Am(i){lt(Ee,Ee.current),lt(Nn,i),Kn===null&&(Kn=i)}function Kv(i){i.tag===22?(lt(Ee,Ee.current),lt(Nn,i),Kn===null&&(Kn=i)):er()}function er(){lt(Ee,Ee.current),lt(Nn,Nn.current)}function Dn(i){it(Nn),Kn===i&&(Kn=null),it(Ee)}var Ee=z(0);function gh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Dp(o)||Vp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hs=0,Rt=null,Zt=null,Ne=null,yh=!1,go=!1,ga=!1,vh=0,Zl=0,yo=null,aI=0;function pe(){throw Error(s(321))}function xm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function Rm(i,r,o,u,d,g){return hs=g,Rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?I_:Fm,ga=!1,g=o(u,d),ga=!1,go&&(g=$v(r,o,u,d)),Yv(i),g}function Yv(i){Q.H=nu;var r=Zt!==null&&Zt.next!==null;if(hs=0,Ne=Zt=Rt=null,yh=!1,Zl=0,yo=null,r)throw Error(s(300));i===null||De||(i=i.dependencies,i!==null&&lh(i)&&(De=!0))}function $v(i,r,o,u){Rt=i;var d=0;do{if(go&&(yo=null),Zl=0,go=!1,25<=d)throw Error(s(301));if(d+=1,Ne=Zt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=N_,g=r(o,u)}while(go);return g}function oI(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?tu(r):r,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(Rt.flags|=1024),r}function Cm(){var i=vh!==0;return vh=0,i}function Im(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Nm(i){if(yh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}yh=!1}hs=0,Ne=Zt=Rt=null,go=!1,Zl=vh=0,yo=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Rt.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function Te(){if(Zt===null){var i=Rt.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var r=Ne===null?Rt.memoizedState:Ne.next;if(r!==null)Ne=r,Zt=i;else{if(i===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ne===null?Rt.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(i){var r=Zl;return Zl+=1,yo===null&&(yo=[]),i=jv(yo,i,r),r=Rt,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?I_:Fm),i}function Eh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tu(i);if(i.$$typeof===B)return Je(i)}throw Error(s(438,String(i)))}function Dm(i){var r=null,o=Rt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=_h(),Rt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=L;return r.index++,o}function fs(i,r){return typeof r=="function"?r(i):r}function Th(i){var r=Te();return Vm(r,Zt,i)}function Vm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var w=T=null,M=null,Y=r,J=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Ot&nt)===nt:(hs&nt)===nt){var $=Y.revertLane;if($===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===co&&(J=!0);else if((hs&$)===$){Y=Y.next,$===co&&(J=!0);continue}else nt={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(w=M=nt,T=g):M=M.next=nt,Rt.lanes|=$,sr|=$;nt=Y.action,ga&&o(g,nt),g=Y.hasEagerState?Y.eagerState:o(g,nt)}else $={lane:nt,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(w=M=$,T=g):M=M.next=$,Rt.lanes|=nt,sr|=nt;Y=Y.next}while(Y!==null&&Y!==r);if(M===null?T=g:M.next=w,!Cn(g,i.memoizedState)&&(De=!0,J&&(o=ho,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=M,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Mm(i){var r=Te(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);Cn(g,r.memoizedState)||(De=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Qv(i,r,o){var u=Rt,d=Te(),g=Ut;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!Cn((Zt||d).memoizedState,o);if(T&&(d.memoizedState=o,De=!0),d=d.queue,km(Jv.bind(null,u,d,i),[i]),d.getSnapshot!==r||T||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,vo(9,{destroy:void 0},Wv.bind(null,u,d,o,r),null),ne===null)throw Error(s(349));g||(hs&127)!==0||Xv(u,r,o)}return o}function Xv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Rt.updateQueue,r===null?(r=_h(),Rt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Wv(i,r,o,u){r.value=o,r.getSnapshot=u,Zv(r)&&t_(i)}function Jv(i,r,o){return o(function(){Zv(r)&&t_(i)})}function Zv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function t_(i){var r=oa(i,2);r!==null&&bn(r,i,2)}function Om(i){var r=dn();if(typeof i=="function"){var o=i;if(i=o(),ga){kn(!0);try{o()}finally{kn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:i},r}function e_(i,r,o,u){return i.baseState=o,Vm(i,Zt,typeof u=="function"?u:fs)}function lI(i,r,o,u,d){if(wh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,n_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function n_(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=Q.T,T={};Q.T=T;try{var w=o(d,u),M=Q.S;M!==null&&M(T,w),i_(i,r,w)}catch(Y){Pm(i,r,Y)}finally{g!==null&&T.types!==null&&(g.types=T.types),Q.T=g}}else try{g=o(d,u),i_(i,r,g)}catch(Y){Pm(i,r,Y)}}function i_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){s_(i,r,u)},function(u){return Pm(i,r,u)}):s_(i,r,o)}function s_(i,r,o){r.status="fulfilled",r.value=o,r_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,n_(i,o)))}function Pm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,r_(r),r=r.next;while(r!==u)}i.action=null}function r_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function a_(i,r){return r}function o_(i,r){if(Ut){var o=ne.formState;if(o!==null){t:{var u=Rt;if(Ut){if(re){e:{for(var d=re,g=Gn;d.nodeType!==8;){if(!g){d=null;break e}if(d=Yn(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){re=Yn(d.nextSibling),u=d.data==="F!";break t}}Qs(u)}u=!1}u&&(r=o[0])}}return o=dn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a_,lastRenderedState:r},o.queue=u,o=x_.bind(null,Rt,u),u.dispatch=o,u=Om(!1),g=Bm.bind(null,Rt,!1,u.queue),u=dn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=lI.bind(null,Rt,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function l_(i){var r=Te();return u_(r,Zt,i)}function u_(i,r,o){if(r=Vm(i,r,a_)[0],i=Th(fs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=tu(r)}catch(T){throw T===fo?hh:T}else u=r;r=Te();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Rt.flags|=2048,vo(9,{destroy:void 0},uI.bind(null,d,o),null)),[u,g,i]}function uI(i,r){i.action=r}function c_(i){var r=Te(),o=Zt;if(o!==null)return u_(r,o,i);Te(),r=r.memoizedState,o=Te();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function vo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Rt.updateQueue,r===null&&(r=_h(),Rt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function h_(){return Te().memoizedState}function bh(i,r,o,u){var d=dn();Rt.flags|=i,d.memoizedState=vo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Sh(i,r,o,u){var d=Te();u=u===void 0?null:u;var g=d.memoizedState.inst;Zt!==null&&u!==null&&xm(u,Zt.memoizedState.deps)?d.memoizedState=vo(r,g,o,u):(Rt.flags|=i,d.memoizedState=vo(1|r,g,o,u))}function f_(i,r){bh(8390656,8,i,r)}function km(i,r){Sh(2048,8,i,r)}function cI(i){Rt.flags|=4;var r=Rt.updateQueue;if(r===null)r=_h(),Rt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function d_(i){var r=Te().memoizedState;return cI({ref:r,nextImpl:i}),function(){if((Kt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function m_(i,r){return Sh(4,2,i,r)}function p_(i,r){return Sh(4,4,i,r)}function g_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function y_(i,r,o){o=o!=null?o.concat([i]):null,Sh(4,4,g_.bind(null,r,i),o)}function Lm(){}function v_(i,r){var o=Te();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&xm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function __(i,r){var o=Te();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&xm(r,u[1]))return u[0];if(u=i(),ga){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,r],u}function jm(i,r,o){return o===void 0||(hs&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=EE(),Rt.lanes|=i,sr|=i,o)}function E_(i,r,o,u){return Cn(o,r)?o:po.current!==null?(i=jm(i,o,u),Cn(i,r)||(De=!0),i):(hs&42)===0||(hs&1073741824)!==0&&(Ot&261930)===0?(De=!0,i.memoizedState=o):(i=EE(),Rt.lanes|=i,sr|=i,r)}function T_(i,r,o,u,d){var g=rt.p;rt.p=g!==0&&8>g?g:8;var T=Q.T,w={};Q.T=w,Bm(i,!1,r,o);try{var M=d(),Y=Q.S;if(Y!==null&&Y(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=rI(M,u);eu(i,r,J,On(i))}else eu(i,r,u,On(i))}catch(nt){eu(i,r,{then:function(){},status:"rejected",reason:nt},On())}finally{rt.p=g,T!==null&&w.types!==null&&(T.types=w.types),Q.T=T}}function hI(){}function Um(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=b_(i).queue;T_(i,d,r,dt,o===null?hI:function(){return S_(i),o(u)})}function b_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:dt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function S_(i){var r=b_(i);r.next===null&&(r=i.alternate.memoizedState),eu(i,r.next.queue,{},On())}function zm(){return Je(vu)}function w_(){return Te().memoizedState}function A_(){return Te().memoizedState}function fI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();i=Js(o);var u=Zs(r,i,o);u!==null&&(bn(u,r,o),Xl(u,r,o)),r={cache:pm()},i.payload=r;return}r=r.return}}function dI(i,r,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wh(i)?R_(r,o):(o=sm(i,r,o,u),o!==null&&(bn(o,i,u),C_(o,r,u)))}function x_(i,r,o){var u=On();eu(i,r,o,u)}function eu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(i))R_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var T=r.lastRenderedState,w=g(T,o);if(d.hasEagerState=!0,d.eagerState=w,Cn(w,T))return sh(i,r,d,0),ne===null&&ih(),!1}catch{}finally{}if(o=sm(i,r,d,u),o!==null)return bn(o,i,u),C_(o,r,u),!0}return!1}function Bm(i,r,o,u){if(u={lane:2,revertLane:_p(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},wh(i)){if(r)throw Error(s(479))}else r=sm(i,o,u,2),r!==null&&bn(r,i,2)}function wh(i){var r=i.alternate;return i===Rt||r!==null&&r===Rt}function R_(i,r){go=yh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function C_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Sl(i,o)}}var nu={readContext:Je,use:Eh,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};nu.useEffectEvent=pe;var I_={readContext:Je,use:Eh,useCallback:function(i,r){return dn().memoizedState=[i,r===void 0?null:r],i},useContext:Je,useEffect:f_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,bh(4194308,4,g_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return bh(4194308,4,i,r)},useInsertionEffect:function(i,r){bh(4,2,i,r)},useMemo:function(i,r){var o=dn();r=r===void 0?null:r;var u=i();if(ga){kn(!0);try{i()}finally{kn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=dn();if(o!==void 0){var d=o(r);if(ga){kn(!0);try{o(r)}finally{kn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=dI.bind(null,Rt,i),[u.memoizedState,i]},useRef:function(i){var r=dn();return i={current:i},r.memoizedState=i},useState:function(i){i=Om(i);var r=i.queue,o=x_.bind(null,Rt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Lm,useDeferredValue:function(i,r){var o=dn();return jm(o,i,r)},useTransition:function(){var i=Om(!1);return i=T_.bind(null,Rt,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Rt,d=dn();if(Ut){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ne===null)throw Error(s(349));(Ot&127)!==0||Xv(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,f_(Jv.bind(null,u,g,i),[i]),u.flags|=2048,vo(9,{destroy:void 0},Wv.bind(null,u,g,o,r),null),o},useId:function(){var i=dn(),r=ne.identifierPrefix;if(Ut){var o=Hi,u=Fi;o=(u&~(1<<32-ve(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=vh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=aI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:zm,useFormState:o_,useActionState:o_,useOptimistic:function(i){var r=dn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Bm.bind(null,Rt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Dm,useCacheRefresh:function(){return dn().memoizedState=fI.bind(null,Rt)},useEffectEvent:function(i){var r=dn(),o={impl:i};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Fm={readContext:Je,use:Eh,useCallback:v_,useContext:Je,useEffect:km,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:__,useReducer:Th,useRef:h_,useState:function(){return Th(fs)},useDebugValue:Lm,useDeferredValue:function(i,r){var o=Te();return E_(o,Zt.memoizedState,i,r)},useTransition:function(){var i=Th(fs)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:tu(i),r]},useSyncExternalStore:Qv,useId:w_,useHostTransitionStatus:zm,useFormState:l_,useActionState:l_,useOptimistic:function(i,r){var o=Te();return e_(o,Zt,i,r)},useMemoCache:Dm,useCacheRefresh:A_};Fm.useEffectEvent=d_;var N_={readContext:Je,use:Eh,useCallback:v_,useContext:Je,useEffect:km,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:__,useReducer:Mm,useRef:h_,useState:function(){return Mm(fs)},useDebugValue:Lm,useDeferredValue:function(i,r){var o=Te();return Zt===null?jm(o,i,r):E_(o,Zt.memoizedState,i,r)},useTransition:function(){var i=Mm(fs)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:tu(i),r]},useSyncExternalStore:Qv,useId:w_,useHostTransitionStatus:zm,useFormState:c_,useActionState:c_,useOptimistic:function(i,r){var o=Te();return Zt!==null?e_(o,Zt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Dm,useCacheRefresh:A_};N_.useEffectEvent=d_;function Hm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var qm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=On(),d=Js(u);d.payload=r,o!=null&&(d.callback=o),r=Zs(i,d,u),r!==null&&(bn(r,i,u),Xl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=On(),d=Js(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=Zs(i,d,u),r!==null&&(bn(r,i,u),Xl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=On(),u=Js(o);u.tag=2,r!=null&&(u.callback=r),r=Zs(i,u,o),r!==null&&(bn(r,i,o),Xl(r,i,o))}};function D_(i,r,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):r.prototype&&r.prototype.isPureReactComponent?!Fl(o,u)||!Fl(d,g):!0}function V_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&qm.enqueueReplaceState(r,r.state,null)}function ya(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function M_(i){nh(i)}function O_(i){console.error(i)}function P_(i){nh(i)}function Ah(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function k_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gm(i,r,o){return o=Js(o),o.tag=3,o.payload={element:null},o.callback=function(){Ah(i,r)},o}function L_(i){return i=Js(i),i.tag=3,i}function j_(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){k_(r,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){k_(r,o,u),typeof d!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function mI(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&uo(r,o,d,!0),o=Nn.current,o!==null){switch(o.tag){case 31:case 13:return Kn===null?Lh():o.alternate===null&&ge===0&&(ge=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===fh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),gp(i,u,d)),!1;case 22:return o.flags|=65536,u===fh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),gp(i,u,d)),!1}throw Error(s(435,o.tag))}return gp(i,u,d),Lh(),!1}if(Ut)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==cm&&(i=Error(s(422),{cause:u}),Gl(Fn(i,o)))):(u!==cm&&(r=Error(s(423),{cause:u}),Gl(Fn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Fn(u,o),d=Gm(i.stateNode,u,d),Tm(i,d),ge!==4&&(ge=2)),!1;var g=Error(s(520),{cause:u});if(g=Fn(g,o),cu===null?cu=[g]:cu.push(g),ge!==4&&(ge=2),r===null)return!0;u=Fn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Gm(o.stateNode,u,i),Tm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=L_(d),j_(d,i,o,u),Tm(o,d),!1}o=o.return}while(o!==null);return!1}var Km=Error(s(461)),De=!1;function Ze(i,r,o,u){r.child=i===null?Fv(r,null,o,u):pa(r,i.child,o,u)}function U_(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return ha(r),u=Rm(i,r,o,T,g,d),w=Cm(),i!==null&&!De?(Im(i,r,d),ds(i,r,d)):(Ut&&w&&lm(r),r.flags|=1,Ze(i,r,u,d),r.child)}function z_(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!rm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,B_(i,r,g,u,d)):(i=ah(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!tp(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Fl,o(T,u)&&i.ref===r.ref)return ds(i,r,d)}return r.flags|=1,i=os(g,u),i.ref=r.ref,i.return=r,r.child=i}function B_(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(Fl(g,u)&&i.ref===r.ref)if(De=!1,r.pendingProps=u=g,tp(i,d))(i.flags&131072)!==0&&(De=!0);else return r.lanes=i.lanes,ds(i,r,d)}return Ym(i,r,o,u,d)}function F_(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return H_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ch(r,g!==null?g.cachePool:null),g!==null?Gv(r,g):Sm(),Kv(r);else return u=r.lanes=536870912,H_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(ch(r,g.cachePool),Gv(r,g),er(),r.memoizedState=null):(i!==null&&ch(r,null),Sm(),er());return Ze(i,r,d,o),r.child}function iu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function H_(i,r,o,u,d){var g=ym();return g=g===null?null:{parent:Ie._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&ch(r,null),Sm(),Kv(r),i!==null&&uo(i,r,u,!0),r.childLanes=d,null}function xh(i,r){return r=Ch({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function q_(i,r,o){return pa(r,i.child,null,o),i=xh(r,r.pendingProps),i.flags|=2,Dn(r),r.memoizedState=null,i}function pI(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ut){if(u.mode==="hidden")return i=xh(r,u),r.lanes=536870912,iu(null,i);if(Am(r),(i=re)?(i=nT(i,Gn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},o=Rv(i),o.return=r,r.child=o,We=r,re=null)):i=null,i===null)throw Qs(r);return r.lanes=536870912,null}return xh(r,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Am(r),d)if(r.flags&256)r.flags&=-257,r=q_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(De||uo(i,r,o,!1),d=(o&i.childLanes)!==0,De||d){if(u=ne,u!==null&&(T=wl(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,oa(i,T),bn(u,i,T),Km;Lh(),r=q_(i,r,o)}else i=g.treeContext,re=Yn(T.nextSibling),We=r,Ut=!0,$s=null,Gn=!1,i!==null&&Nv(r,i),r=xh(r,u),r.flags|=4096;return r}return i=os(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Rh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Ym(i,r,o,u,d){return ha(r),o=Rm(i,r,o,u,void 0,d),u=Cm(),i!==null&&!De?(Im(i,r,d),ds(i,r,d)):(Ut&&u&&lm(r),r.flags|=1,Ze(i,r,o,d),r.child)}function G_(i,r,o,u,d,g){return ha(r),r.updateQueue=null,o=$v(r,u,o,d),Yv(i),u=Cm(),i!==null&&!De?(Im(i,r,g),ds(i,r,g)):(Ut&&u&&lm(r),r.flags|=1,Ze(i,r,o,g),r.child)}function K_(i,r,o,u,d){if(ha(r),r.stateNode===null){var g=ro,T=o.contextType;typeof T=="object"&&T!==null&&(g=Je(T)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},_m(r),T=o.contextType,g.context=typeof T=="object"&&T!==null?Je(T):ro,g.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Hm(r,o,T,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&qm.enqueueReplaceState(g,g.state,null),Jl(r,u,g,d),Wl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,M=ya(o,w);g.props=M;var Y=g.context,J=o.contextType;T=ro,typeof J=="object"&&J!==null&&(T=Je(J));var nt=o.getDerivedStateFromProps;J=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Y!==T)&&V_(r,g,u,T),Ws=!1;var $=r.memoizedState;g.state=$,Jl(r,u,g,d),Wl(),Y=r.memoizedState,w||$!==Y||Ws?(typeof nt=="function"&&(Hm(r,o,nt,u),Y=r.memoizedState),(M=Ws||D_(r,o,M,u,$,Y,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),g.props=u,g.state=Y,g.context=T,u=M):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Em(i,r),T=r.memoizedProps,J=ya(o,T),g.props=J,nt=r.pendingProps,$=g.context,Y=o.contextType,M=ro,typeof Y=="object"&&Y!==null&&(M=Je(Y)),w=o.getDerivedStateFromProps,(Y=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==nt||$!==M)&&V_(r,g,u,M),Ws=!1,$=r.memoizedState,g.state=$,Jl(r,u,g,d),Wl();var W=r.memoizedState;T!==nt||$!==W||Ws||i!==null&&i.dependencies!==null&&lh(i.dependencies)?(typeof w=="function"&&(Hm(r,o,w,u),W=r.memoizedState),(J=Ws||D_(r,o,J,u,$,W,M)||i!==null&&i.dependencies!==null&&lh(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,M)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=M,u=J):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Rh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=pa(r,i.child,null,d),r.child=pa(r,null,o,d)):Ze(i,r,o,d),r.memoizedState=g.state,i=r.child):i=ds(i,r,d),i}function Y_(i,r,o,u){return ua(),r.flags|=256,Ze(i,r,o,u),r.child}var $m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(i){return{baseLanes:i,cachePool:kv()}}function Xm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Mn),i}function $_(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(Ee.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ut){if(d?tr(r):er(),(i=re)?(i=nT(i,Gn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ys!==null?{id:Fi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},o=Rv(i),o.return=r,r.child=o,We=r,re=null)):i=null,i===null)throw Qs(r);return Vp(i)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,d?(er(),d=r.mode,w=Ch({mode:"hidden",children:w},d),u=la(u,d,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=Qm(o),u.childLanes=Xm(i,T,o),r.memoizedState=$m,iu(null,u)):(tr(r),Wm(r,w))}var M=i.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(g)r.flags&256?(tr(r),r.flags&=-257,r=Jm(i,r,o)):r.memoizedState!==null?(er(),r.child=i.child,r.flags|=128,r=null):(er(),w=u.fallback,d=r.mode,u=Ch({mode:"visible",children:u.children},d),w=la(w,d,o,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,pa(r,i.child,null,o),u=r.child,u.memoizedState=Qm(o),u.childLanes=Xm(i,T,o),r.memoizedState=$m,r=iu(null,u));else if(tr(r),Vp(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(s(419)),u.stack="",u.digest=T,Gl({value:u,source:null,stack:null}),r=Jm(i,r,o)}else if(De||uo(i,r,o,!1),T=(o&i.childLanes)!==0,De||T){if(T=ne,T!==null&&(u=wl(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,oa(i,u),bn(T,i,u),Km;Dp(w)||Lh(),r=Jm(i,r,o)}else Dp(w)?(r.flags|=192,r.child=i.child,r=null):(i=M.treeContext,re=Yn(w.nextSibling),We=r,Ut=!0,$s=null,Gn=!1,i!==null&&Nv(r,i),r=Wm(r,u.children),r.flags|=4096);return r}return d?(er(),w=u.fallback,d=r.mode,M=i.child,Y=M.sibling,u=os(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,Y!==null?w=os(Y,w):(w=la(w,d,o,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,iu(null,u),u=r.child,w=i.child.memoizedState,w===null?w=Qm(o):(d=w.cachePool,d!==null?(M=Ie._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=kv(),w={baseLanes:w.baseLanes|o,cachePool:d}),u.memoizedState=w,u.childLanes=Xm(i,T,o),r.memoizedState=$m,iu(i.child,u)):(tr(r),o=i.child,i=o.sibling,o=os(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Wm(i,r){return r=Ch({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ch(i,r){return i=In(22,i,null,r),i.lanes=0,i}function Jm(i,r,o){return pa(r,i.child,null,o),i=Wm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Q_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),dm(i.return,r,o)}function Zm(i,r,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function X_(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=Ee.current,w=(T&2)!==0;if(w?(T=T&1|2,r.flags|=128):T&=1,lt(Ee,T),Ze(i,r,u,o),u=Ut?ql:0,!w&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Q_(i,o,r);else if(i.tag===19)Q_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&gh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Zm(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&gh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Zm(r,!0,o,null,g,u);break;case"together":Zm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ds(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(uo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=os(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=os(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function tp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&lh(i)))}function gI(i,r,o){switch(r.tag){case 3:je(r,r.stateNode.containerInfo),Xs(r,Ie,i.memoizedState.cache),ua();break;case 27:case 5:Hr(r);break;case 4:je(r,r.stateNode.containerInfo);break;case 10:Xs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Am(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?$_(i,r,o):(tr(r),i=ds(i,r,o),i!==null?i.sibling:null);tr(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(uo(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return X_(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),lt(Ee,Ee.current),u)break;return null;case 22:return r.lanes=0,F_(i,r,o,r.pendingProps);case 24:Xs(r,Ie,i.memoizedState.cache)}return ds(i,r,o)}function W_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)De=!0;else{if(!tp(i,o)&&(r.flags&128)===0)return De=!1,gI(i,r,o);De=(i.flags&131072)!==0}else De=!1,Ut&&(r.flags&1048576)!==0&&Iv(r,ql,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=da(r.elementType),r.type=i,typeof i=="function")rm(i)?(u=ya(i,u),r.tag=1,r=K_(null,r,i,u,o)):(r.tag=0,r=Ym(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===tt){r.tag=11,r=U_(null,r,i,u,o);break t}else if(d===N){r.tag=14,r=z_(null,r,i,u,o);break t}}throw r=$t(i)||i,Error(s(306,r,""))}}return r;case 0:return Ym(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=ya(u,r.pendingProps),K_(i,r,u,d,o);case 3:t:{if(je(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Em(i,r),Jl(r,u,null,o);var T=r.memoizedState;if(u=T.cache,Xs(r,Ie,u),u!==g.cache&&mm(r,[Ie],o,!0),Wl(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Y_(i,r,u,o);break t}else if(u!==d){d=Fn(Error(s(424)),r),Gl(d),r=Y_(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(re=Yn(i.firstChild),We=r,Ut=!0,$s=null,Gn=!0,o=Fv(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ua(),u===d){r=ds(i,r,o);break t}Ze(i,r,u,o)}r=r.child}return r;case 26:return Rh(i,r),i===null?(o=lT(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ut||(o=r.type,i=r.pendingProps,u=qh(It.current).createElement(o),u[xe]=r,u[He]=i,tn(u,o,i),Re(u),r.stateNode=u):r.memoizedState=lT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Hr(r),i===null&&Ut&&(u=r.stateNode=rT(r.type,r.pendingProps,It.current),We=r,Gn=!0,d=re,ur(r.type)?(Mp=d,re=Yn(u.firstChild)):re=d),Ze(i,r,r.pendingProps.children,o),Rh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ut&&((d=u=re)&&(u=KI(u,r.type,r.pendingProps,Gn),u!==null?(r.stateNode=u,We=r,re=Yn(u.firstChild),Gn=!1,d=!0):d=!1),d||Qs(r)),Hr(r),d=r.type,g=r.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Cp(d,g)?u=null:T!==null&&Cp(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=Rm(i,r,oI,null,null,o),vu._currentValue=d),Rh(i,r),Ze(i,r,u,o),r.child;case 6:return i===null&&Ut&&((i=o=re)&&(o=YI(o,r.pendingProps,Gn),o!==null?(r.stateNode=o,We=r,re=null,i=!0):i=!1),i||Qs(r)),null;case 13:return $_(i,r,o);case 4:return je(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=pa(r,null,u,o):Ze(i,r,u,o),r.child;case 11:return U_(i,r,r.type,r.pendingProps,o);case 7:return Ze(i,r,r.pendingProps,o),r.child;case 8:return Ze(i,r,r.pendingProps.children,o),r.child;case 12:return Ze(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Xs(r,r.type,u.value),Ze(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,ha(r),d=Je(d),u=u(d),r.flags|=1,Ze(i,r,u,o),r.child;case 14:return z_(i,r,r.type,r.pendingProps,o);case 15:return B_(i,r,r.type,r.pendingProps,o);case 19:return X_(i,r,o);case 31:return pI(i,r,o);case 22:return F_(i,r,o,r.pendingProps);case 24:return ha(r),u=Je(Ie),i===null?(d=ym(),d===null&&(d=ne,g=pm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},_m(r),Xs(r,Ie,d)):((i.lanes&o)!==0&&(Em(i,r),Jl(r,null,null,o),Wl()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Xs(r,Ie,u)):(u=g.cache,Xs(r,Ie,u),u!==d.cache&&mm(r,[Ie],o,!0))),Ze(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ms(i){i.flags|=4}function ep(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(wE())i.flags|=8192;else throw ma=fh,vm}else i.flags&=-16777217}function J_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!dT(r))if(wE())i.flags|=8192;else throw ma=fh,vm}function Ih(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Pc():536870912,i.lanes|=r,bo|=r)}function su(i,r){if(!Ut)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ae(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function yI(i,r,o){var u=r.pendingProps;switch(um(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),cs(Ie),ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(lo(r)?ms(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hm())),ae(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(ms(r),g!==null?(ae(r),J_(r,g)):(ae(r),ep(r,d,null,u,o))):g?g!==i.memoizedState?(ms(r),ae(r),J_(r,g)):(ae(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&ms(r),ae(r),ep(r,d,i,u,o)),null;case 27:if(za(r),o=It.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ae(r),null}i=ft.current,lo(r)?Dv(r):(i=rT(d,u,o),r.stateNode=i,ms(r))}return ae(r),null;case 5:if(za(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ae(r),null}if(g=ft.current,lo(r))Dv(r);else{var T=qh(It.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[xe]=r,g[He]=u;t:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break t;for(;T.sibling===null;){if(T.return===null||T.return===r)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=g;t:switch(tn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ms(r)}}return ae(r),ep(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ms(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=It.current,lo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=We,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[xe]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||$E(i.nodeValue,o)),i||Qs(r,!0)}else i=qh(i).createTextNode(u),i[xe]=r,r.stateNode=i}return ae(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=lo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[xe]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),i=!1}else o=hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Dn(r),r):(Dn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ae(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=lo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[xe]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),d=!1}else d=hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Dn(r),r):(Dn(r),null)}return Dn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Ih(r,r.updateQueue),ae(r),null);case 4:return ue(),i===null&&Sp(r.stateNode.containerInfo),ae(r),null;case 10:return cs(r.type),ae(r),null;case 19:if(it(Ee),u=r.memoizedState,u===null)return ae(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)su(u,!1);else{if(ge!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=gh(i),g!==null){for(r.flags|=128,su(u,!1),i=g.updateQueue,r.updateQueue=i,Ih(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)xv(o,i),o=o.sibling;return lt(Ee,Ee.current&1|2),Ut&&ls(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&hn()>Oh&&(r.flags|=128,d=!0,su(u,!1),r.lanes=4194304)}else{if(!d)if(i=gh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Ih(r,i),su(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ut)return ae(r),null}else 2*hn()-u.renderingStartTime>Oh&&o!==536870912&&(r.flags|=128,d=!0,su(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=hn(),i.sibling=null,o=Ee.current,lt(Ee,d?o&1|2:o&1),Ut&&ls(r,u.treeForkCount),i):(ae(r),null);case 22:case 23:return Dn(r),wm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),o=r.updateQueue,o!==null&&Ih(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&it(fa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),cs(Ie),ae(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function vI(i,r){switch(um(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return cs(Ie),ue(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return za(r),null;case 31:if(r.memoizedState!==null){if(Dn(r),r.alternate===null)throw Error(s(340));ua()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Dn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ua()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return it(Ee),null;case 4:return ue(),null;case 10:return cs(r.type),null;case 22:case 23:return Dn(r),wm(),i!==null&&it(fa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return cs(Ie),null;case 25:return null;default:return null}}function Z_(i,r){switch(um(r),r.tag){case 3:cs(Ie),ue();break;case 26:case 27:case 5:za(r);break;case 4:ue();break;case 31:r.memoizedState!==null&&Dn(r);break;case 13:Dn(r);break;case 19:it(Ee);break;case 10:cs(r.type);break;case 22:case 23:Dn(r),wm(),i!==null&&it(fa);break;case 24:cs(Ie)}}function ru(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(w){Wt(r,r.return,w)}}function nr(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,d=r;var M=o,Y=w;try{Y()}catch(J){Wt(d,M,J)}}}u=u.next}while(u!==g)}}catch(J){Wt(r,r.return,J)}}function tE(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{qv(r,o)}catch(u){Wt(i,i.return,u)}}}function eE(i,r,o){o.props=ya(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Wt(i,r,u)}}function au(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Wt(i,r,d)}}function qi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Wt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Wt(i,r,d)}else o.current=null}function nE(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Wt(i,i.return,d)}}function np(i,r,o){try{var u=i.stateNode;zI(u,i.type,o,r),u[He]=r}catch(d){Wt(i,i.return,d)}}function iE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ur(i.type)||i.tag===4}function ip(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||iE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ur(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ri));else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(sp(i,r,o),i=i.sibling;i!==null;)sp(i,r,o),i=i.sibling}function Nh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&ur(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Nh(i,r,o),i=i.sibling;i!==null;)Nh(i,r,o),i=i.sibling}function sE(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);tn(r,u,o),r[xe]=i,r[He]=o}catch(g){Wt(i,i.return,g)}}var ps=!1,Ve=!1,rp=!1,rE=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function _I(i,r){if(i=i.containerInfo,xp=Wh,i=yv(i),Jd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,w=-1,M=-1,Y=0,J=0,nt=i,$=null;e:for(;;){for(var W;nt!==o||d!==0&&nt.nodeType!==3||(w=T+d),nt!==g||u!==0&&nt.nodeType!==3||(M=T+u),nt.nodeType===3&&(T+=nt.nodeValue.length),(W=nt.firstChild)!==null;)$=nt,nt=W;for(;;){if(nt===i)break e;if($===o&&++Y===d&&(w=T),$===g&&++J===u&&(M=T),(W=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=W}o=w===-1||M===-1?null:{start:w,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rp={focusedElem:i,selectionRange:o},Wh=!1,Ge=r;Ge!==null;)if(r=Ge,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Ge=i;else for(;Ge!==null;){switch(r=Ge,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var mt=ya(o.type,d);i=u.getSnapshotBeforeUpdate(mt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(_t){Wt(o,o.return,_t)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Np(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Np(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ge=i;break}Ge=r.return}}function aE(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ys(i,o),u&4&&ru(5,o);break;case 1:if(ys(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Wt(o,o.return,T)}else{var d=ya(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(o,o.return,T)}}u&64&&tE(o),u&512&&au(o,o.return);break;case 3:if(ys(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{qv(i,r)}catch(T){Wt(o,o.return,T)}}break;case 27:r===null&&u&4&&sE(o);case 26:case 5:ys(i,o),r===null&&u&4&&nE(o),u&512&&au(o,o.return);break;case 12:ys(i,o);break;case 31:ys(i,o),u&4&&uE(i,o);break;case 13:ys(i,o),u&4&&cE(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=CI.bind(null,o),$I(i,o))));break;case 22:if(u=o.memoizedState!==null||ps,!u){r=r!==null&&r.memoizedState!==null||Ve,d=ps;var g=Ve;ps=u,(Ve=r)&&!g?vs(i,o,(o.subtreeFlags&8772)!==0):ys(i,o),ps=d,Ve=g}break;case 30:break;default:ys(i,o)}}function oE(i){var r=i.alternate;r!==null&&(i.alternate=null,oE(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ga(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var he=null,vn=!1;function gs(i,r,o){for(o=o.child;o!==null;)lE(i,r,o),o=o.sibling}function lE(i,r,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ei,o)}catch{}switch(o.tag){case 26:Ve||qi(o,r),gs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ve||qi(o,r);var u=he,d=vn;ur(o.type)&&(he=o.stateNode,vn=!1),gs(i,r,o),pu(o.stateNode),he=u,vn=d;break;case 5:Ve||qi(o,r);case 6:if(u=he,d=vn,he=null,gs(i,r,o),he=u,vn=d,he!==null)if(vn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(o.stateNode)}catch(g){Wt(o,r,g)}else try{he.removeChild(o.stateNode)}catch(g){Wt(o,r,g)}break;case 18:he!==null&&(vn?(i=he,tT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),No(i)):tT(he,o.stateNode));break;case 4:u=he,d=vn,he=o.stateNode.containerInfo,vn=!0,gs(i,r,o),he=u,vn=d;break;case 0:case 11:case 14:case 15:nr(2,o,r),Ve||nr(4,o,r),gs(i,r,o);break;case 1:Ve||(qi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&eE(o,r,u)),gs(i,r,o);break;case 21:gs(i,r,o);break;case 22:Ve=(u=Ve)||o.memoizedState!==null,gs(i,r,o),Ve=u;break;default:gs(i,r,o)}}function uE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{No(i)}catch(o){Wt(r,r.return,o)}}}function cE(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{No(i)}catch(o){Wt(r,r.return,o)}}function EI(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new rE),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new rE),r;default:throw Error(s(435,i.tag))}}function Dh(i,r){var o=EI(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=II.bind(null,i,u);u.then(d,d)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=r,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(ur(w.type)){he=w.stateNode,vn=!1;break t}break;case 5:he=w.stateNode,vn=!1;break t;case 3:case 4:he=w.stateNode.containerInfo,vn=!0;break t}w=w.return}if(he===null)throw Error(s(160));lE(g,T,d),he=null,vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)hE(r,i),r=r.sibling}var hi=null;function hE(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),En(i),u&4&&(nr(3,i,i.return),ru(3,i),nr(5,i,i.return));break;case 1:_n(r,i),En(i),u&512&&(Ve||o===null||qi(o,o.return)),u&64&&ps&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=hi;if(_n(r,i),En(i),u&512&&(Ve||o===null||qi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ni]||g[xe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),tn(g,u,o),g[xe]=i,Re(g),u=g;break t;case"link":var T=hT("link","href",d).get(u+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break e}}g=d.createElement(u),tn(g,u,o),d.head.appendChild(g);break;case"meta":if(T=hT("meta","content",d).get(u+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break e}}g=d.createElement(u),tn(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[xe]=i,Re(g),u=g}i.stateNode=u}else fT(d,i.type,i.stateNode);else i.stateNode=cT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?fT(d,i.type,i.stateNode):cT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&np(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),En(i),u&512&&(Ve||o===null||qi(o,o.return)),o!==null&&u&4&&np(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),En(i),u&512&&(Ve||o===null||qi(o,o.return)),i.flags&32){d=i.stateNode;try{yn(d,"")}catch(mt){Wt(i,i.return,mt)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,np(i,d,o!==null?o.memoizedProps:d)),u&1024&&(rp=!0);break;case 6:if(_n(r,i),En(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){Wt(i,i.return,mt)}}break;case 3:if(Yh=null,d=hi,hi=Gh(r.containerInfo),_n(r,i),hi=d,En(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{No(r.containerInfo)}catch(mt){Wt(i,i.return,mt)}rp&&(rp=!1,fE(i));break;case 4:u=hi,hi=Gh(i.stateNode.containerInfo),_n(r,i),En(i),hi=u;break;case 12:_n(r,i),En(i);break;case 31:_n(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Dh(i,u)));break;case 13:_n(r,i),En(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mh=hn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Dh(i,u)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,Y=ps,J=Ve;if(ps=Y||d,Ve=J||M,_n(r,i),Ve=J,ps=Y,En(i),u&8192)t:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||M||ps||Ve||va(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){M=o=r;try{if(g=M.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=M.stateNode;var nt=M.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(mt){Wt(M,M.return,mt)}}}else if(r.tag===6){if(o===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(mt){Wt(M,M.return,mt)}}}else if(r.tag===18){if(o===null){M=r;try{var W=M.stateNode;d?eT(W,!0):eT(M.stateNode,!1)}catch(mt){Wt(M,M.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Dh(i,o))));break;case 19:_n(r,i),En(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Dh(i,u)));break;case 30:break;case 21:break;default:_n(r,i),En(i)}}function En(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(iE(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=ip(i);Nh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var w=ip(i);Nh(i,w,T);break;case 3:case 4:var M=o.stateNode.containerInfo,Y=ip(i);sp(i,Y,M);break;default:throw Error(s(161))}}catch(J){Wt(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function fE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;fE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ys(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)aE(i,r.alternate,r),r=r.sibling}function va(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:nr(4,r,r.return),va(r);break;case 1:qi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&eE(r,r.return,o),va(r);break;case 27:pu(r.stateNode);case 26:case 5:qi(r,r.return),va(r);break;case 22:r.memoizedState===null&&va(r);break;case 30:va(r);break;default:va(r)}i=i.sibling}}function vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,T=g.flags;switch(g.tag){case 0:case 11:case 15:vs(d,g,o),ru(4,g);break;case 1:if(vs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Wt(u,u.return,Y)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Hv(M[d],w)}catch(Y){Wt(u,u.return,Y)}}o&&T&64&&tE(g),au(g,g.return);break;case 27:sE(g);case 26:case 5:vs(d,g,o),o&&u===null&&T&4&&nE(g),au(g,g.return);break;case 12:vs(d,g,o);break;case 31:vs(d,g,o),o&&T&4&&uE(d,g);break;case 13:vs(d,g,o),o&&T&4&&cE(d,g);break;case 22:g.memoizedState===null&&vs(d,g,o),au(g,g.return);break;case 30:break;default:vs(d,g,o)}r=r.sibling}}function ap(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Kl(o))}function op(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Kl(i))}function fi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)dE(i,r,o,u),r=r.sibling}function dE(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:fi(i,r,o,u),d&2048&&ru(9,r);break;case 1:fi(i,r,o,u);break;case 3:fi(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Kl(i)));break;case 12:if(d&2048){fi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){Wt(r,r.return,M)}}else fi(i,r,o,u);break;case 31:fi(i,r,o,u);break;case 13:fi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,T=r.alternate,r.memoizedState!==null?g._visibility&2?fi(i,r,o,u):ou(i,r):g._visibility&2?fi(i,r,o,u):(g._visibility|=2,_o(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&ap(T,r);break;case 24:fi(i,r,o,u),d&2048&&op(r.alternate,r);break;default:fi(i,r,o,u)}}function _o(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,T=r,w=o,M=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:_o(g,T,w,M,d),ru(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?_o(g,T,w,M,d):ou(g,T):(J._visibility|=2,_o(g,T,w,M,d)),d&&Y&2048&&ap(T.alternate,T);break;case 24:_o(g,T,w,M,d),d&&Y&2048&&op(T.alternate,T);break;default:_o(g,T,w,M,d)}r=r.sibling}}function ou(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:ou(o,u),d&2048&&ap(u.alternate,u);break;case 24:ou(o,u),d&2048&&op(u.alternate,u);break;default:ou(o,u)}r=r.sibling}}var lu=8192;function Eo(i,r,o){if(i.subtreeFlags&lu)for(i=i.child;i!==null;)mE(i,r,o),i=i.sibling}function mE(i,r,o){switch(i.tag){case 26:Eo(i,r,o),i.flags&lu&&i.memoizedState!==null&&a2(o,hi,i.memoizedState,i.memoizedProps);break;case 5:Eo(i,r,o);break;case 3:case 4:var u=hi;hi=Gh(i.stateNode.containerInfo),Eo(i,r,o),hi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=lu,lu=16777216,Eo(i,r,o),lu=u):Eo(i,r,o));break;default:Eo(i,r,o)}}function pE(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function uu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,yE(u,i)}pE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gE(i),i=i.sibling}function gE(i){switch(i.tag){case 0:case 11:case 15:uu(i),i.flags&2048&&nr(9,i,i.return);break;case 3:uu(i);break;case 12:uu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Vh(i)):uu(i);break;default:uu(i)}}function Vh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ge=u,yE(u,i)}pE(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:nr(8,r,r.return),Vh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Vh(r));break;default:Vh(r)}i=i.sibling}}function yE(i,r){for(;Ge!==null;){var o=Ge;switch(o.tag){case 0:case 11:case 15:nr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ge=u;else t:for(o=i;Ge!==null;){u=Ge;var d=u.sibling,g=u.return;if(oE(u),u===o){Ge=null;break t}if(d!==null){d.return=g,Ge=d;break t}Ge=g}}}var TI={getCacheForType:function(i){var r=Je(Ie),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Je(Ie).controller.signal}},bI=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Dt=null,Ot=0,Xt=0,Vn=null,ir=!1,To=!1,lp=!1,_s=0,ge=0,sr=0,_a=0,up=0,Mn=0,bo=0,cu=null,Tn=null,cp=!1,Mh=0,vE=0,Oh=1/0,Ph=null,rr=null,ze=0,ar=null,So=null,Es=0,hp=0,fp=null,_E=null,hu=0,dp=null;function On(){return(Kt&2)!==0&&Ot!==0?Ot&-Ot:Q.T!==null?_p():kc()}function EE(){if(Mn===0)if((Ot&536870912)===0||Ut){var i=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),Mn=i}else Mn=536870912;return i=Nn.current,i!==null&&(i.flags|=32),Mn}function bn(i,r,o){(i===ne&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(wo(i,0),or(i,Ot,Mn,!1)),Yr(i,o),((Kt&2)===0||i!==ne)&&(i===ne&&((Kt&2)===0&&(_a|=o),ge===4&&or(i,Ot,Mn,!1)),Gi(i))}function TE(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ni(i,r),d=u?AI(i,r):pp(i,r,!0),g=u;do{if(d===0){To&&!u&&or(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!SI(o)){d=pp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var w=i;d=cu;var M=w.current.memoizedState.isDehydrated;if(M&&(wo(w,T).flags|=256),T=pp(w,T,!1),T!==2){if(lp&&!M){w.errorRecoveryDisabledLanes|=g,_a|=g,d=4;break t}g=Tn,Tn=d,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){wo(i,0),or(i,r,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:or(u,r,Mn,!ir);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Mh+300-hn(),10<d)){if(or(u,r,Mn,!ir),Ri(u,0,!0)!==0)break t;Es=r,u.timeoutHandle=JE(bE.bind(null,u,o,Tn,Ph,cp,r,Mn,_a,bo,ir,g,"Throttled",-0,0),d);break t}bE(u,o,Tn,Ph,cp,r,Mn,_a,bo,ir,g,null,-0,0)}}break}while(!0);Gi(i)}function bE(i,r,o,u,d,g,T,w,M,Y,J,nt,$,W){if(i.timeoutHandle=-1,nt=r.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},mE(r,g,nt);var mt=(g&62914560)===g?Mh-hn():(g&4194048)===g?vE-hn():0;if(mt=o2(nt,mt),mt!==null){Es=g,i.cancelPendingCommit=mt(NE.bind(null,i,r,g,o,u,d,T,w,M,J,nt,null,$,W)),or(i,g,T,!Y);return}}NE(i,r,g,o,u,d,T,w,M)}function SI(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Cn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(i,r,o,u){r&=~up,r&=~_a,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-ve(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&$r(i,o,r)}function kh(){return(Kt&6)===0?(fu(0),!1):!0}function mp(){if(Dt!==null){if(Xt===0)var i=Dt.return;else i=Dt,us=ca=null,Nm(i),mo=null,$l=0,i=Dt;for(;i!==null;)Z_(i.alternate,i),i=i.return;Dt=null}}function wo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,HI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Es=0,mp(),ne=i,Dt=o=os(i.current,null),Ot=r,Xt=0,Vn=null,ir=!1,To=ni(i,r),lp=!1,bo=Mn=up=_a=sr=ge=0,Tn=cu=null,cp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-ve(u),g=1<<d;r|=i[d],u&=~g}return _s=r,ih(),o}function SE(i,r){Rt=null,Q.H=nu,r===fo||r===hh?(r=Uv(),Xt=3):r===vm?(r=Uv(),Xt=4):Xt=r===Km?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Dt===null&&(ge=1,Ah(i,Fn(r,i.current)))}function wE(){var i=Nn.current;return i===null?!0:(Ot&4194048)===Ot?Kn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===Kn:!1}function AE(){var i=Q.H;return Q.H=nu,i===null?nu:i}function xE(){var i=Q.A;return Q.A=TI,i}function Lh(){ge=4,ir||(Ot&4194048)!==Ot&&Nn.current!==null||(To=!0),(sr&134217727)===0&&(_a&134217727)===0||ne===null||or(ne,Ot,Mn,!1)}function pp(i,r,o){var u=Kt;Kt|=2;var d=AE(),g=xE();(ne!==i||Ot!==r)&&(Ph=null,wo(i,r)),r=!1;var T=ge;t:do try{if(Xt!==0&&Dt!==null){var w=Dt,M=Vn;switch(Xt){case 8:mp(),T=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var Y=Xt;if(Xt=0,Vn=null,Ao(i,w,M,Y),o&&To){T=0;break t}break;default:Y=Xt,Xt=0,Vn=null,Ao(i,w,M,Y)}}wI(),T=ge;break}catch(J){SE(i,J)}while(!0);return r&&i.shellSuspendCounter++,us=ca=null,Kt=u,Q.H=d,Q.A=g,Dt===null&&(ne=null,Ot=0,ih()),T}function wI(){for(;Dt!==null;)RE(Dt)}function AI(i,r){var o=Kt;Kt|=2;var u=AE(),d=xE();ne!==i||Ot!==r?(Ph=null,Oh=hn()+500,wo(i,r)):To=ni(i,r);t:do try{if(Xt!==0&&Dt!==null){r=Dt;var g=Vn;e:switch(Xt){case 1:Xt=0,Vn=null,Ao(i,r,g,1);break;case 2:case 9:if(Lv(g)){Xt=0,Vn=null,CE(r);break}r=function(){Xt!==2&&Xt!==9||ne!==i||(Xt=7),Gi(i)},g.then(r,r);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Lv(g)?(Xt=0,Vn=null,CE(r)):(Xt=0,Vn=null,Ao(i,r,g,7));break;case 5:var T=null;switch(Dt.tag){case 26:T=Dt.memoizedState;case 5:case 27:var w=Dt;if(T?dT(T):w.stateNode.complete){Xt=0,Vn=null;var M=w.sibling;if(M!==null)Dt=M;else{var Y=w.return;Y!==null?(Dt=Y,jh(Y)):Dt=null}break e}}Xt=0,Vn=null,Ao(i,r,g,5);break;case 6:Xt=0,Vn=null,Ao(i,r,g,6);break;case 8:mp(),ge=6;break t;default:throw Error(s(462))}}xI();break}catch(J){SE(i,J)}while(!0);return us=ca=null,Q.H=u,Q.A=d,Kt=o,Dt!==null?0:(ne=null,Ot=0,ih(),ge)}function xI(){for(;Dt!==null&&!Gd();)RE(Dt)}function RE(i){var r=W_(i.alternate,i,_s);i.memoizedProps=i.pendingProps,r===null?jh(i):Dt=r}function CE(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=G_(o,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=G_(o,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:Nm(r);default:Z_(o,r),r=Dt=xv(r,_s),r=W_(o,r,_s)}i.memoizedProps=i.pendingProps,r===null?jh(i):Dt=r}function Ao(i,r,o,u){us=ca=null,Nm(r),mo=null,$l=0;var d=r.return;try{if(mI(i,d,r,o,Ot)){ge=1,Ah(i,Fn(o,i.current)),Dt=null;return}}catch(g){if(d!==null)throw Dt=d,g;ge=1,Ah(i,Fn(o,i.current)),Dt=null;return}r.flags&32768?(Ut||u===1?i=!0:To||(Ot&536870912)!==0?i=!1:(ir=i=!0,(u===2||u===9||u===3||u===6)&&(u=Nn.current,u!==null&&u.tag===13&&(u.flags|=16384))),IE(r,i)):jh(r)}function jh(i){var r=i;do{if((r.flags&32768)!==0){IE(r,ir);return}i=r.return;var o=yI(r.alternate,r,_s);if(o!==null){Dt=o;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=i}while(r!==null);ge===0&&(ge=5)}function IE(i,r){do{var o=vI(i.alternate,i);if(o!==null){o.flags&=32767,Dt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Dt=i;return}Dt=i=o}while(i!==null);ge=6,Dt=null}function NE(i,r,o,u,d,g,T,w,M){i.cancelPendingCommit=null;do Uh();while(ze!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=im,$d(i,o,g,T,w,M),i===ne&&(Dt=ne=null,Ot=0),So=r,ar=i,Es=o,hp=g,fp=d,_E=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,NI(Ls,function(){return PE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,d=rt.p,rt.p=2,T=Kt,Kt|=4;try{_I(i,r,o)}finally{Kt=T,rt.p=d,Q.T=u}}ze=1,DE(),VE(),ME()}}function DE(){if(ze===1){ze=0;var i=ar,r=So,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=rt.p;rt.p=2;var d=Kt;Kt|=4;try{hE(r,i);var g=Rp,T=yv(i.containerInfo),w=g.focusedElem,M=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&gv(w.ownerDocument.documentElement,w)){if(M!==null&&Jd(w)){var Y=M.start,J=M.end;if(J===void 0&&(J=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(J,w.value.length);else{var nt=w.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var W=$.getSelection(),mt=w.textContent.length,_t=Math.min(M.start,mt),ee=M.end===void 0?_t:Math.min(M.end,mt);!W.extend&&_t>ee&&(T=ee,ee=_t,_t=T);var H=pv(w,_t),U=pv(w,ee);if(H&&U&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var K=nt.createRange();K.setStart(H.node,H.offset),W.removeAllRanges(),_t>ee?(W.addRange(K),W.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),W.addRange(K))}}}}for(nt=[],W=w;W=W.parentNode;)W.nodeType===1&&nt.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var Z=nt[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wh=!!xp,Rp=xp=null}finally{Kt=d,rt.p=u,Q.T=o}}i.current=r,ze=2}}function VE(){if(ze===2){ze=0;var i=ar,r=So,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=rt.p;rt.p=2;var d=Kt;Kt|=4;try{aE(i,r.alternate,r)}finally{Kt=d,rt.p=u,Q.T=o}}ze=3}}function ME(){if(ze===4||ze===3){ze=0,Ic();var i=ar,r=So,o=Es,u=_E;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ze=5:(ze=0,So=ar=null,OE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(rr=null),is(o),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ei,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Q.T,d=rt.p,rt.p=2,Q.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];g(w.value,{componentStack:w.stack})}}finally{Q.T=r,rt.p=d}}(Es&3)!==0&&Uh(),Gi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===dp?hu++:(hu=0,dp=i):hu=0,fu(0)}}function OE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Kl(r)))}function Uh(){return DE(),VE(),ME(),PE()}function PE(){if(ze!==5)return!1;var i=ar,r=hp;hp=0;var o=is(Es),u=Q.T,d=rt.p;try{rt.p=32>o?32:o,Q.T=null,o=fp,fp=null;var g=ar,T=Es;if(ze=0,So=ar=null,Es=0,(Kt&6)!==0)throw Error(s(331));var w=Kt;if(Kt|=4,gE(g.current),dE(g,g.current,T,o),Kt=w,fu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ei,g)}catch{}return!0}finally{rt.p=d,Q.T=u,OE(i,r)}}function kE(i,r,o){r=Fn(o,r),r=Gm(i.stateNode,r,2),i=Zs(i,r,2),i!==null&&(Yr(i,2),Gi(i))}function Wt(i,r,o){if(i.tag===3)kE(i,i,o);else for(;r!==null;){if(r.tag===3){kE(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rr===null||!rr.has(u))){i=Fn(o,i),o=L_(2),u=Zs(r,o,2),u!==null&&(j_(o,u,r,i),Yr(u,2),Gi(u));break}}r=r.return}}function gp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new bI;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(lp=!0,d.add(o),i=RI.bind(null,i,r,o),r.then(i,i))}function RI(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ne===i&&(Ot&o)===o&&(ge===4||ge===3&&(Ot&62914560)===Ot&&300>hn()-Mh?(Kt&2)===0&&wo(i,0):up|=o,bo===Ot&&(bo=0)),Gi(i)}function LE(i,r){r===0&&(r=Pc()),i=oa(i,r),i!==null&&(Yr(i,r),Gi(i))}function CI(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),LE(i,o)}function II(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),LE(i,o)}function NI(i,r){return Ue(i,r)}var zh=null,xo=null,yp=!1,Bh=!1,vp=!1,lr=0;function Gi(i){i!==xo&&i.next===null&&(xo===null?zh=xo=i:xo=xo.next=i),Bh=!0,yp||(yp=!0,VI())}function fu(i,r){if(!vp&&Bh){vp=!0;do for(var o=!1,u=zh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-ve(42|i)+1)-1,g&=d&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,BE(u,g))}else g=Ot,g=Ri(u,u===ne?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ni(u,g)||(o=!0,BE(u,g));u=u.next}while(o);vp=!1}}function DI(){jE()}function jE(){Bh=yp=!1;var i=0;lr!==0&&FI()&&(i=lr);for(var r=hn(),o=null,u=zh;u!==null;){var d=u.next,g=UE(u,r);g===0?(u.next=null,o===null?zh=d:o.next=d,d===null&&(xo=o)):(o=u,(i!==0||(g&3)!==0)&&(Bh=!0)),u=d}ze!==0&&ze!==5||fu(i),lr!==0&&(lr=0)}function UE(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-ve(g),w=1<<T,M=d[T];M===-1?((w&o)===0||(w&u)!==0)&&(d[T]=Yd(w,r)):M<=r&&(i.expiredLanes|=w),g&=~w}if(r=ne,o=Ot,o=Ri(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ks(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ni(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&ks(u),is(o)){case 2:case 8:o=bl;break;case 32:o=Ls;break;case 268435456:o=Nc;break;default:o=Ls}return u=zE.bind(null,i),o=Ue(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&ks(u),i.callbackPriority=2,i.callbackNode=null,2}function zE(i,r){if(ze!==0&&ze!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Uh()&&i.callbackNode!==o)return null;var u=Ot;return u=Ri(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(TE(i,u,r),UE(i,hn()),i.callbackNode!=null&&i.callbackNode===o?zE.bind(null,i):null)}function BE(i,r){if(Uh())return null;TE(i,r,!0)}function VI(){qI(function(){(Kt&6)!==0?Ue(Tl,DI):jE()})}function _p(){if(lr===0){var i=co;i===0&&(i=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),lr=i}return lr}function FE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qa(""+i)}function HE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function MI(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=FE((d[He]||null).action),T=u.submitter;T&&(r=(r=T[He]||null)?FE(r.formAction):T.getAttribute("formAction"),r!==null&&(g=r,T=null));var w=new ji("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lr!==0){var M=T?HE(d,T):new FormData(d);Um(o,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(w.preventDefault(),M=T?HE(d,T):new FormData(d),Um(o,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var Ep=0;Ep<nm.length;Ep++){var Tp=nm[Ep],OI=Tp.toLowerCase(),PI=Tp[0].toUpperCase()+Tp.slice(1);ci(OI,"on"+PI)}ci(Ev,"onAnimationEnd"),ci(Tv,"onAnimationIteration"),ci(bv,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(WC,"onTransitionRun"),ci(JC,"onTransitionStart"),ci(ZC,"onTransitionCancel"),ci(Sv,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(du));function qE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var T=u.length-1;0<=T;T--){var w=u[T],M=w.instance,Y=w.currentTarget;if(w=w.listener,M!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=Y;try{g(d)}catch(J){nh(J)}d.currentTarget=null,g=M}else for(T=0;T<u.length;T++){if(w=u[T],M=w.instance,Y=w.currentTarget,w=w.listener,M!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=Y;try{g(d)}catch(J){nh(J)}d.currentTarget=null,g=M}}}}function Vt(i,r){var o=r[qa];o===void 0&&(o=r[qa]=new Set);var u=i+"__bubble";o.has(u)||(GE(r,i,2,!1),o.add(u))}function bp(i,r,o){var u=0;r&&(u|=4),GE(o,i,u,r)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Sp(i){if(!i[Fh]){i[Fh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(kI.has(o)||bp(o,!1,i),bp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Fh]||(r[Fh]=!0,bp("selectionchange",!1,r))}}function GE(i,r,o,u){switch(ET(r)){case 2:var d=c2;break;case 8:d=h2;break;default:d=jp}o=d.bind(null,r,o,i),d=void 0,!Zr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function wp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===d)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;w!==null;){if(T=Di(w),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=g=T;continue t}w=w.parentNode}}u=u.return}Hs(function(){var Y=g,J=jn(o),nt=[];t:{var $=wv.get(i);if($!==void 0){var W=ji,mt=i;switch(i){case"keypress":if(ea(o)===0)break t;case"keydown":case"keyup":W=Zc;break;case"focusin":mt="focus",W=ia;break;case"focusout":mt="blur",W=ia;break;case"beforeblur":case"afterblur":W=ia;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=v;break;case Ev:case Tv:case bv:W=Kc;break;case Sv:W=x;break;case"scroll":case"scrollend":W=Ll;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=as;break;case"toggle":case"beforetoggle":W=xt}var _t=(r&4)!==0,ee=!_t&&(i==="scroll"||i==="scrollend"),H=_t?$!==null?$+"Capture":null:$;_t=[];for(var U=Y,K;U!==null;){var Z=U;if(K=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||K===null||H===null||(Z=ai(U,H),Z!=null&&_t.push(mu(U,Z,K))),ee)break;U=U.return}0<_t.length&&($=new W($,mt,null,o,J),nt.push({event:$,listeners:_t}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",$&&o!==Ol&&(mt=o.relatedTarget||o.fromElement)&&(Di(mt)||mt[Ii]))break t;if((W||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,W?(mt=o.relatedTarget||o.toElement,W=Y,mt=mt?Di(mt):null,mt!==null&&(ee=l(mt),_t=mt.tag,mt!==ee||_t!==5&&_t!==27&&_t!==6)&&(mt=null)):(W=null,mt=Y),W!==mt)){if(_t=jl,Z="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(_t=as,Z="onPointerLeave",H="onPointerEnter",U="pointer"),ee=W==null?$:xn(W),K=mt==null?$:xn(mt),$=new _t(Z,U+"leave",W,o,J),$.target=ee,$.relatedTarget=K,Z=null,Di(J)===Y&&(_t=new _t(H,U+"enter",mt,o,J),_t.target=K,_t.relatedTarget=ee,Z=_t),ee=Z,W&&mt)e:{for(_t=LI,H=W,U=mt,K=0,Z=H;Z;Z=_t(Z))K++;Z=0;for(var yt=U;yt;yt=_t(yt))Z++;for(;0<K-Z;)H=_t(H),K--;for(;0<Z-K;)U=_t(U),Z--;for(;K--;){if(H===U||U!==null&&H===U.alternate){_t=H;break e}H=_t(H),U=_t(U)}_t=null}else _t=null;W!==null&&KE(nt,$,W,_t,!1),mt!==null&&ee!==null&&KE(nt,ee,mt,_t,!0)}}t:{if($=Y?xn(Y):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var Ft=uv;else if(ov($))if(cv)Ft=$C;else{Ft=KC;var gt=GC}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&$a(Y.elementType)&&(Ft=uv):Ft=YC;if(Ft&&(Ft=Ft(i,Y))){lv(nt,Ft,o,J);break t}gt&&gt(i,$,Y),i==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Dl($,"number",$.value)}switch(gt=Y?xn(Y):window,i){case"focusin":(ov(gt)||gt.contentEditable==="true")&&(no=gt,Zd=Y,Hl=null);break;case"focusout":Hl=Zd=no=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,vv(nt,o,J);break;case"selectionchange":if(XC)break;case"keydown":case"keyup":vv(nt,o,J)}var Nt;if(Gt)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else eo?sa(i,o)&&(Pt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Pt="onCompositionStart");Pt&&(Bi&&o.locale!=="ko"&&(eo||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&eo&&(Nt=kl()):(Li=J,Pl="value"in Li?Li.value:Li.textContent,eo=!0)),gt=Hh(Y,Pt),0<gt.length&&(Pt=new zi(Pt,i,null,o,J),nt.push({event:Pt,listeners:gt}),Nt?Pt.data=Nt:(Nt=to(o),Nt!==null&&(Pt.data=Nt)))),(Nt=zn?BC(i,o):FC(i,o))&&(Pt=Hh(Y,"onBeforeInput"),0<Pt.length&&(gt=new zi("onBeforeInput","beforeinput",null,o,J),nt.push({event:gt,listeners:Pt}),gt.data=Nt)),MI(nt,i,Y,o,J)}qE(nt,r)})}function mu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Hh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ai(i,o),d!=null&&u.unshift(mu(i,d,g)),d=ai(i,r),d!=null&&u.push(mu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function LI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function KE(i,r,o,u,d){for(var g=r._reactName,T=[];o!==null&&o!==u;){var w=o,M=w.alternate,Y=w.stateNode;if(w=w.tag,M!==null&&M===u)break;w!==5&&w!==26&&w!==27||Y===null||(M=Y,d?(Y=ai(o,g),Y!=null&&T.unshift(mu(o,Y,M))):d||(Y=ai(o,g),Y!=null&&T.push(mu(o,Y,M)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var jI=/\r\n?/g,UI=/\u0000|\uFFFD/g;function YE(i){return(typeof i=="string"?i:""+i).replace(jI,`
`).replace(UI,"")}function $E(i,r){return r=YE(r),YE(i)===r}function te(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||yn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&yn(i,""+u);break;case"className":Rn(i,"class",u);break;case"tabIndex":Rn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(i,o,u);break;case"style":Ml(i,u,g);break;case"data":if(r!=="object"){Rn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&te(i,r,"name",d.name,d,null),te(i,r,"formEncType",d.formEncType,d,null),te(i,r,"formMethod",d.formMethod,d,null),te(i,r,"formTarget",d.formTarget,d,null)):(te(i,r,"encType",d.encType,d,null),te(i,r,"method",d.method,d,null),te(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Qa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ri);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Qa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Vt("beforetoggle",i),Vt("toggle",i),Ka(i,"popover",u);break;case"xlinkActuate":Ce(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ce(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ce(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ce(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ce(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ce(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ce(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ka(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hc.get(o)||o,Ka(i,o,u))}}function Ap(i,r,o,u,d,g){switch(o){case"style":Ml(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?yn(i,u):(typeof u=="number"||typeof u=="bigint")&&yn(i,""+u);break;case"onScroll":u!=null&&Vt("scroll",i);break;case"onScrollEnd":u!=null&&Vt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[He]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ka(i,o,u)}}}function tn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",i),Vt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,g,T,o,null)}}d&&te(i,r,"srcSet",o.srcSet,o,null),u&&te(i,r,"src",o.src,o,null);return;case"input":Vt("invalid",i);var w=g=T=d=null,M=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":d=J;break;case"type":T=J;break;case"checked":M=J;break;case"defaultChecked":Y=J;break;case"value":g=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:te(i,r,u,J,o,null)}}zc(i,g,w,M,Y,T,d,!1);return;case"select":Vt("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:te(i,r,d,w,o,null)}r=g,o=T,i.multiple=!!u,r!=null?Us(i,!!u,r,!1):o!=null&&Us(i,!!u,o,!0);return;case"textarea":Vt("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:te(i,r,T,w,o,null)}zs(i,u,d,g);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:te(i,r,M,u,o,null)}return;case"dialog":Vt("beforetoggle",i),Vt("toggle",i),Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":Vt("load",i);break;case"video":case"audio":for(u=0;u<du.length;u++)Vt(du[u],i);break;case"image":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"embed":case"source":case"link":Vt("error",i),Vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,Y,u,o,null)}return;default:if($a(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Ap(i,r,J,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&te(i,r,w,u,o,null))}function zI(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,w=null,M=null,Y=null,J=null;for(W in o){var nt=o[W];if(o.hasOwnProperty(W)&&nt!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=nt;default:u.hasOwnProperty(W)||te(i,r,W,null,u,nt)}}for(var $ in u){var W=u[$];if(nt=o[$],u.hasOwnProperty($)&&(W!=null||nt!=null))switch($){case"type":g=W;break;case"name":d=W;break;case"checked":Y=W;break;case"defaultChecked":J=W;break;case"value":T=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==nt&&te(i,r,$,W,u,nt)}}Ya(i,T,w,M,Y,J,g,d);return;case"select":W=T=w=$=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":W=M;default:u.hasOwnProperty(g)||te(i,r,g,null,u,M)}for(d in u)if(g=u[d],M=o[d],u.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==M&&te(i,r,d,g,u,M)}r=w,o=T,u=W,$!=null?Us(i,!!o,$,!1):!!u!=!!o&&(r!=null?Us(i,!!o,r,!0):Us(i,!!o,o?[]:"",!1));return;case"textarea":W=$=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:te(i,r,w,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":$=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&te(i,r,T,d,u,g)}Bc(i,$,W);return;case"option":for(var mt in o)if($=o[mt],o.hasOwnProperty(mt)&&$!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:te(i,r,mt,null,u,$)}for(M in u)if($=u[M],W=o[M],u.hasOwnProperty(M)&&$!==W&&($!=null||W!=null))switch(M){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:te(i,r,M,$,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)$=o[_t],o.hasOwnProperty(_t)&&$!=null&&!u.hasOwnProperty(_t)&&te(i,r,_t,null,u,$);for(Y in u)if($=u[Y],W=o[Y],u.hasOwnProperty(Y)&&$!==W&&($!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:te(i,r,Y,$,u,W)}return;default:if($a(r)){for(var ee in o)$=o[ee],o.hasOwnProperty(ee)&&$!==void 0&&!u.hasOwnProperty(ee)&&Ap(i,r,ee,void 0,u,$);for(J in u)$=u[J],W=o[J],!u.hasOwnProperty(J)||$===W||$===void 0&&W===void 0||Ap(i,r,J,$,u,W);return}}for(var H in o)$=o[H],o.hasOwnProperty(H)&&$!=null&&!u.hasOwnProperty(H)&&te(i,r,H,null,u,$);for(nt in u)$=u[nt],W=o[nt],!u.hasOwnProperty(nt)||$===W||$==null&&W==null||te(i,r,nt,$,u,W)}function QE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,w=d.duration;if(g&&w&&QE(T)){for(T=0,w=d.responseEnd,u+=1;u<o.length;u++){var M=o[u],Y=M.startTime;if(Y>w)break;var J=M.transferSize,nt=M.initiatorType;J&&QE(nt)&&(M=M.responseEnd,T+=J*(M<w?1:(w-Y)/(M-Y)))}if(--u,r+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var xp=null,Rp=null;function qh(i){return i.nodeType===9?i:i.ownerDocument}function XE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Cp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ip=null;function FI(){var i=window.event;return i&&i.type==="popstate"?i===Ip?!1:(Ip=i,!0):(Ip=null,!1)}var JE=typeof setTimeout=="function"?setTimeout:void 0,HI=typeof clearTimeout=="function"?clearTimeout:void 0,ZE=typeof Promise=="function"?Promise:void 0,qI=typeof queueMicrotask=="function"?queueMicrotask:typeof ZE<"u"?function(i){return ZE.resolve(null).then(i).catch(GI)}:JE;function GI(i){setTimeout(function(){throw i})}function ur(i){return i==="head"}function tT(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),No(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")pu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,pu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[Ni]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&pu(i.ownerDocument.body);o=d}while(o);No(r)}function eT(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Np(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Np(o),Ga(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function KI(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ni])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function YI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Yn(i.nextSibling),i===null))return null;return i}function nT(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Yn(i.nextSibling),i===null))return null;return i}function Dp(i){return i.data==="$?"||i.data==="$~"}function Vp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function $I(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Yn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Mp=null;function iT(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return Yn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function sT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function rT(i,r,o){switch(r=qh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function pu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ga(i)}var $n=new Map,aT=new Set;function Gh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=rt.d;rt.d={f:QI,r:XI,D:WI,C:JI,L:ZI,m:t2,X:n2,S:e2,M:i2};function QI(){var i=Ts.f(),r=kh();return i||r}function XI(i){var r=Ln(i);r!==null&&r.tag===5&&r.type==="form"?S_(r):Ts.r(i)}var Ro=typeof document>"u"?null:document;function oT(i,r,o){var u=Ro;if(u&&typeof r=="string"&&r){var d=gn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),aT.has(d)||(aT.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),tn(r,"link",i),Re(r),u.head.appendChild(r)))}}function WI(i){Ts.D(i),oT("dns-prefetch",i,null)}function JI(i,r){Ts.C(i,r),oT("preconnect",i,r)}function ZI(i,r,o){Ts.L(i,r,o);var u=Ro;if(u&&i&&r){var d='link[rel="preload"][as="'+gn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+gn(o.imageSizes)+'"]')):d+='[href="'+gn(i)+'"]';var g=d;switch(r){case"style":g=Co(i);break;case"script":g=Io(i)}$n.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),$n.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(gu(g))||r==="script"&&u.querySelector(yu(g))||(r=u.createElement("link"),tn(r,"link",i),Re(r),u.head.appendChild(r)))}}function t2(i,r){Ts.m(i,r);var o=Ro;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Io(i)}if(!$n.has(g)&&(i=_({rel:"modulepreload",href:i},r),$n.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yu(g)))return}u=o.createElement("link"),tn(u,"link",i),Re(u),o.head.appendChild(u)}}}function e2(i,r,o){Ts.S(i,r,o);var u=Ro;if(u&&i){var d=Vi(u).hoistableStyles,g=Co(i);r=r||"default";var T=d.get(g);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(gu(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=$n.get(g))&&Op(i,o);var M=T=u.createElement("link");Re(M),tn(M,"link",i),M._p=new Promise(function(Y,J){M.onload=Y,M.onerror=J}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Kh(T,r,u)}T={type:"stylesheet",instance:T,count:1,state:w},d.set(g,T)}}}function n2(i,r){Ts.X(i,r);var o=Ro;if(o&&i){var u=Vi(o).hoistableScripts,d=Io(i),g=u.get(d);g||(g=o.querySelector(yu(d)),g||(i=_({src:i,async:!0},r),(r=$n.get(d))&&Pp(i,r),g=o.createElement("script"),Re(g),tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function i2(i,r){Ts.M(i,r);var o=Ro;if(o&&i){var u=Vi(o).hoistableScripts,d=Io(i),g=u.get(d);g||(g=o.querySelector(yu(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=$n.get(d))&&Pp(i,r),g=o.createElement("script"),Re(g),tn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function lT(i,r,o,u){var d=(d=It.current)?Gh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Co(o.href),o=Vi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Co(o.href);var g=Vi(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(gu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),$n.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(i,o),g||s2(d,i,o,T.state))),r&&u===null)throw Error(s(528,""));return T}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Io(o),o=Vi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Co(i){return'href="'+gn(i)+'"'}function gu(i){return'link[rel="stylesheet"]['+i+"]"}function uT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function s2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),tn(r,"link",o),Re(r),i.head.appendChild(r))}function Io(i){return'[src="'+gn(i)+'"]'}function yu(i){return"script[async]"+i}function cT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return r.instance=u,Re(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Re(u),tn(u,"style",d),Kh(u,o.precedence,i),r.instance=u;case"stylesheet":d=Co(o.href);var g=i.querySelector(gu(d));if(g)return r.state.loading|=4,r.instance=g,Re(g),g;u=uT(o),(d=$n.get(d))&&Op(u,d),g=(i.ownerDocument||i).createElement("link"),Re(g);var T=g;return T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),tn(g,"link",u),r.state.loading|=4,Kh(g,o.precedence,i),r.instance=g;case"script":return g=Io(o.src),(d=i.querySelector(yu(g)))?(r.instance=d,Re(d),d):(u=o,(d=$n.get(g))&&(u=_({},o),Pp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Re(d),tn(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Kh(u,o.precedence,i));return r.instance}function Kh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Op(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Pp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Yh=null;function hT(i,r,o){if(Yh===null){var u=new Map,d=Yh=new Map;d.set(o,u)}else d=Yh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ni]||g[xe]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(r)||"";T=i+T;var w=u.get(T);w?w.push(g):u.set(T,[g])}}return u}function fT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function r2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function dT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function a2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Co(u.href),g=r.querySelector(gu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=$h.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Re(g);return}g=r.ownerDocument||r,u=uT(u),(d=$n.get(d))&&Op(u,d),g=g.createElement("link"),Re(g);var T=g;T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),tn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=$h.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var kp=0;function o2(i,r){return i.stylesheets&&i.count===0&&Xh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Xh(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&kp===0&&(kp=62500*BI());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Xh(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>kp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function $h(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qh=null;function Xh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qh=new Map,r.forEach(l2,i),Qh=null,$h.call(i))}function l2(i,r){if(!(r.state.loading&4)){var o=Qh.get(i);if(o)var u=o.get(null);else{o=new Map,Qh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=r.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=$h.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var vu={$$typeof:B,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function u2(i,r,o,u,d,g,T,w,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function mT(i,r,o,u,d,g,T,w,M,Y,J,nt){return i=new u2(i,r,o,T,M,Y,J,nt,w),r=1,g===!0&&(r|=24),g=In(3,null,null,r),i.current=g,g.stateNode=i,r=pm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},_m(g),i}function pT(i){return i?(i=ro,i):ro}function gT(i,r,o,u,d,g){d=pT(d),u.context===null?u.context=d:u.pendingContext=d,u=Js(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Zs(i,u,r),o!==null&&(bn(o,i,r),Xl(o,i,r))}function yT(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Lp(i,r){yT(i,r),(i=i.alternate)&&yT(i,r)}function vT(i){if(i.tag===13||i.tag===31){var r=oa(i,67108864);r!==null&&bn(r,i,67108864),Lp(i,67108864)}}function _T(i){if(i.tag===13||i.tag===31){var r=On();r=Qr(r);var o=oa(i,r);o!==null&&bn(o,i,r),Lp(i,r)}}var Wh=!0;function c2(i,r,o,u){var d=Q.T;Q.T=null;var g=rt.p;try{rt.p=2,jp(i,r,o,u)}finally{rt.p=g,Q.T=d}}function h2(i,r,o,u){var d=Q.T;Q.T=null;var g=rt.p;try{rt.p=8,jp(i,r,o,u)}finally{rt.p=g,Q.T=d}}function jp(i,r,o,u){if(Wh){var d=Up(u);if(d===null)wp(i,r,u,Jh,o),TT(i,u);else if(d2(d,i,r,o,u))u.stopPropagation();else if(TT(i,u),r&4&&-1<f2.indexOf(i)){for(;d!==null;){var g=Ln(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=xi(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var M=1<<31-ve(T);w.entanglements[1]|=M,T&=~M}Gi(g),(Kt&6)===0&&(Oh=hn()+500,fu(0))}}break;case 31:case 13:w=oa(g,2),w!==null&&bn(w,g,2),kh(),Lp(g,2)}if(g=Up(u),g===null&&wp(i,r,u,Jh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else wp(i,r,u,null,o)}}function Up(i){return i=jn(i),zp(i)}var Jh=null;function zp(i){if(Jh=null,i=Di(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Jh=i,null}function ET(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case Tl:return 2;case bl:return 8;case Ls:case Kd:return 32;case Nc:return 268435456;default:return 32}default:return 32}}var Bp=!1,cr=null,hr=null,fr=null,_u=new Map,Eu=new Map,dr=[],f2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TT(i,r){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":_u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(r.pointerId)}}function Tu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Ln(r),r!==null&&vT(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function d2(i,r,o,u,d){switch(r){case"focusin":return cr=Tu(cr,i,r,o,u,d),!0;case"dragenter":return hr=Tu(hr,i,r,o,u,d),!0;case"mouseover":return fr=Tu(fr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return _u.set(g,Tu(_u.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Eu.set(g,Tu(Eu.get(g)||null,i,r,o,u,d)),!0}return!1}function bT(i){var r=Di(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,ii(i.priority,function(){_T(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,ii(i.priority,function(){_T(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Up(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ol=u,o.target.dispatchEvent(u),Ol=null}else return r=Ln(o),r!==null&&vT(r),i.blockedOn=o,!1;r.shift()}return!0}function ST(i,r,o){Zh(i)&&o.delete(r)}function m2(){Bp=!1,cr!==null&&Zh(cr)&&(cr=null),hr!==null&&Zh(hr)&&(hr=null),fr!==null&&Zh(fr)&&(fr=null),_u.forEach(ST),Eu.forEach(ST)}function tf(i,r){i.blockedOn===r&&(i.blockedOn=null,Bp||(Bp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,m2)))}var ef=null;function wT(i){ef!==i&&(ef=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ef===i&&(ef=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(zp(u||o)===null)continue;break}var g=Ln(o);g!==null&&(i.splice(r,3),r-=3,Um(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function No(i){function r(M){return tf(M,i)}cr!==null&&tf(cr,i),hr!==null&&tf(hr,i),fr!==null&&tf(fr,i),_u.forEach(r),Eu.forEach(r);for(var o=0;o<dr.length;o++){var u=dr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<dr.length&&(o=dr[0],o.blockedOn===null);)bT(o),o.blockedOn===null&&dr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[He]||null;if(typeof g=="function")T||wT(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[He]||null)w=T.formAction;else if(zp(d)!==null)continue}else w=T.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),wT(o)}}}function AT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function Fp(i){this._internalRoot=i}nf.prototype.render=Fp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=On();gT(o,u,i,r,null,null)},nf.prototype.unmount=Fp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;gT(i.current,2,null,i,null,null),kh(),r[Ii]=null}};function nf(i){this._internalRoot=i}nf.prototype.unstable_scheduleHydration=function(i){if(i){var r=kc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<dr.length&&r!==0&&r<dr[o].priority;o++);dr.splice(o,0,i),o===0&&bT(i)}};var xT=t.version;if(xT!=="19.2.4")throw Error(s(527,xT,"19.2.4"));rt.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var p2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{ei=sf.inject(p2),Qe=sf}catch{}}return Su.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=M_,g=O_,T=P_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=mT(i,1,!1,null,null,o,u,null,d,g,T,AT),i[Ii]=r.current,Sp(i),new Fp(r)},Su.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=M_,T=O_,w=P_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),r=mT(i,1,!0,r,o??null,u,d,M,g,T,w,AT),r.context=pT(null),o=r.current,u=On(),u=Qr(u),d=Js(u),d.callback=null,Zs(o,d,u),o=u,r.current.lanes=o,Yr(r,o),Gi(r),i[Ii]=r.current,Sp(i),new nf(r)},Su.version="19.2.4",Su}var kT;function x2(){if(kT)return Gp.exports;kT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gp.exports=A2(),Gp.exports}var R2=x2();const C2=$w(R2);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LT="popstate";function I2(e={}){function t(a,l){let{pathname:c="/",search:f="",hash:m=""}=Pa(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ng("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Yu(l))}function s(a,l){Ei(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return D2(t,n,s,e)}function de(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ei(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N2(){return Math.random().toString(36).substring(2,10)}function jT(e,t){return{usr:e.state,key:e.key,idx:t}}function Ng(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Pa(t):t,state:n,key:t&&t.key||s||N2()}}function Yu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function D2(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let j=y(),O=j==null?null:j-p;p=j,m&&m({action:f,location:k.location,delta:O})}function E(j,O){f="PUSH";let q=Ng(k.location,j,O);n&&n(q,j),p=y()+1;let B=jT(q,p),tt=k.createHref(q);try{c.pushState(B,"",tt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;a.location.assign(tt)}l&&m&&m({action:f,location:k.location,delta:1})}function A(j,O){f="REPLACE";let q=Ng(k.location,j,O);n&&n(q,j),p=y();let B=jT(q,p),tt=k.createHref(q);c.replaceState(B,"",tt),l&&m&&m({action:f,location:k.location,delta:0})}function I(j){return V2(j)}let k={get action(){return f},get location(){return e(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(LT,_),m=j,()=>{a.removeEventListener(LT,_),m=null}},createHref(j){return t(a,j)},createURL:I,encodeLocation(j){let O=I(j);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:A,go(j){return c.go(j)}};return k}function V2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),de(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Yu(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Qw(e,t,n="/"){return M2(e,t,n,!1)}function M2(e,t,n,s){let a=typeof t=="string"?Pa(t):t,l=Cs(a.pathname||"/",n);if(l==null)return null;let c=Xw(e);O2(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=G2(l);f=H2(c[m],p,s)}return f}function Xw(e,t=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;de(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=ws([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(de(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Xw(c.children,t,E,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:B2(_,c.index),routesMeta:E})};return e.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let p of Ww(c.path))l(c,f,!0,p)}),t}function Ww(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Ww(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function O2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:F2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var P2=/^:[\w-]+$/,k2=3,L2=2,j2=1,U2=10,z2=-2,UT=e=>e==="*";function B2(e,t){let n=e.split("/"),s=n.length;return n.some(UT)&&(s+=z2),t&&(s+=L2),n.filter(a=>!UT(a)).reduce((a,l)=>a+(P2.test(l)?k2:l===""?j2:U2),s)}function F2(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function H2(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=zf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=zf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:ws([l,_.pathname]),pathnameBase:Q2(ws([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=ws([l,_.pathnameBase]))}return c}function zf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=q2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let I=f[E]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const A=f[E];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function q2(e,t=!1,n=!0){Ei(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function G2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ei(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var K2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Y2(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?Pa(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=zT(n.substring(1),"/"):l=zT(n,t)):l=t,{pathname:l,search:X2(s),hash:W2(a)}}function zT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Qp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jw(e){let t=$2(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Zw(e,t,n,s=!1){let a;typeof e=="string"?a=Pa(e):(a={...e},de(!a.pathname||!a.pathname.includes("?"),Qp("?","pathname","search",a)),de(!a.pathname||!a.pathname.includes("#"),Qp("#","pathname","hash",a)),de(!a.search||!a.search.includes("#"),Qp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?t[_]:"/"}let m=Y2(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ws=e=>e.join("/").replace(/\/\/+/g,"/"),Q2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,J2=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Z2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function tN(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var t1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function e1(e,t){let n=e;if(typeof n!="string"||!K2.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(t1)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Cs(c.pathname,t);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{Ei(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n1=["POST","PUT","PATCH","DELETE"];new Set(n1);var eN=["GET",...n1];new Set(eN);var rl=V.createContext(null);rl.displayName="DataRouter";var pd=V.createContext(null);pd.displayName="DataRouterState";var nN=V.createContext(!1),i1=V.createContext({isTransitioning:!1});i1.displayName="ViewTransition";var iN=V.createContext(new Map);iN.displayName="Fetchers";var sN=V.createContext(null);sN.displayName="Await";var ti=V.createContext(null);ti.displayName="Navigation";var uc=V.createContext(null);uc.displayName="Location";var Os=V.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var Dy=V.createContext(null);Dy.displayName="RouteError";var s1="REACT_ROUTER_ERROR",rN="REDIRECT",aN="ROUTE_ERROR_RESPONSE";function oN(e){if(e.startsWith(`${s1}:${rN}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function lN(e){if(e.startsWith(`${s1}:${aN}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new J2(t.status,t.statusText,t.data)}catch{}}function uN(e,{relative:t}={}){de(cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(ti),{hash:a,pathname:l,search:c}=hc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:ws([n,l])),s.createHref({pathname:f,search:c,hash:a})}function cc(){return V.useContext(uc)!=null}function ka(){return de(cc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(uc).location}var r1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a1(e){V.useContext(ti).static||V.useLayoutEffect(e)}function gd(){let{isDataRoute:e}=V.useContext(Os);return e?bN():cN()}function cN(){de(cc(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(rl),{basename:t,navigator:n}=V.useContext(ti),{matches:s}=V.useContext(Os),{pathname:a}=ka(),l=JSON.stringify(Jw(s)),c=V.useRef(!1);return a1(()=>{c.current=!0}),V.useCallback((m,p={})=>{if(Ei(c.current,r1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Zw(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ws([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}V.createContext(null);function hc(e,{relative:t}={}){let{matches:n}=V.useContext(Os),{pathname:s}=ka(),a=JSON.stringify(Jw(n));return V.useMemo(()=>Zw(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function hN(e,t){return o1(e,t)}function o1(e,t,n,s,a){var q;de(cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(ti),{matches:c}=V.useContext(Os),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let B=_&&_.path||"";u1(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=ka(),A;if(t){let B=typeof t=="string"?Pa(t):t;de(y==="/"||((q=B.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=E;let I=A.pathname||"/",k=I;if(y!=="/"){let B=y.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=Qw(e,{pathname:k});Ei(_||j!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ei(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=gN(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:ws([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:ws([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,n,s,a);return t&&O?V.createElement(uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function fN(){let e=TN(),t=Z2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:a},n):null,c)}var dN=V.createElement(fN,null),l1=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=lN(e.digest);n&&(e=n)}let t=e!==void 0?V.createElement(Os.Provider,{value:this.props.routeContext},V.createElement(Dy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?V.createElement(mN,{error:e},t):t}};l1.contextType=nN;var Xp=new WeakMap;function mN({children:e,error:t}){let{basename:n}=V.useContext(ti);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=oN(t.digest);if(s){let a=Xp.get(t);if(a)throw a;let l=e1(s.location,n);if(t1&&!Xp.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Xp.set(t,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function pN({routeContext:e,match:t,children:n}){let s=V.useContext(rl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(Os.Provider,{value:e},n)}function gN(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n==null?void 0:n.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);de(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:A}=n,I=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||I){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(y,_)=>{var E,A;s(y,{location:n.location,params:((A=(E=n.matches)==null?void 0:E[0])==null?void 0:A.params)??{},unstable_pattern:tN(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,E)=>{let A,I=!1,k=null,j=null;n&&(A=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||dN,f&&(m<0&&E===0?(u1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,j=null):m===E&&(I=!0,j=_.route.hydrateFallbackElement||null)));let O=t.concat(l.slice(0,E+1)),q=()=>{let B;return A?B=k:I?B=j:_.route.Component?B=V.createElement(_.route.Component,null):_.route.element?B=_.route.element:B=y,V.createElement(pN,{match:_,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:B})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?V.createElement(l1,{location:n.location,revalidation:n.revalidation,component:k,error:A,children:q(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):q()},null)}function Vy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yN(e){let t=V.useContext(rl);return de(t,Vy(e)),t}function vN(e){let t=V.useContext(pd);return de(t,Vy(e)),t}function _N(e){let t=V.useContext(Os);return de(t,Vy(e)),t}function My(e){let t=_N(e),n=t.matches[t.matches.length-1];return de(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function EN(){return My("useRouteId")}function TN(){var s;let e=V.useContext(Dy),t=vN("useRouteError"),n=My("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function bN(){let{router:e}=yN("useNavigate"),t=My("useNavigate"),n=V.useRef(!1);return a1(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{Ei(n.current,r1),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var BT={};function u1(e,t,n){!t&&!BT[e]&&(BT[e]=!0,Ei(!1,n))}V.memo(SN);function SN({routes:e,future:t,state:n,onError:s}){return o1(e,void 0,n,s,t)}function _f(e){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wN({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){de(!cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=Pa(n));let{pathname:p="/",search:y="",hash:_="",state:E=null,key:A="default"}=n,I=V.useMemo(()=>{let k=Cs(p,f);return k==null?null:{location:{pathname:k,search:y,hash:_,state:E,key:A},navigationType:s}},[f,p,y,_,E,A,s]);return Ei(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:V.createElement(ti.Provider,{value:m},V.createElement(uc.Provider,{children:t,value:I}))}function AN({children:e,location:t}){return hN(Dg(e),t)}function Dg(e,t=[]){let n=[];return V.Children.forEach(e,(s,a)=>{if(!V.isValidElement(s))return;let l=[...t,a];if(s.type===V.Fragment){n.push.apply(n,Dg(s.props.children,l));return}de(s.type===_f,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Dg(s.props.children,l)),n.push(c)}),n}var Ef="get",Tf="application/x-www-form-urlencoded";function yd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function xN(e){return yd(e)&&e.tagName.toLowerCase()==="button"}function RN(e){return yd(e)&&e.tagName.toLowerCase()==="form"}function CN(e){return yd(e)&&e.tagName.toLowerCase()==="input"}function IN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NN(e,t){return e.button===0&&(!t||t==="_self")&&!IN(e)}var rf=null;function DN(){if(rf===null)try{new FormData(document.createElement("form"),0),rf=!1}catch{rf=!0}return rf}var VN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(e){return e!=null&&!VN.has(e)?(Ei(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):e}function MN(e,t){let n,s,a,l,c;if(RN(e)){let f=e.getAttribute("action");s=f?Cs(f,t):null,n=e.getAttribute("method")||Ef,a=Wp(e.getAttribute("enctype"))||Tf,l=new FormData(e)}else if(xN(e)||CN(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(s=m?Cs(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||Ef,a=Wp(e.getAttribute("formenctype"))||Wp(f.getAttribute("enctype"))||Tf,l=new FormData(f,e),!DN()){let{name:p,type:y,value:_}=e;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(yd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ef,s=null,a=Tf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ON(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&Cs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function PN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function LN(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await PN(l,n);return c.links?c.links():[]}return[]}));return BN(s.flat(1).filter(kN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function FT(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{var _;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function jN(e,t,{includeHydrateFallback:n}={}){return UN(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function UN(e){return[...new Set(e)]}function zN(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function BN(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(zN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function c1(){let e=V.useContext(rl);return Oy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function FN(){let e=V.useContext(pd);return Oy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Py=V.createContext(void 0);Py.displayName="FrameworkContext";function h1(){let e=V.useContext(Py);return Oy(e,"You must render this element inside a <HydratedRouter> element"),e}function HN(e,t){let n=V.useContext(Py),[s,a]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,E=V.useRef(null);V.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let k=O=>{O.forEach(q=>{c(q.isIntersecting)})},j=new IntersectionObserver(k,{threshold:.5});return E.current&&j.observe(E.current),()=>{j.disconnect()}}},[e]),V.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let A=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:wu(f,A),onBlur:wu(m,I),onMouseEnter:wu(p,A),onMouseLeave:wu(y,I),onTouchStart:wu(_,A)}]:[!1,E,{}]}function wu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qN({page:e,...t}){let{router:n}=c1(),s=V.useMemo(()=>Qw(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(KN,{page:e,matches:s,...t}):null}function GN(e){let{manifest:t,routeModules:n}=h1(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return LN(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function KN({page:e,matches:t,...n}){let s=ka(),{future:a,manifest:l,routeModules:c}=h1(),{basename:f}=c1(),{loaderData:m,matches:p}=FN(),y=V.useMemo(()=>FT(e,t,p,l,s,"data"),[e,t,p,l,s]),_=V.useMemo(()=>FT(e,t,p,l,s,"assets"),[e,t,p,l,s]),E=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,j=!1;if(t.forEach(q=>{var tt;let B=l.routes[q.route.id];!B||!B.hasLoader||(!y.some(at=>at.route.id===q.route.id)&&q.route.id in m&&((tt=c[q.route.id])!=null&&tt.shouldRevalidate)||B.hasClientLoader?j=!0:k.add(q.route.id))}),k.size===0)return[];let O=ON(e,f,a.unstable_trailingSlashAwareDataRequests,"data");return j&&k.size>0&&O.searchParams.set("_routes",t.filter(q=>k.has(q.route.id)).map(q=>q.route.id).join(",")),[O.pathname+O.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,t,e,c]),A=V.useMemo(()=>jN(_,l),[_,l]),I=GN(_);return V.createElement(V.Fragment,null,E.map(k=>V.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),A.map(k=>V.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),I.map(({key:k,link:j})=>V.createElement("link",{key:k,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function YN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var $N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$N&&(window.__reactRouterVersion="7.13.0")}catch{}function QN({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=V.useRef();a.current==null&&(a.current=I2({window:s,v5Compat:!0}));let l=a.current,[c,f]=V.useState({action:l.action,location:l.location}),m=V.useCallback(p=>{n===!1?f(p):V.startTransition(()=>f(p))},[n]);return V.useLayoutEffect(()=>l.listen(m),[l,m]),V.createElement(wN,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d1=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...A},I){let{basename:k,unstable_useTransitions:j}=V.useContext(ti),O=typeof p=="string"&&f1.test(p),q=e1(p,k);p=q.to;let B=uN(p,{relative:a}),[tt,at,ut]=HN(s,A),N=ZN(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:j});function R(L){t&&t(L),L.defaultPrevented||N(L)}let C=V.createElement("a",{...A,...ut,href:q.absoluteURL||B,onClick:q.isExternal||l?t:R,ref:YN(I,at),target:m,"data-discover":!O&&n==="render"?"true":void 0});return tt&&!O?V.createElement(V.Fragment,null,C,V.createElement(qN,{page:B})):C});d1.displayName="Link";var XN=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=hc(c,{relative:p.relative}),E=ka(),A=V.useContext(pd),{navigator:I,basename:k}=V.useContext(ti),j=A!=null&&sD(_)&&f===!0,O=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,q=E.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(q=q.toLowerCase(),B=B?B.toLowerCase():null,O=O.toLowerCase()),B&&k&&(B=Cs(B,k)||B);const tt=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let at=q===O||!a&&q.startsWith(O)&&q.charAt(tt)==="/",ut=B!=null&&(B===O||!a&&B.startsWith(O)&&B.charAt(O.length)==="/"),N={isActive:at,isPending:ut,isTransitioning:j},R=at?t:void 0,C;typeof s=="function"?C=s(N):C=[s,at?"active":null,ut?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return V.createElement(d1,{...p,"aria-current":R,className:C,ref:y,style:L,to:c,viewTransition:f},typeof m=="function"?m(N):m)});XN.displayName="NavLink";var WN=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Ef,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E,...A},I)=>{let{unstable_useTransitions:k}=V.useContext(ti),j=nD(),O=iD(f,{relative:p}),q=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&f1.test(f),tt=at=>{if(m&&m(at),at.defaultPrevented)return;at.preventDefault();let ut=at.nativeEvent.submitter,N=(ut==null?void 0:ut.getAttribute("formmethod"))||c,R=()=>j(ut||at.currentTarget,{fetcherKey:t,method:N,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:E});k&&n!==!1?V.startTransition(()=>R()):R()};return V.createElement("form",{ref:I,method:q,action:O,onSubmit:s?m:tt,...A,"data-discover":!B&&e==="render"?"true":void 0})});WN.displayName="Form";function JN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(e){let t=V.useContext(rl);return de(t,JN(e)),t}function ZN(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=gd(),y=ka(),_=hc(e,{relative:l});return V.useCallback(E=>{if(NN(E,t)){E.preventDefault();let A=n!==void 0?n:Yu(y)===Yu(_),I=()=>p(e,{replace:A,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?V.startTransition(()=>I()):I()}},[y,p,_,n,s,t,e,a,l,c,f,m])}var tD=0,eD=()=>`__${String(++tD)}__`;function nD(){let{router:e}=m1("useSubmit"),{basename:t}=V.useContext(ti),n=EN(),s=e.fetch,a=e.navigate;return V.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:y,body:_}=MN(l,t);if(c.navigate===!1){let E=c.fetcherKey||eD();await s(E,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function iD(e,{relative:t}={}){let{basename:n}=V.useContext(ti),s=V.useContext(Os);de(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...hc(e||".",{relative:t})},c=ka();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ws([n,l.pathname])),Yu(l)}function sD(e,{relative:t}={}){let n=V.useContext(i1);de(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=m1("useViewTransitionState"),a=hc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Cs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zf(a.pathname,c)!=null||zf(a.pathname,l)!=null}const ky=V.createContext({});function Ir(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const p1=typeof window<"u",vd=p1?V.useLayoutEffect:V.useEffect,_d=V.createContext(null);function Ly(e,t){e.indexOf(t)===-1&&e.push(t)}function jy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ti=(e,t,n)=>n>t?t:n<e?e:n;let $u=()=>{};const Is={},g1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function y1(e){return typeof e=="object"&&e!==null}const v1=e=>/^0[^.\s]+$/u.test(e);function Uy(e){let t;return()=>(t===void 0&&(t=e()),t)}const An=e=>e,rD=(e,t)=>n=>t(e(n)),fc=(...e)=>e.reduce(rD),Wo=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class zy{constructor(){this.subscriptions=[]}add(t){return Ly(this.subscriptions,t),()=>jy(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const As=e=>e*1e3,Jn=e=>e/1e3;function By(e,t){return t?e*(1e3/t):0}const _1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,aD=1e-7,oD=12;function lD(e,t,n,s,a){let l,c,f=0;do c=t+(n-t)/2,l=_1(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>aD&&++f<oD);return c}function dc(e,t,n,s){if(e===t&&n===s)return An;const a=l=>lD(l,0,1,e,n);return l=>l===0||l===1?l:_1(a(l),t,s)}const E1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,T1=e=>t=>1-e(1-t),b1=dc(.33,1.53,.69,.99),Fy=T1(b1),S1=E1(Fy),w1=e=>(e*=2)<1?.5*Fy(e):.5*(2-Math.pow(2,-10*(e-1))),Hy=e=>1-Math.sin(Math.acos(e)),A1=T1(Hy),x1=E1(Hy),uD=dc(.42,0,1,1),cD=dc(0,0,.58,1),R1=dc(.42,0,.58,1),hD=e=>Array.isArray(e)&&typeof e[0]!="number",C1=e=>Array.isArray(e)&&typeof e[0]=="number",fD={linear:An,easeIn:uD,easeInOut:R1,easeOut:cD,circIn:Hy,circInOut:x1,circOut:A1,backIn:Fy,backInOut:S1,backOut:b1,anticipate:w1},dD=e=>typeof e=="string",HT=e=>{if(C1(e)){$u(e.length===4);const[t,n,s,a]=e;return dc(t,n,s,a)}else if(dD(e))return fD[e];return e},af=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mD(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(f)}const p={schedule:(y,_=!1,E=!1)=>{const I=E&&a?n:s;return _&&c.add(y),I.has(y)||I.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const pD=40;function I1(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=af.reduce((B,tt)=>(B[tt]=mD(l),B),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:A,postRender:I}=c,k=()=>{const B=Is.useManualTiming?a.timestamp:performance.now();n=!1,Is.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(B-a.timestamp,pD),1)),a.timestamp=B,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),A.process(a),I.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(k))},j=()=>{n=!0,s=!0,a.isProcessing||e(k)};return{schedule:af.reduce((B,tt)=>{const at=c[tt];return B[tt]=(ut,N=!1,R=!1)=>(n||j(),at.schedule(ut,N,R)),B},{}),cancel:B=>{for(let tt=0;tt<af.length;tt++)c[af[tt]].cancel(B)},state:a,steps:c}}const{schedule:qt,cancel:Zn,state:Ke,steps:Jp}=I1(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0);let bf;function gD(){bf=void 0}const mn={now:()=>(bf===void 0&&mn.set(Ke.isProcessing||Is.useManualTiming?Ke.timestamp:performance.now()),bf),set:e=>{bf=e,queueMicrotask(gD)}},N1=e=>t=>typeof t=="string"&&t.startsWith(e),D1=N1("--"),yD=N1("var(--"),qy=e=>yD(e)?vD.test(e.split("/*")[0].trim()):!1,vD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function qT(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const al={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qu={...al,transform:e=>Ti(0,1,e)},of={...al,default:1},ku=e=>Math.round(e*1e5)/1e5,Gy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _D(e){return e==null}const ED=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ky=(e,t)=>n=>!!(typeof n=="string"&&ED.test(n)&&n.startsWith(e)||t&&!_D(n)&&Object.prototype.hasOwnProperty.call(n,t)),V1=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Gy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},TD=e=>Ti(0,255,e),Zp={...al,transform:e=>Math.round(TD(e))},Sa={test:Ky("rgb","red"),parse:V1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Zp.transform(e)+", "+Zp.transform(t)+", "+Zp.transform(n)+", "+ku(Qu.transform(s))+")"};function bD(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Vg={test:Ky("#"),parse:bD,transform:Sa.transform},mc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gr=mc("deg"),Qi=mc("%"),pt=mc("px"),SD=mc("vh"),wD=mc("vw"),GT={...Qi,parse:e=>Qi.parse(e)/100,transform:e=>Qi.transform(e*100)},jo={test:Ky("hsl","hue"),parse:V1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Qi.transform(ku(t))+", "+Qi.transform(ku(n))+", "+ku(Qu.transform(s))+")"},Oe={test:e=>Sa.test(e)||Vg.test(e)||jo.test(e),parse:e=>Sa.test(e)?Sa.parse(e):jo.test(e)?jo.parse(e):Vg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Sa.transform(e):jo.transform(e),getAnimatableNone:e=>{const t=Oe.parse(e);return t.alpha=0,Oe.transform(t)}},AD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xD(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Gy))==null?void 0:t.length)||0)+(((n=e.match(AD))==null?void 0:n.length)||0)>0}const M1="number",O1="color",RD="var",CD="var(",KT="${}",ID=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(ID,m=>(Oe.test(m)?(s.color.push(l),a.push(O1),n.push(Oe.parse(m))):m.startsWith(CD)?(s.var.push(l),a.push(RD),n.push(m)):(s.number.push(l),a.push(M1),n.push(parseFloat(m))),++l,KT)).split(KT);return{values:n,split:f,indexes:s,types:a}}function P1(e){return Xu(e).values}function k1(e){const{split:t,types:n}=Xu(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===M1?l+=ku(a[c]):f===O1?l+=Oe.transform(a[c]):l+=a[c]}return l}}const ND=e=>typeof e=="number"?0:Oe.test(e)?Oe.getAnimatableNone(e):e;function DD(e){const t=P1(e);return k1(e)(t.map(ND))}const Nr={test:xD,parse:P1,createTransformer:k1,getAnimatableNone:DD};function tg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function VD({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=tg(m,f,e+1/3),l=tg(m,f,e),c=tg(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Bf(e,t){return n=>n>0?t:e}const fe=(e,t,n)=>e+(t-e)*n,eg=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},MD=[Vg,Sa,jo],OD=e=>MD.find(t=>t.test(e));function YT(e){const t=OD(e);if(!t)return!1;let n=t.parse(e);return t===jo&&(n=VD(n)),n}const $T=(e,t)=>{const n=YT(e),s=YT(t);if(!n||!s)return Bf(e,t);const a={...n};return l=>(a.red=eg(n.red,s.red,l),a.green=eg(n.green,s.green,l),a.blue=eg(n.blue,s.blue,l),a.alpha=fe(n.alpha,s.alpha,l),Sa.transform(a))},Mg=new Set(["none","hidden"]);function PD(e,t){return Mg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function kD(e,t){return n=>fe(e,t,n)}function Yy(e){return typeof e=="number"?kD:typeof e=="string"?qy(e)?Bf:Oe.test(e)?$T:UD:Array.isArray(e)?L1:typeof e=="object"?Oe.test(e)?$T:LD:Bf}function L1(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Yy(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function LD(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Yy(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function jD(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],f=e.values[c]??0;n[a]=f,s[l]++}return n}const UD=(e,t)=>{const n=Nr.createTransformer(t),s=Xu(e),a=Xu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Mg.has(e)&&!a.values.length||Mg.has(t)&&!s.values.length?PD(e,t):fc(L1(jD(s,a),a.values),n):Bf(e,t)};function j1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fe(e,t,n):Yy(e)(e,t)}const zD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>qt.update(t,n),stop:()=>Zn(t),now:()=>Ke.isProcessing?Ke.timestamp:mn.now()}},U1=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ff=2e4;function $y(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Ff;)t+=n,s=e.next(t);return t>=Ff?1/0:t}function BD(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min($y(s),Ff);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Jn(a)}}const FD=5;function z1(e,t,n){const s=Math.max(t-FD,0);return By(n-e(s),t-s)}const ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ng=.001;function HD({duration:e=ye.duration,bounce:t=ye.bounce,velocity:n=ye.velocity,mass:s=ye.mass}){let a,l,c=1-t;c=Ti(ye.minDamping,ye.maxDamping,c),e=Ti(ye.minDuration,ye.maxDuration,Jn(e)),c<1?(a=p=>{const y=p*c,_=y*e,E=y-n,A=Og(p,c),I=Math.exp(-_);return ng-E/A*I},l=p=>{const _=p*c*e,E=_*n+n,A=Math.pow(c,2)*Math.pow(p,2)*e,I=Math.exp(-_),k=Og(Math.pow(p,2),c);return(-a(p)+ng>0?-1:1)*((E-A)*I)/k}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-ng+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=GD(a,l,f);if(e=As(e),isNaN(m))return{stiffness:ye.stiffness,damping:ye.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const qD=12;function GD(e,t,n){let s=n;for(let a=1;a<qD;a++)s=s-e(s)/t(s);return s}function Og(e,t){return e*Math.sqrt(1-t*t)}const KD=["duration","bounce"],YD=["stiffness","damping","mass"];function QT(e,t){return t.some(n=>e[n]!==void 0)}function $D(e){let t={velocity:ye.velocity,stiffness:ye.stiffness,damping:ye.damping,mass:ye.mass,isResolvedFromDuration:!1,...e};if(!QT(e,YD)&&QT(e,KD))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ti(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ye.mass,stiffness:a,damping:l}}else{const n=HD(e);t={...t,...n,mass:ye.mass},t.isResolvedFromDuration=!0}return t}function Hf(e=ye.visualDuration,t=ye.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:A}=$D({...n,velocity:-Jn(n.velocity||0)}),I=E||0,k=p/(2*Math.sqrt(m*y)),j=c-l,O=Jn(Math.sqrt(m/y)),q=Math.abs(j)<5;s||(s=q?ye.restSpeed.granular:ye.restSpeed.default),a||(a=q?ye.restDelta.granular:ye.restDelta.default);let B;if(k<1){const at=Og(O,k);B=ut=>{const N=Math.exp(-k*O*ut);return c-N*((I+k*O*j)/at*Math.sin(at*ut)+j*Math.cos(at*ut))}}else if(k===1)B=at=>c-Math.exp(-O*at)*(j+(I+O*j)*at);else{const at=O*Math.sqrt(k*k-1);B=ut=>{const N=Math.exp(-k*O*ut),R=Math.min(at*ut,300);return c-N*((I+k*O*j)*Math.sinh(R)+at*j*Math.cosh(R))/at}}const tt={calculatedDuration:A&&_||null,next:at=>{const ut=B(at);if(A)f.done=at>=_;else{let N=at===0?I:0;k<1&&(N=at===0?As(I):z1(B,at,ut));const R=Math.abs(N)<=s,C=Math.abs(c-ut)<=a;f.done=R&&C}return f.value=f.done?c:ut,f},toString:()=>{const at=Math.min($y(tt),Ff),ut=U1(N=>tt.next(at*N).value,at,30);return at+"ms "+ut},toTransition:()=>{}};return tt}Hf.applyToOptions=e=>{const t=BD(e,100,Hf);return e.ease=t.ease,e.duration=As(t.duration),e.type="keyframes",e};function Pg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],E={done:!1,value:_},A=R=>f!==void 0&&R<f||m!==void 0&&R>m,I=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let k=n*t;const j=_+k,O=c===void 0?j:c(j);O!==j&&(k=O-_);const q=R=>-k*Math.exp(-R/s),B=R=>O+q(R),tt=R=>{const C=q(R),L=B(R);E.done=Math.abs(C)<=p,E.value=E.done?O:L};let at,ut;const N=R=>{A(E.value)&&(at=R,ut=Hf({keyframes:[E.value,I(E.value)],velocity:z1(B,R,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:R=>{let C=!1;return!ut&&at===void 0&&(C=!0,tt(R),N(R)),at!==void 0&&R>=at?ut.next(R-at):(!C&&tt(R),E)}}}function QD(e,t,n){const s=[],a=n||Is.mix||j1,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||An:t;f=fc(m,f)}s.push(f)}return s}function Qy(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if($u(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=QD(t,s,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const E=Wo(e[_],e[_+1],y);return f[_](E)};return n?y=>p(Ti(e[0],e[l-1],y)):p}function XD(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Wo(0,t,s);e.push(fe(n,1,a))}}function B1(e){const t=[0];return XD(t,e.length-1),t}function WD(e,t){return e.map(n=>n*t)}function JD(e,t){return e.map(()=>t||R1).splice(0,e.length-1)}function Lu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=hD(s)?s.map(HT):HT(s),l={done:!1,value:t[0]},c=WD(n&&n.length===t.length?n:B1(t),e),f=Qy(c,t,{ease:Array.isArray(a)?a:JD(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const ZD=e=>e!==null;function Xy(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(ZD),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const tV={decay:Pg,inertia:Pg,tween:Lu,keyframes:Lu,spring:Hf};function F1(e){typeof e.type=="string"&&(e.type=tV[e.type])}class Wy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const eV=e=>e/100;class Jy extends Wy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;F1(t);const{type:n=Lu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||Lu;m!==Lu&&typeof f[0]!="number"&&(this.mixKeyframes=fc(eV,j1(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=$y(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:A,type:I,onUpdate:k,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,tt=s;if(_){const R=Math.min(this.currentTime,a)/f;let C=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(E==="reverse"?(L=1-L,A&&(L-=A/f)):E==="mirror"&&(tt=c)),B=Ti(0,1,L)*f}const at=q?{done:!1,value:y[0]}:tt.next(B);l&&(at.value=l(at.value));let{done:ut}=at;!q&&m!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return N&&I!==Pg&&(at.value=Xy(y,this.options,j,this.speed)),k&&k(at.value),N&&this.finish(),at}then(t,n){return this.finished.then(t,n)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(this.currentTime)}set time(t){var n;t=As(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Jn(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=zD,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function nV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wa=e=>e*180/Math.PI,kg=e=>{const t=wa(Math.atan2(e[1],e[0]));return Lg(t)},iV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:kg,rotateZ:kg,skewX:e=>wa(Math.atan(e[1])),skewY:e=>wa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Lg=e=>(e=e%360,e<0&&(e+=360),e),XT=kg,WT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),JT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),sV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WT,scaleY:JT,scale:e=>(WT(e)+JT(e))/2,rotateX:e=>Lg(wa(Math.atan2(e[6],e[5]))),rotateY:e=>Lg(wa(Math.atan2(-e[2],e[0]))),rotateZ:XT,rotate:XT,skewX:e=>wa(Math.atan(e[4])),skewY:e=>wa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jg(e){return e.includes("scale")?1:0}function Ug(e,t){if(!e||e==="none")return jg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=sV,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=iV,a=f}if(!a)return jg(t);const l=s[t],c=a[1].split(",").map(aV);return typeof l=="function"?l(c):c[l]}const rV=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ug(n,t)};function aV(e){return parseFloat(e.trim())}const ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ll=new Set(ol),ZT=e=>e===al||e===pt,oV=new Set(["x","y","z"]),lV=ol.filter(e=>!oV.has(e));function uV(e){const t=[];return lV.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ug(t,"x"),y:(e,{transform:t})=>Ug(t,"y")};br.translateX=br.x;br.translateY=br.y;const xa=new Set;let zg=!1,Bg=!1,Fg=!1;function H1(){if(Bg){const e=Array.from(xa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=uV(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Bg=!1,zg=!1,xa.forEach(e=>e.complete(Fg)),xa.clear()}function q1(){xa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bg=!0)})}function cV(){Fg=!0,q1(),H1(),Fg=!1}class Zy{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(xa.add(this),zg||(zg=!0,qt.read(q1),qt.resolveKeyframes(H1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}nV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),xa.delete(this)}cancel(){this.state==="scheduled"&&(xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hV=e=>e.startsWith("--");function fV(e,t,n){hV(t)?e.style.setProperty(t,n):e.style[t]=n}const G1=Uy(()=>window.ScrollTimeline!==void 0),dV={};function mV(e,t){const n=Uy(e);return()=>dV[t]??n()}const K1=mV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ru=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,tb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ru([0,.65,.55,1]),circOut:Ru([.55,0,1,.45]),backIn:Ru([.31,.01,.66,-.59]),backOut:Ru([.33,1.53,.69,.99])};function Y1(e,t){if(e)return typeof e=="function"?K1()?U1(e,t):"ease-out":C1(e)?Ru(e):Array.isArray(e)?e.map(n=>Y1(n,t)||tb.easeOut):tb[e]}function pV(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=Y1(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),e.animate(y,E)}function $1(e){return typeof e=="function"&&"applyToOptions"in e}function gV({type:e,...t}){return $1(e)&&K1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class yV extends Wy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,$u(typeof t.type!="string");const p=gV(t);this.animation=pV(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Xy(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):fV(n,s,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,a;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((a=(s=this.animation).commitStyles)==null||a.call(s))}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Jn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=As(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&G1()?(this.animation.timeline=t,An):n(this)}}const Q1={anticipate:w1,backInOut:S1,circInOut:x1};function vV(e){return e in Q1}function _V(e){typeof e.ease=="string"&&vV(e.ease)&&(e.ease=Q1[e.ease])}const ig=10;class EV extends yV{constructor(t){_V(t),F1(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Jy({...c,autoplay:!1}),m=Math.max(ig,mn.now()-this.startTime),p=Ti(0,ig,m-ig);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const eb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Nr.test(e)||e==="0")&&!e.startsWith("url("));function TV(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bV(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=eb(a,t),f=eb(l,t);return!c||!f?!1:TV(e)||(n==="spring"||$1(n))&&s}function Hg(e){e.duration=0,e.type="keyframes"}const SV=new Set(["opacity","clipPath","filter","transform"]),wV=Uy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function AV(e){var y;const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return wV()&&n&&SV.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const xV=40;class RV extends Wy{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var I;super(),this.stop=()=>{var k,j;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=mn.now();const E={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},A=(y==null?void 0:y.KeyframeResolver)||Zy;this.keyframeResolver=new A(f,(k,j,O)=>this.onKeyframesResolved(k,j,E,!O),m,p,y),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(t,n,s,a){var j,O;this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=mn.now(),bV(t,l,c,f)||((Is.instantAnimations||!m)&&(y==null||y(Xy(t,s,n))),t[0]=t[t.length-1],Hg(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>xV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},A=!p&&AV(E),I=(O=(j=E.motionValue)==null?void 0:j.owner)==null?void 0:O.current,k=A?new EV({...E,element:I}):new Jy(E);k.finished.then(()=>{this.notifyFinished()}).catch(An),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),cV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function X1(e,t,n,s=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}const CV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IV(e){const t=CV.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function W1(e,t,n=1){const[s,a]=IV(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return g1(c)?parseFloat(c):c}return qy(a)?W1(a,t,n+1):a}const NV={type:"spring",stiffness:500,damping:25,restSpeed:10},DV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VV={type:"keyframes",duration:.8},MV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OV=(e,{keyframes:t})=>t.length>2?VV:ll.has(e)?e.startsWith("scale")?DV(t[1]):NV:MV,PV=e=>e!==null;function kV(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(PV),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function t0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function LV({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const e0=(e,t,n,s={},a,l)=>c=>{const f=t0(s,e)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-As(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:E=>{t.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};LV(f)||Object.assign(y,OV(e,y)),y.duration&&(y.duration=As(y.duration)),y.repeatDelay&&(y.repeatDelay=As(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Hg(y),y.delay===0&&(_=!0)),(Is.instantAnimations||Is.skipAnimations||a!=null&&a.shouldSkipAnimations)&&(_=!0,Hg(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const E=kV(y.keyframes,f);if(E!==void 0){qt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new Jy(y):new RV(y)};function nb(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function n0(e,t,n,s){if(typeof t=="function"){const[a,l]=nb(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=nb(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function qo(e,t,n){const s=e.getProps();return n0(s,t,n!==void 0?n:s.custom,e)}const J1=new Set(["width","height","top","left","right","bottom",...ol]),ib=30,jV=e=>!isNaN(parseFloat(e)),ju={current:void 0};class UV{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new zy);const s=this.events[t].add(n);return t==="change"?()=>{s(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return ju.current&&ju.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ib)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ib);return By(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pi(e,t){return new UV(e,t)}const qg=e=>Array.isArray(e);function zV(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pi(n))}function BV(e){return qg(e)?e[e.length-1]||0:e}function FV(e,t){const n=qo(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=BV(l[c]);zV(e,c,f)}}const un=e=>!!(e&&e.getVelocity);function HV(e){return!!(un(e)&&e.add)}function Gg(e,t){const n=e.getValue("willChange");if(HV(n))return n.add(t);if(!n&&Is.WillChange){const s=new Is.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function i0(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const qV="framerAppearId",Z1="data-"+i0(qV);function tA(e){return e.props[Z1]}function GV({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function eA(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;const m=l==null?void 0:l.reduceMotion;s&&(l=s);const p=[],y=a&&e.animationState&&e.animationState.getState()[a];for(const _ in f){const E=e.getValue(_,e.latestValues[_]??null),A=f[_];if(A===void 0||y&&GV(y,_))continue;const I={delay:n,...t0(l||{},_)},k=E.get();if(k!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===k&&!I.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const B=tA(e);if(B){const tt=window.MotionHandoffAnimation(B,_,qt);tt!==null&&(I.startTime=tt,j=!0)}}Gg(e,_);const O=m??e.shouldReduceMotion;E.start(e0(_,E,A,O&&J1.has(_)?{type:!1}:I,e,j));const q=E.animation;q&&p.push(q)}return c&&Promise.all(p).then(()=>{qt.update(()=>{c&&FV(e,c)})}),p}function Kg(e,t,n={}){var m;const s=qo(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(eA(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return KV(e,t,p,y,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function KV(e,t,n=0,s=0,a=0,l=1,c){const f=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),f.push(Kg(m,t,{...c,delay:n+(typeof s=="function"?0:s)+X1(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function YV(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Kg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Kg(e,t,n);else{const a=typeof t=="function"?qo(e,t,n.custom):t;s=Promise.all(eA(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const $V={test:e=>e==="auto",parse:e=>e},nA=e=>t=>t.test(e),iA=[al,pt,Qi,gr,wD,SD,$V],sb=e=>iA.find(nA(e));function QV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||v1(e):!0}const XV=new Set(["brightness","contrast","saturate","opacity"]);function WV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Gy)||[];if(!s)return e;const a=n.replace(s,"");let l=XV.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const JV=/\b([a-z-]*)\(.*?\)/gu,Yg={...Nr,getAnimatableNone:e=>{const t=e.match(JV);return t?t.map(WV).join(" "):e}},rb={...al,transform:Math.round},ZV={rotate:gr,rotateX:gr,rotateY:gr,rotateZ:gr,scale:of,scaleX:of,scaleY:of,scaleZ:of,skew:gr,skewX:gr,skewY:gr,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:Qu,originX:GT,originY:GT,originZ:pt},s0={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,inset:pt,insetBlock:pt,insetBlockStart:pt,insetBlockEnd:pt,insetInline:pt,insetInlineStart:pt,insetInlineEnd:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockStart:pt,paddingBlockEnd:pt,paddingInline:pt,paddingInlineStart:pt,paddingInlineEnd:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockStart:pt,marginBlockEnd:pt,marginInline:pt,marginInlineStart:pt,marginInlineEnd:pt,fontSize:pt,backgroundPositionX:pt,backgroundPositionY:pt,...ZV,zIndex:rb,fillOpacity:Qu,strokeOpacity:Qu,numOctaves:rb},tM={...s0,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Yg,WebkitFilter:Yg},sA=e=>tM[e];function rA(e,t){let n=sA(e);return n!==Yg&&(n=Nr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const eM=new Set(["auto","none","0"]);function nM(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!eM.has(l)&&Xu(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=rA(n,a)}class iM extends Zy{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),qy(_))){const E=W1(_,n.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!J1.has(s)||t.length!==2)return;const[a,l]=t,c=sb(a),f=sb(l),m=qT(a),p=qT(l);if(m!==p&&br[s]){this.needsMeasurement=!0;return}if(c!==f)if(ZT(c)&&ZT(f))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else br[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||QV(t[a]))&&s.push(a);s.length&&nM(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=br[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=br[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function aA(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const a=document.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const oA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function qf(e){return y1(e)&&"offsetHeight"in e}const{schedule:r0}=I1(queueMicrotask,!1),mi={x:!1,y:!1};function lA(){return mi.x||mi.y}function sM(e){return e==="x"||e==="y"?mi[e]?null:(mi[e]=!0,()=>{mi[e]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function uA(e,t){const n=aA(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function ab(e){return!(e.pointerType==="touch"||lA())}function rM(e,t,n={}){const[s,a,l]=uA(e,n),c=f=>{if(!ab(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{ab(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const cA=(e,t)=>t?e===t?!0:cA(e,t.parentElement):!1,a0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,aM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oM(e){return aM.has(e.tagName)||e.isContentEditable===!0}const lM=new Set(["INPUT","SELECT","TEXTAREA"]);function uM(e){return lM.has(e.tagName)||e.isContentEditable===!0}const Sf=new WeakSet;function ob(e){return t=>{t.key==="Enter"&&e(t)}}function sg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cM=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=ob(()=>{if(Sf.has(n))return;sg(n,"down");const a=ob(()=>{sg(n,"up")}),l=()=>sg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function lb(e){return a0(e)&&!lA()}function hM(e,t,n={}){const[s,a,l]=uA(e,n),c=f=>{const m=f.currentTarget;if(!lb(f))return;Sf.add(m);const p=t(m,f),y=(A,I)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),Sf.has(m)&&Sf.delete(m),lb(A)&&typeof p=="function"&&p(A,{success:I})},_=A=>{y(A,m===window||m===document||n.useGlobalTarget||cA(m,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),qf(f)&&(f.addEventListener("focus",p=>cM(p,a)),!oM(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function o0(e){return y1(e)&&"ownerSVGElement"in e}const wf=new WeakMap;let yr;const hA=(e,t,n)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:o0(s)&&"getBBox"in s?s.getBBox()[t]:s[n],fM=hA("inline","width","offsetWidth"),dM=hA("block","height","offsetHeight");function mM({target:e,borderBoxSize:t}){var n;(n=wf.get(e))==null||n.forEach(s=>{s(e,{get width(){return fM(e,t)},get height(){return dM(e,t)}})})}function pM(e){e.forEach(mM)}function gM(){typeof ResizeObserver>"u"||(yr=new ResizeObserver(pM))}function yM(e,t){yr||gM();const n=aA(e);return n.forEach(s=>{let a=wf.get(s);a||(a=new Set,wf.set(s,a)),a.add(t),yr==null||yr.observe(s)}),()=>{n.forEach(s=>{const a=wf.get(s);a==null||a.delete(t),a!=null&&a.size||yr==null||yr.unobserve(s)})}}const Af=new Set;let Uo;function vM(){Uo=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Af.forEach(t=>t(e))},window.addEventListener("resize",Uo)}function _M(e){return Af.add(e),Uo||vM(),()=>{Af.delete(e),!Af.size&&typeof Uo=="function"&&(window.removeEventListener("resize",Uo),Uo=void 0)}}function EM(e,t){return typeof e=="function"?_M(e):yM(e,t)}function fA(e,t){let n;const s=()=>{const{currentTime:a}=t,c=(a===null?0:a.value)/100;n!==c&&e(c),n=c};return qt.preUpdate(s,!0),()=>Zn(s)}function TM(e){return o0(e)&&e.tagName==="svg"}function bM(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],a=e[1+n],l=e[2+n],c=e[3+n],f=Qy(a,l,c);return t?f(s):f}const SM=[...iA,Oe,Nr],wM=e=>SM.find(nA(e)),ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),zo=()=>({x:ub(),y:ub()}),cb=()=>({min:0,max:0}),Be=()=>({x:cb(),y:cb()}),$g={current:null},dA={current:!1},AM=typeof window<"u";function xM(){if(dA.current=!0,!!AM)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$g.current=e.matches;e.addEventListener("change",t),t()}else $g.current=!1}const RM=new WeakMap;function Ed(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Wu(e){return typeof e=="string"||Array.isArray(e)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u0=["initial",...l0];function Td(e){return Ed(e.animate)||u0.some(t=>Wu(e[t]))}function mA(e){return!!(Td(e)||e.variants)}function CM(e,t,n){for(const s in t){const a=t[s],l=n[s];if(un(a))e.addValue(s,a);else if(un(l))e.addValue(s,pi(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,pi(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const hb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Gf={};function pA(e){Gf=e}function IM(){return Gf}class NM{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Zy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=mn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,qt.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Td(n),this.isVariantNode=mA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in E){const I=E[A];p[A]!==void 0&&un(I)&&I.set(p[A])}}mount(t){var n;this.current=t,RM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(dA.current||xM(),this.shouldReduceMotion=$g.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Zn(this.notifyUpdate),Zn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ll.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&qt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gf){const n=Gf[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<hb.length;s++){const a=hb[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=CM(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=pi(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(g1(s)||v1(s))?s=parseFloat(s):!wM(s)&&Nr.test(n)&&(s=rA(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=n0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new zy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){r0.render(this.render)}}class gA extends NM{constructor(){super(...arguments),this.KeyframeResolver=iM}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function yA({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function DM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VM(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function rg(e){return e===void 0||e===1}function Qg({scale:e,scaleX:t,scaleY:n}){return!rg(e)||!rg(t)||!rg(n)}function Ta(e){return Qg(e)||vA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vA(e){return fb(e.x)||fb(e.y)}function fb(e){return e&&e!=="0%"}function Kf(e,t,n){const s=e-n,a=t*s;return n+a}function db(e,t,n,s,a){return a!==void 0&&(e=Kf(e,a,s)),Kf(e,n,s)+t}function Xg(e,t=0,n=1,s,a){e.min=db(e.min,t,n,s,a),e.max=db(e.max,t,n,s,a)}function _A(e,{x:t,y:n}){Xg(e.x,t.translate,t.scale,t.originPoint),Xg(e.y,n.translate,n.scale,n.originPoint)}const mb=.999999999999,pb=1.0000000000001;function MM(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Fo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,_A(e,c)),s&&Ta(l.latestValues)&&Fo(e,l.latestValues))}t.x<pb&&t.x>mb&&(t.x=1),t.y<pb&&t.y>mb&&(t.y=1)}function Bo(e,t){e.min=e.min+t,e.max=e.max+t}function gb(e,t,n,s,a=.5){const l=fe(e.min,e.max,a);Xg(e,t,n,l,s)}function Fo(e,t){gb(e.x,t.x,t.scaleX,t.scale,t.originX),gb(e.y,t.y,t.scaleY,t.scale,t.originY)}function EA(e,t){return yA(VM(e.getBoundingClientRect(),t))}function OM(e,t,n){const s=EA(e,n),{scroll:a}=t;return a&&(Bo(s.x,a.offset.x),Bo(s.y,a.offset.y)),s}const PM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kM=ol.length;function LM(e,t,n){let s="",a=!0;for(let l=0;l<kM;l++){const c=ol[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(c.startsWith("scale")?1:0);else{const p=parseFloat(f);m=c.startsWith("scale")?p===1:p===0}if(!m||n){const p=oA(f,s0[c]);if(!m){a=!1;const y=PM[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function c0(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(ll.has(m)){c=!0;continue}else if(D1(m)){a[m]=p;continue}else{const y=oA(p,s0[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=LM(t,e.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}function TA(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function yb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Au={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pt.test(e))e=parseFloat(e);else return e;const n=yb(e,t.target.x),s=yb(e,t.target.y);return`${n}% ${s}%`}},jM={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=Nr.parse(e);if(a.length>5)return s;const l=Nr.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=fe(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Wg={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:jM};function bA(e,{layout:t,layoutId:n}){return ll.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wg[e]||e==="opacity")}function h0(e,t,n){var c;const s=e.style,a=t==null?void 0:t.style,l={};if(!s)return l;for(const f in s)(un(s[f])||a&&un(a[f])||bA(f,e)||((c=n==null?void 0:n.getValue(f))==null?void 0:c.liveStyle)!==void 0)&&(l[f]=s[f]);return l}function UM(e){return window.getComputedStyle(e)}class zM extends gA{constructor(){super(...arguments),this.type="html",this.renderInstance=TA}readValueFromInstance(t,n){var s;if(ll.has(n))return(s=this.projection)!=null&&s.isProjecting?jg(n):rV(t,n);{const a=UM(t),l=(D1(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return EA(t,n)}build(t,n,s){c0(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return h0(t,n,s)}}const BM={offset:"stroke-dashoffset",array:"stroke-dasharray"},FM={offset:"strokeDashoffset",array:"strokeDasharray"};function HM(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?BM:FM;e[l.offset]=`${-s}`,e[l.array]=`${t} ${n}`}const qM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function SA(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(c0(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:E}=e;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox);for(const A of qM)_[A]!==void 0&&(E[A]=_[A],delete _[A]);t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&HM(_,a,l,c,!1)}const wA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),AA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function GM(e,t,n,s){TA(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(wA.has(a)?a:i0(a),t.attrs[a])}function xA(e,t,n){const s=h0(e,t,n);for(const a in e)if(un(e[a])||un(t[a])){const l=ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class KM extends gA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ll.has(n)){const s=sA(n);return s&&s.default||0}return n=wA.has(n)?n:i0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return xA(t,n,s)}build(t,n,s){SA(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){GM(t,n,s,a)}mount(t){this.isSVGTag=AA(t.tagName),super.mount(t)}}const YM=u0.length;function RA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?RA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<YM;n++){const s=u0[n],a=e.props[s];(Wu(a)||a===!1)&&(t[s]=a)}return t}function CA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const $M=[...l0].reverse(),QM=l0.length;function XM(e){return t=>Promise.all(t.map(({animation:n,options:s})=>YV(e,n,s)))}function WM(e){let t=XM(e),n=vb(),s=!0;const a=m=>(p,y)=>{var E;const _=qo(e,y,m==="exit"?(E=e.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:A,transitionEnd:I,...k}=_;p={...p,...k,...I}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=RA(e.parent)||{},_=[],E=new Set;let A={},I=1/0;for(let j=0;j<QM;j++){const O=$M[j],q=n[O],B=p[O]!==void 0?p[O]:y[O],tt=Wu(B),at=O===m?q.isActive:null;at===!1&&(I=j);let ut=B===y[O]&&B!==p[O]&&tt;if(ut&&s&&e.manuallyAnimateOnMount&&(ut=!1),q.protectedKeys={...A},!q.isActive&&at===null||!B&&!q.prevProp||Ed(B)||typeof B=="boolean")continue;const N=JM(q.prevProp,B);let R=N||O===m&&q.isActive&&!ut&&tt||j>I&&tt,C=!1;const L=Array.isArray(B)?B:[B];let P=L.reduce(a(O),{});at===!1&&(P={});const{prevResolvedValues:F={}}=q,D={...F,...P},$t=rt=>{R=!0,E.has(rt)&&(C=!0,E.delete(rt)),q.needsAnimating[rt]=!0;const dt=e.getValue(rt);dt&&(dt.liveStyle=!1)};for(const rt in D){const dt=P[rt],Ct=F[rt];if(A.hasOwnProperty(rt))continue;let Mt=!1;qg(dt)&&qg(Ct)?Mt=!CA(dt,Ct):Mt=dt!==Ct,Mt?dt!=null?$t(rt):E.add(rt):dt!==void 0&&E.has(rt)?$t(rt):q.protectedKeys[rt]=!0}q.prevProp=B,q.prevResolvedValues=P,q.isActive&&(A={...A,...P}),s&&e.blockInitialAnimation&&(R=!1);const le=ut&&N;R&&(!le||C)&&_.push(...L.map(rt=>{const dt={type:O};if(typeof rt=="string"&&s&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,Mt=qo(Ct,rt);if(Ct.enteringChildren&&Mt){const{delayChildren:z}=Mt.transition||{};dt.delay=X1(Ct.enteringChildren,e,z)}}return{animation:rt,options:dt}}))}if(E.size){const j={};if(typeof p.initial!="boolean"){const O=qo(e,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(j.transition=O.transition)}E.forEach(O=>{const q=e.getBaseTarget(O),B=e.getValue(O);B&&(B.liveStyle=!0),j[O]=q??null}),_.push({animation:j})}let k=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(k=!1),s=!1,k?t(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=vb()}}}function JM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!CA(t,e):!1}function Ea(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vb(){return{animate:Ea(!0),whileInView:Ea(),whileHover:Ea(),whileTap:Ea(),whileDrag:Ea(),whileFocus:Ea(),exit:Ea()}}function _b(e,t){e.min=t.min,e.max=t.max}function di(e,t){_b(e.x,t.x),_b(e.y,t.y)}function Eb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const IA=1e-4,ZM=1-IA,tO=1+IA,NA=.01,eO=0-NA,nO=0+NA;function pn(e){return e.max-e.min}function iO(e,t,n){return Math.abs(e-t)<=n}function Tb(e,t,n,s=.5){e.origin=s,e.originPoint=fe(t.min,t.max,e.origin),e.scale=pn(n)/pn(t),e.translate=fe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ZM&&e.scale<=tO||isNaN(e.scale))&&(e.scale=1),(e.translate>=eO&&e.translate<=nO||isNaN(e.translate))&&(e.translate=0)}function Uu(e,t,n,s){Tb(e.x,t.x,n.x,s?s.originX:void 0),Tb(e.y,t.y,n.y,s?s.originY:void 0)}function bb(e,t,n){e.min=n.min+t.min,e.max=e.min+pn(t)}function sO(e,t,n){bb(e.x,t.x,n.x),bb(e.y,t.y,n.y)}function Sb(e,t,n){e.min=t.min-n.min,e.max=e.min+pn(t)}function Yf(e,t,n){Sb(e.x,t.x,n.x),Sb(e.y,t.y,n.y)}function wb(e,t,n,s,a){return e-=t,e=Kf(e,1/n,s),a!==void 0&&(e=Kf(e,1/a,s)),e}function rO(e,t=0,n=1,s=.5,a,l=e,c=e){if(Qi.test(t)&&(t=parseFloat(t),t=fe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=fe(l.min,l.max,s);e===l&&(f-=t),e.min=wb(e.min,t,n,f,a),e.max=wb(e.max,t,n,f,a)}function Ab(e,t,[n,s,a],l,c){rO(e,t[n],t[s],t[a],t.scale,l,c)}const aO=["x","scaleX","originX"],oO=["y","scaleY","originY"];function xb(e,t,n,s){Ab(e.x,t,aO,n?n.x:void 0,s?s.x:void 0),Ab(e.y,t,oO,n?n.y:void 0,s?s.y:void 0)}function Rb(e){return e.translate===0&&e.scale===1}function DA(e){return Rb(e.x)&&Rb(e.y)}function Cb(e,t){return e.min===t.min&&e.max===t.max}function lO(e,t){return Cb(e.x,t.x)&&Cb(e.y,t.y)}function Ib(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function VA(e,t){return Ib(e.x,t.x)&&Ib(e.y,t.y)}function Nb(e){return pn(e.x)/pn(e.y)}function Db(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Qn(e){return[e("x"),e("y")]}function uO(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:A,skewY:I}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),A&&(s+=`skewX(${A}deg) `),I&&(s+=`skewY(${I}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const MA=["TopLeft","TopRight","BottomLeft","BottomRight"],cO=MA.length,Vb=e=>typeof e=="string"?parseFloat(e):e,Mb=e=>typeof e=="number"||pt.test(e);function hO(e,t,n,s,a,l){a?(e.opacity=fe(0,n.opacity??1,fO(s)),e.opacityExit=fe(t.opacity??1,0,dO(s))):l&&(e.opacity=fe(t.opacity??1,n.opacity??1,s));for(let c=0;c<cO;c++){const f=`border${MA[c]}Radius`;let m=Ob(t,f),p=Ob(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Mb(m)===Mb(p)?(e[f]=Math.max(fe(Vb(m),Vb(p),s),0),(Qi.test(p)||Qi.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=fe(t.rotate||0,n.rotate||0,s))}function Ob(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fO=OA(0,.5,A1),dO=OA(.5,.95,An);function OA(e,t,n){return s=>s<e?0:s>t?1:n(Wo(e,t,s))}function mO(e,t,n){const s=un(e)?e:pi(e);return s.start(e0("",s,t,n)),s.animation}function Ju(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const pO=(e,t)=>e.depth-t.depth;class gO{constructor(){this.children=[],this.isDirty=!1}add(t){Ly(this.children,t),this.isDirty=!0}remove(t){jy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pO),this.isDirty=!1,this.children.forEach(t)}}function yO(e,t){const n=mn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Zn(s),e(l-t))};return qt.setup(s,!0),()=>Zn(s)}function xf(e){return un(e)?e.get():e}class vO{constructor(){this.members=[]}add(t){Ly(this.members,t),t.scheduleRender()}remove(t){if(jy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:f}=t.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Rf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ag=["","X","Y","Z"],_O=1e3;let EO=0;function og(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function PA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=tA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&PA(s)}function kA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=EO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SO),this.nodes.forEach(RO),this.nodes.forEach(CO),this.nodes.forEach(wO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new gO)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new zy),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=o0(c)&&!TM(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{_=window.innerWidth}),e(c,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=yO(E,250),Rf.hasAnimatedSinceResize&&(Rf.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||MO,{onLayoutAnimationStart:k,onLayoutAnimationComplete:j}=p.getProps(),O=!this.targetLayout||!VA(this.targetLayout,A),q=!_&&E;if(this.options.layoutRoot||this.resumeFrom||q||_&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...t0(I,"layout"),onPlay:k,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(y,q)}else _||Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xO),this.nodes.forEach(TO),this.nodes.forEach(bO)):this.nodes.forEach(kb),this.clearAllSnapshots();const f=mn.now();Ke.delta=Ti(0,1e3/60,f-Ke.timestamp),Ke.timestamp=f,Ke.isProcessing=!0,Jp.update.process(Ke),Jp.preRender.process(Ke),Jp.render.process(Ke),Ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AO),this.sharedNodes.forEach(NO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!DA(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ta(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),OO(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Be();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(PO))){const{scroll:y}=this.root;y&&(Bo(f.x,y.offset.x),Bo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Be();if(di(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&di(f,c),Bo(f.x,_.offset.x),Bo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Be();di(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Fo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ta(y.latestValues)&&Fo(m,y.latestValues)}return Ta(this.latestValues)&&Fo(m,this.latestValues),m}removeTransform(c){const f=Be();di(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ta(p.latestValues))continue;Qg(p.latestValues)&&p.updateSnapshot();const y=Be(),_=p.measurePageBox();di(y,_),xb(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ta(this.latestValues)&&xb(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var A;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Ke.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),_A(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Qg(this.parent.latestValues)||vA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),Yf(this.relativeTargetOrigin,f,m),di(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ke.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;di(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;MM(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Be());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Eb(this.prevProjectionDelta.x,this.projectionDelta.x),Eb(this.prevProjectionDelta.y,this.projectionDelta.y)),Uu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!Db(this.projectionDelta.x,this.prevProjectionDelta.x)||!Db(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zo(),this.projectionDelta=zo(),this.projectionDeltaWithTransform=zo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Be(),A=m?m.source:void 0,I=this.layout?this.layout.source:void 0,k=A!==I,j=this.getStack(),O=!j||j.members.length<=1,q=!!(k&&!O&&this.options.crossfade===!0&&!this.path.some(VO));this.animationProgress=0;let B;this.mixTargetDelta=tt=>{const at=tt/1e3;jb(_.x,c.x,at),jb(_.y,c.y,at),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yf(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),DO(this.relativeTarget,this.relativeTargetOrigin,E,at),B&&lO(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Be()),di(B,this.relativeTarget)),k&&(this.animationValues=y,hO(y,p,this.latestValues,at,q,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=at},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Zn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Rf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pi(0)),this.currentAnimation=mO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_O),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&LA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Be();const _=pn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=pn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}di(f,m),Fo(f,y),Uu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new vO),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&og("z",c,p,this.animationValues);for(let y=0;y<ag.length;y++)og(`rotate${ag[y]}`,c,p,this.animationValues),og(`skew${ag[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=xf(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=xf(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ta(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=uO(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:E,y:A}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in Wg){if(y[I]===void 0)continue;const{correct:k,applyTo:j,isCSSVariable:O}=Wg[I],q=_==="none"?y[I]:k(y[I],p);if(j){const B=j.length;for(let tt=0;tt<B;tt++)c[j[tt]]=q}else O?this.options.visualElement.renderState.vars[I]=q:c[I]=q}this.options.layoutId&&(c.pointerEvents=p===this?xf(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(Pb),this.root.sharedNodes.clear()}}}function TO(e){e.updateLayout()}function bO(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Qn(_=>{const E=c?t.measuredBox[_]:t.layoutBox[_],A=pn(E);E.min=s[_].min,E.max=E.min+A}):LA(l,t.layoutBox,s)&&Qn(_=>{const E=c?t.measuredBox[_]:t.layoutBox[_],A=pn(s[_]);E.max=E.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+A)});const f=zo();Uu(f,s,t.layoutBox);const m=zo();c?Uu(m,e.applyTransform(a,!0),t.measuredBox):Uu(m,s,t.layoutBox);const p=!DA(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:A}=_;if(E&&A){const I=Be();Yf(I,t.layoutBox,E.layoutBox);const k=Be();Yf(k,s,A.layoutBox),VA(I,k)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=I,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function SO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function AO(e){e.clearSnapshot()}function Pb(e){e.clearMeasurements()}function kb(e){e.isLayoutDirty=!1}function xO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function RO(e){e.resolveTargetDelta()}function CO(e){e.calcProjection()}function IO(e){e.resetSkewAndRotation()}function NO(e){e.removeLeadSnapshot()}function jb(e,t,n){e.translate=fe(t.translate,0,n),e.scale=fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ub(e,t,n,s){e.min=fe(t.min,n.min,s),e.max=fe(t.max,n.max,s)}function DO(e,t,n,s){Ub(e.x,t.x,n.x,s),Ub(e.y,t.y,n.y,s)}function VO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const MO={duration:.45,ease:[.4,0,.1,1]},zb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Bb=zb("applewebkit/")&&!zb("chrome/")?Math.round:An;function Fb(e){e.min=Bb(e.min),e.max=Bb(e.max)}function OO(e){Fb(e.x),Fb(e.y)}function LA(e,t,n){return e==="position"||e==="preserve-aspect"&&!iO(Nb(t),Nb(n),.2)}function PO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const kO=kA({attachResizeListener:(e,t)=>Ju(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),lg={current:void 0},jA=kA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!lg.current){const e=new kO({});e.mount(window),e.setOptions({layoutScroll:!0}),lg.current=e}return lg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bd=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Hb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function LO(...e){return t=>{let n=!1;const s=e.map(a=>{const l=Hb(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Hb(e[a],null)}}}}function jO(...e){return V.useCallback(LO(...e),e)}class UO extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=qf(s)&&s.offsetWidth||0,l=qf(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function zO({children:e,isPresent:t,anchorX:n,anchorY:s,root:a}){var _;const l=V.useId(),c=V.useRef(null),f=V.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=V.useContext(bd),p=((_=e.props)==null?void 0:_.ref)??(e==null?void 0:e.ref),y=jO(c,p);return V.useInsertionEffect(()=>{const{width:E,height:A,top:I,left:k,right:j,bottom:O}=f.current;if(t||!c.current||!E||!A)return;const q=n==="left"?`left: ${k}`:`right: ${j}`,B=s==="bottom"?`bottom: ${O}`:`top: ${I}`;c.current.dataset.motionPopId=l;const tt=document.createElement("style");m&&(tt.nonce=m);const at=a??document.head;return at.appendChild(tt),tt.sheet&&tt.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${A}px !important;
            ${q}px !important;
            ${B}px !important;
          }
        `),()=>{at.contains(tt)&&at.removeChild(tt)}},[t]),S.jsx(UO,{isPresent:t,childRef:c,sizeRef:f,children:V.cloneElement(e,{ref:y})})}const BO=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,anchorY:m,root:p})=>{const y=Ir(FO),_=V.useId();let E=!0,A=V.useMemo(()=>(E=!1,{id:_,initial:t,isPresent:n,custom:a,onExitComplete:I=>{y.set(I,!0);for(const k of y.values())if(!k)return;s&&s()},register:I=>(y.set(I,!1),()=>y.delete(I))}),[n,y,s]);return l&&E&&(A={...A}),V.useMemo(()=>{y.forEach((I,k)=>y.set(k,!1))},[n]),V.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),c==="popLayout"&&(e=S.jsx(zO,{isPresent:n,anchorX:f,anchorY:m,root:p,children:e})),S.jsx(_d.Provider,{value:A,children:e})};function FO(){return new Map}function UA(e=!0){const t=V.useContext(_d);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=V.useId();V.useEffect(()=>{if(e)return a(l)},[e]);const c=V.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const lf=e=>e.key||"";function qb(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const pc=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[y,_]=UA(c),E=V.useMemo(()=>qb(e),[e]),A=c&&!y?[]:E.map(lf),I=V.useRef(!0),k=V.useRef(E),j=Ir(()=>new Map),O=V.useRef(new Set),[q,B]=V.useState(E),[tt,at]=V.useState(E);vd(()=>{I.current=!1,k.current=E;for(let R=0;R<tt.length;R++){const C=lf(tt[R]);A.includes(C)?(j.delete(C),O.current.delete(C)):j.get(C)!==!0&&j.set(C,!1)}},[tt,A.length,A.join("-")]);const ut=[];if(E!==q){let R=[...E];for(let C=0;C<tt.length;C++){const L=tt[C],P=lf(L);A.includes(P)||(R.splice(C,0,L),ut.push(L))}return l==="wait"&&ut.length&&(R=ut),at(qb(R)),B(E),null}const{forceRender:N}=V.useContext(ky);return S.jsx(S.Fragment,{children:tt.map(R=>{const C=lf(R),L=c&&!y?!1:E===tt||A.includes(C),P=()=>{if(O.current.has(C))return;if(O.current.add(C),j.has(C))j.set(C,!0);else return;let F=!0;j.forEach(D=>{D||(F=!1)}),F&&(N==null||N(),at(k.current),c&&(_==null||_()),s&&s())};return S.jsx(BO,{isPresent:L,initial:!I.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:L?void 0:P,anchorX:f,anchorY:m,children:R},C)})})},zA=V.createContext({strict:!1}),Gb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Kb=!1;function HO(){if(Kb)return;const e={};for(const t in Gb)e[t]={isEnabled:n=>Gb[t].some(s=>!!n[s])};pA(e),Kb=!0}function BA(){return HO(),IM()}function qO(e){const t=BA();for(const n in e)t[n]={...t[n],...e[n]};pA(t)}const GO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $f(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||GO.has(e)}let FA=e=>!$f(e);function KO(e){typeof e=="function"&&(FA=t=>t.startsWith("on")?!$f(t):e(t))}try{KO(require("@emotion/is-prop-valid").default)}catch{}function YO(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(FA(a)||n===!0&&$f(a)||!t&&!$f(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Sd=V.createContext({});function $O(e,t){if(Td(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Wu(n)?n:void 0,animate:Wu(s)?s:void 0}}return e.inherit!==!1?t:{}}function QO(e){const{initial:t,animate:n}=$O(e,V.useContext(Sd));return V.useMemo(()=>({initial:t,animate:n}),[Yb(t),Yb(n)])}function Yb(e){return Array.isArray(e)?e.join(" "):e}const f0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HA(e,t,n){for(const s in t)!un(t[s])&&!bA(s,n)&&(e[s]=t[s])}function XO({transformTemplate:e},t){return V.useMemo(()=>{const n=f0();return c0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function WO(e,t){const n=e.style||{},s={};return HA(s,n,e),Object.assign(s,XO(e,t)),s}function JO(e,t){const n={},s=WO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const qA=()=>({...f0(),attrs:{}});function ZO(e,t,n,s){const a=V.useMemo(()=>{const l=qA();return SA(l,t,AA(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};HA(l,e.style,e),a.style={...l,...a.style}}return a}const tP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d0(e){return typeof e!="string"||e.includes("-")?!1:!!(tP.indexOf(e)>-1||/[A-Z]/u.test(e))}function eP(e,t,n,{latestValues:s},a,l=!1,c){const m=(c??d0(e)?ZO:JO)(t,s,a,e),p=YO(t,typeof e=="string",l),y=e!==V.Fragment?{...p,...m,ref:n}:{},{children:_}=t,E=V.useMemo(()=>un(_)?_.get():_,[_]);return V.createElement(e,{...y,children:E})}function nP({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:iP(n,s,a,e),renderState:t()}}function iP(e,t,n,s){const a={},l=s(e,{});for(const E in l)a[E]=xf(l[E]);let{initial:c,animate:f}=e;const m=Td(e),p=mA(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Ed(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const I=n0(e,E[A]);if(I){const{transitionEnd:k,transition:j,...O}=I;for(const q in O){let B=O[q];if(Array.isArray(B)){const tt=y?B.length-1:0;B=B[tt]}B!==null&&(a[q]=B)}for(const q in k)a[q]=k[q]}}}return a}const GA=e=>(t,n)=>{const s=V.useContext(Sd),a=V.useContext(_d),l=()=>nP(e,t,s,a);return n?l():Ir(l)},sP=GA({scrapeMotionValuesFromProps:h0,createRenderState:f0}),rP=GA({scrapeMotionValuesFromProps:xA,createRenderState:qA}),aP=Symbol.for("motionComponentSymbol");function oP(e,t,n){const s=V.useRef(n);V.useInsertionEffect(()=>{s.current=n});const a=V.useRef(null);return V.useCallback(l=>{var f;l&&((f=e.onMount)==null||f.call(e,l)),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const m=c(l);typeof m=="function"&&(a.current=m)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const KA=V.createContext({});function Cu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lP(e,t,n,s,a,l){var B,tt;const{visualElement:c}=V.useContext(Sd),f=V.useContext(zA),m=V.useContext(_d),p=V.useContext(bd),y=p.reducedMotion,_=p.skipAnimations,E=V.useRef(null),A=V.useRef(!1);s=s||f.renderer,!E.current&&s&&(E.current=s(e,{visualState:t,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),A.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const I=E.current,k=V.useContext(KA);I&&!I.projection&&a&&(I.type==="html"||I.type==="svg")&&uP(E.current,n,a,k);const j=V.useRef(!1);V.useInsertionEffect(()=>{I&&j.current&&I.update(n,m)});const O=n[Z1],q=V.useRef(!!O&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,O))&&((tt=window.MotionHasOptimisedAnimation)==null?void 0:tt.call(window,O)));return vd(()=>{A.current=!0,I&&(j.current=!0,window.MotionIsMounted=!0,I.updateFeatures(),I.scheduleRenderMicrotask(),q.current&&I.animationState&&I.animationState.animateChanges())}),V.useEffect(()=>{I&&(!q.current&&I.animationState&&I.animationState.animateChanges(),q.current&&(queueMicrotask(()=>{var at;(at=window.MotionHandoffMarkAsComplete)==null||at.call(window,O)}),q.current=!1),I.enteringChildren=void 0)}),I}function uP(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:YA(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Cu(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function YA(e){if(e)return e.options.allowProjection!==!1?e.projection:YA(e.parent)}function ug(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&qO(s);const l=n?n==="svg":d0(e),c=l?rP:sP;function f(p,y){let _;const E={...V.useContext(bd),...p,layoutId:cP(p)},{isStatic:A}=E,I=QO(p),k=c(p,A);if(!A&&p1){hP();const j=fP(E);_=j.MeasureLayout,I.visualElement=lP(e,k,E,a,j.ProjectionNode,l)}return S.jsxs(Sd.Provider,{value:I,children:[_&&I.visualElement?S.jsx(_,{visualElement:I.visualElement,...E}):null,eP(e,p,oP(k,I.visualElement,y),k,A,t,l)]})}f.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const m=V.forwardRef(f);return m[aP]=e,m}function cP({layoutId:e}){const t=V.useContext(ky).id;return t&&e!==void 0?t+"-"+e:e}function hP(e,t){V.useContext(zA).strict}function fP(e){const t=BA(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function dP(e,t){if(typeof Proxy>"u")return ug;const n=new Map,s=(l,c)=>ug(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,ug(c,void 0,e,t)),n.get(c))})}const mP=(e,t)=>t.isSVG??d0(e)?new KM(t):new zM(t,{allowProjection:e!==V.Fragment});class pP extends Lr{constructor(t){super(t),t.animationState||(t.animationState=WM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ed(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let gP=0;class yP extends Lr{constructor(){super(...arguments),this.id=gP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const vP={animation:{Feature:pP},exit:{Feature:yP}};function gc(e){return{point:{x:e.pageX,y:e.pageY}}}const _P=e=>t=>a0(t)&&e(t,gc(t));function zu(e,t,n,s){return Ju(e,t,_P(n),s)}const $A=({current:e})=>e?e.ownerDocument.defaultView:null,$b=(e,t)=>Math.abs(e-t);function EP(e,t){const n=$b(e.x,t.x),s=$b(e.y,t.y);return Math.sqrt(n**2+s**2)}const Qb=new Set(["auto","scroll"]);class QA{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=hg(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,k=EP(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!k)return;const{point:j}=A,{timestamp:O}=Ke;this.history.push({...j,timestamp:O});const{onStart:q,onMove:B}=this.handlers;I||(q&&q(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,A)},this.handlePointerMove=(A,I)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=cg(I,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(A,I)=>{this.end();const{onEnd:k,onSessionEnd:j,resumeAnimation:O}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const q=hg(A.type==="pointercancel"?this.lastMoveEventInfo:cg(I,this.transformPagePoint),this.history);this.startEvent&&k&&k(A,q),j&&j(A,q)},!a0(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=gc(t),p=cg(m,this.transformPagePoint),{point:y}=p,{timestamp:_}=Ke;this.history=[{...y,timestamp:_}];const{onSessionStart:E}=n;E&&E(t,hg(p,this.history)),this.removeListeners=fc(zu(this.contextWindow,"pointermove",this.handlePointerMove),zu(this.contextWindow,"pointerup",this.handlePointerUp),zu(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(Qb.has(s.overflowX)||Qb.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),qt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Zn(this.updatePoint)}}function cg(e,t){return t?{point:t(e.point)}:e}function Xb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hg({point:e},t){return{point:e,delta:Xb(e,XA(t)),offset:Xb(e,TP(t)),velocity:bP(t,.1)}}function TP(e){return e[0]}function XA(e){return e[e.length-1]}function bP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=XA(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>As(t)));)n--;if(!s)return{x:0,y:0};const l=Jn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function SP(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?fe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?fe(n,e,s.max):Math.min(e,n)),e}function Wb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wP(e,{top:t,left:n,bottom:s,right:a}){return{x:Wb(e.x,n,a),y:Wb(e.y,t,s)}}function Jb(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function AP(e,t){return{x:Jb(e.x,t.x),y:Jb(e.y,t.y)}}function xP(e,t){let n=.5;const s=pn(e),a=pn(t);return a>s?n=Wo(t.min,t.max-s,e.min):s>a&&(n=Wo(e.min,e.max-a,t.min)),Ti(0,1,n)}function RP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jg=.35;function CP(e=Jg){return e===!1?e=0:e===!0&&(e=Jg),{x:Zb(e,"left","right"),y:Zb(e,"top","bottom")}}function Zb(e,t,n){return{min:tS(e,t),max:tS(e,n)}}function tS(e,t){return typeof e=="number"?e:e[t]||0}const IP=new WeakMap;class NP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n?(this.stopAnimation(),this.snapToCursor(gc(_).point)):this.pauseAnimation()},c=(_,E)=>{this.stopAnimation();const{drag:A,dragPropagation:I,onDragStart:k}=this.getProps();if(A&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sM(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(O=>{let q=this.getAxisMotionValue(O).get()||0;if(Qi.test(q)){const{projection:B}=this.visualElement;if(B&&B.layout){const tt=B.layout.layoutBox[O];tt&&(q=pn(tt)*(parseFloat(q)/100))}}this.originPoint[O]=q}),k&&qt.update(()=>k(_,E),!1,!0),Gg(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:I,onDirectionLock:k,onDrag:j}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:O}=E;if(I&&this.currentDirection===null){this.currentDirection=DP(O),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",E.point,O),this.updateAxis("y",E.point,O),this.visualElement.render(),j&&qt.update(()=>j(_,E),!1,!0)},m=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Qn(_=>{var E;return this.getAnimationState(_)==="paused"&&((E=this.getAxisMotionValue(_).animation)==null?void 0:E.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new QA(t,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:$A(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&qt.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!uf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=SP(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Cu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=wP(s.layoutBox,t):this.constraints=!1,this.elastic=CP(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=RP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Cu(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=OM(s,a.root,this.visualElement.getTransformPagePoint());let c=AP(a.layout.layoutBox,l);if(n){const f=n(DM(c));this.hasMutatedConstraints=!!f,f&&(c=yA(f))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Qn(y=>{if(!uf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,I={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,I)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Gg(this.visualElement,t),s.start(e0(t,s,0,n,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Qn(n=>{const{drag:s}=this.getProps();if(!uf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(t[n]-fe(c,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Cu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Qn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=xP({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qn(c=>{if(!uf(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(fe(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;IP.set(this.visualElement,this);const t=this.visualElement.current,n=zu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps(),_=m.target,E=_!==t&&uM(_);p&&y&&!E&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Cu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),qt.read(s);const c=Ju(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Qn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Jg,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function uf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function DP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class VP extends Lr{constructor(t){super(t),this.removeGroupControls=An,this.removeListeners=An,this.controls=new NP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const fg=e=>(t,n)=>{e&&qt.update(()=>e(t,n),!1,!0)};class MP extends Lr{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(t){this.session=new QA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$A(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:fg(t),onStart:fg(n),onMove:fg(s),onEnd:(l,c)=>{delete this.session,a&&qt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=zu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let dg=!1;class OP extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),dg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Rf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),dg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||qt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),r0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;dg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WA(e){const[t,n]=UA(),s=V.useContext(ky);return S.jsx(OP,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(KA),isPresent:t,safeToRemove:n})}const PP={pan:{Feature:MP},drag:{Feature:VP,ProjectionNode:jA,MeasureLayout:WA}};function eS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&qt.postRender(()=>l(t,gc(t)))}class kP extends Lr{mount(){const{current:t}=this.node;t&&(this.unmount=rM(t,(n,s)=>(eS(this.node,s,"Start"),a=>eS(this.node,a,"End"))))}unmount(){}}class LP extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fc(Ju(this.node.current,"focus",()=>this.onFocus()),Ju(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&qt.postRender(()=>l(t,gc(t)))}class jP extends Lr{mount(){const{current:t}=this.node;t&&(this.unmount=hM(t,(n,s)=>(nS(this.node,s,"Start"),(a,{success:l})=>nS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zg=new WeakMap,mg=new WeakMap,UP=e=>{const t=Zg.get(e.target);t&&t(e)},zP=e=>{e.forEach(UP)};function BP({root:e,...t}){const n=e||document;mg.has(n)||mg.set(n,{});const s=mg.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(zP,{root:e,...t})),s[a]}function FP(e,t,n){const s=BP(t);return Zg.set(e,n),s.observe(e),()=>{Zg.delete(e),s.unobserve(e)}}const HP={some:0,all:1};class qP extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:HP[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return FP(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(GP(t,n))&&this.startObserver()}unmount(){}}function GP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const KP={inView:{Feature:qP},tap:{Feature:jP},focus:{Feature:LP},hover:{Feature:kP}},YP={layout:{ProjectionNode:jA,MeasureLayout:WA}},$P={...vP,...KP,...PP,...YP},ie=dP($P,mP),QP=50,iS=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),XP=()=>({time:0,x:iS(),y:iS()}),WP={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function sS(e,t,n,s){const a=n[t],{length:l,position:c}=WP[t],f=a.current,m=n.time;a.current=e[`scroll${c}`],a.scrollLength=e[`scroll${l}`]-e[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=Wo(0,a.scrollLength,a.current);const p=s-m;a.velocity=p>QP?0:By(a.current-f,p)}function JP(e,t,n){sS(e,"x",t,n),sS(e,"y",t,n),t.time=n}function ZP(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(qf(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const a=s.getBoundingClientRect();s=s.parentElement;const l=s.getBoundingClientRect();n.x+=a.left-l.left,n.y+=a.top-l.top}else if(s instanceof SVGGraphicsElement){const{x:a,y:l}=s.getBBox();n.x+=a,n.y+=l;let c=null,f=s.parentNode;for(;!c;)f.tagName==="svg"&&(c=f),f=s.parentNode;s=c}else break;return n}const ty={start:0,center:.5,end:1};function rS(e,t,n=0){let s=0;if(e in ty&&(e=ty[e]),typeof e=="string"){const a=parseFloat(e);e.endsWith("px")?s=a:e.endsWith("%")?e=a/100:e.endsWith("vw")?s=a/100*document.documentElement.clientWidth:e.endsWith("vh")?s=a/100*document.documentElement.clientHeight:e=a}return typeof e=="number"&&(s=t*e),n+s}const t4=[0,0];function e4(e,t,n,s){let a=Array.isArray(e)?e:t4,l=0,c=0;return typeof e=="number"?a=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?a=e.split(" "):a=[e,ty[e]?e:"0"]),l=rS(a[0],n,s),c=rS(a[1],t),l-c}const n4={All:[[0,0],[1,1]]},i4={x:0,y:0};function s4(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function r4(e,t,n){const{offset:s=n4.All}=n,{target:a=e,axis:l="y"}=n,c=l==="y"?"height":"width",f=a!==e?ZP(a,e):i4,m=a===e?{width:e.scrollWidth,height:e.scrollHeight}:s4(a),p={width:e.clientWidth,height:e.clientHeight};t[l].offset.length=0;let y=!t[l].interpolate;const _=s.length;for(let E=0;E<_;E++){const A=e4(s[E],p[c],m[c],f[l]);!y&&A!==t[l].interpolatorOffsets[E]&&(y=!0),t[l].offset[E]=A}y&&(t[l].interpolate=Qy(t[l].offset,B1(s),{clamp:!1}),t[l].interpolatorOffsets=[...t[l].offset]),t[l].progress=Ti(0,1,t[l].interpolate(t[l].current))}function a4(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function o4(e,t,n,s={}){return{measure:a=>{a4(e,s.target,n),JP(e,n,a),(s.offset||s.target)&&r4(e,n,s)},notify:()=>t(n)}}const Do=new WeakMap,aS=new WeakMap,pg=new WeakMap,oS=new WeakMap,cf=new WeakMap,lS=e=>e===document.scrollingElement?window:e;function JA(e,{container:t=document.scrollingElement,trackContentSize:n=!1,...s}={}){if(!t)return An;let a=pg.get(t);a||(a=new Set,pg.set(t,a));const l=XP(),c=o4(t,e,l,s);if(a.add(c),!Do.has(t)){const m=()=>{for(const E of a)E.measure(Ke.timestamp);qt.preUpdate(p)},p=()=>{for(const E of a)E.notify()},y=()=>qt.read(m);Do.set(t,y);const _=lS(t);window.addEventListener("resize",y,{passive:!0}),t!==document.documentElement&&aS.set(t,EM(t,y)),_.addEventListener("scroll",y,{passive:!0}),y()}if(n&&!cf.has(t)){const m=Do.get(t),p={width:t.scrollWidth,height:t.scrollHeight};oS.set(t,p);const y=()=>{const E=t.scrollWidth,A=t.scrollHeight;(p.width!==E||p.height!==A)&&(m(),p.width=E,p.height=A)},_=qt.read(y,!0);cf.set(t,_)}const f=Do.get(t);return qt.read(f,!1,!0),()=>{var _;Zn(f);const m=pg.get(t);if(!m||(m.delete(c),m.size))return;const p=Do.get(t);Do.delete(t),p&&(lS(t).removeEventListener("scroll",p),(_=aS.get(t))==null||_(),window.removeEventListener("resize",p));const y=cf.get(t);y&&(Zn(y),cf.delete(t)),oS.delete(t)}}const uS=new Map;function l4(e){const t={value:0},n=JA(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function ZA({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const a=uS.get(t)??new Map;uS.set(t,a);const l=n.target??"self",c=a.get(l)??{},f=s+(n.offset??[]).join(",");return c[f]||(c[f]=!n.target&&G1()?new ScrollTimeline({source:t,axis:s}):l4({container:t,...n})),c[f]}function u4(e,t){const n=ZA(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),fA(a=>{s.time=s.iterationDuration*a},n))})}function c4(e){return e.length===2}function h4(e,t){return c4(e)?JA(n=>{e(n[t.axis].progress,n)},t):fA(e,ZA(t))}function f4(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return An;const a={axis:t,container:n,...s};return typeof e=="function"?h4(e,a):u4(e,a)}const d4=()=>({scrollX:pi(0),scrollY:pi(0),scrollXProgress:pi(0),scrollYProgress:pi(0)}),hf=e=>e?!e.current:!1;function m4({container:e,target:t,...n}={}){const s=Ir(d4),a=V.useRef(null),l=V.useRef(!1),c=V.useCallback(()=>(a.current=f4((f,{x:m,y:p})=>{s.scrollX.set(m.current),s.scrollXProgress.set(m.progress),s.scrollY.set(p.current),s.scrollYProgress.set(p.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var f;(f=a.current)==null||f.call(a)}),[e,t,JSON.stringify(n.offset)]);return vd(()=>{if(l.current=!1,hf(e)||hf(t)){l.current=!0;return}else return c()},[c]),V.useEffect(()=>{if(l.current)return $u(!hf(e)),$u(!hf(t)),c()},[c]),s}function p4(e){const t=Ir(()=>pi(e)),{isStatic:n}=V.useContext(bd);if(n){const[,s]=V.useState(e);V.useEffect(()=>t.on("change",s),[])}return t}function tx(e,t){const n=p4(t()),s=()=>n.set(t());return s(),vd(()=>{const a=()=>qt.preRender(s,!1,!0),l=e.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),Zn(s)}}),n}function g4(e){ju.current=[],e();const t=tx(ju.current,e);return ju.current=void 0,t}function ey(e,t,n,s){if(typeof e=="function")return g4(e);if(n!==void 0&&!Array.isArray(n)&&typeof t!="function")return y4(e,t,n,s);const c=typeof t=="function"?t:bM(t,n,s);return Array.isArray(e)?cS(e,c):cS([e],([f])=>c(f))}function cS(e,t){const n=Ir(()=>[]);return tx(e,()=>{n.length=0;const s=e.length;for(let a=0;a<s;a++)n[a]=e[a].get();return t(n)})}function y4(e,t,n,s){const a=Ir(()=>Object.keys(n)),l=Ir(()=>({}));for(const c of a)l[c]=ey(e,t,n[c],s);return l}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),hS=e=>{const t=_4(e);return t.charAt(0).toUpperCase()+t.slice(1)},ex=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),E4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>V.createElement("svg",{ref:m,...T4,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:ex("lucide",a),...!l&&!E4(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>V.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,t)=>{const n=V.forwardRef(({className:s,...a},l)=>V.createElement(b4,{ref:l,iconNode:t,className:ex(`lucide-${v4(hS(e))}`,`lucide-${e}`,s),...a}));return n.displayName=hS(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ny=Le("check",S4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],A4=Le("chevron-left",w4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R4=Le("chevron-right",x4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],I4=Le("circle-alert",C4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iy=Le("circle-check-big",N4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nx=Le("clock",D4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],M4=Le("droplets",V4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],P4=Le("layout-dashboard",O4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ix=Le("loader-circle",k4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],j4=Le("lock",L4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sx=Le("log-out",U4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],B4=Le("mail",z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],sy=Le("package",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],q4=Le("palette",H4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],K4=Le("pen-line",G4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$4=Le("send",Y4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],fS=Le("square-dashed",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rx=Le("user",X4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dS=Le("users",W4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ax=Le("x",J4),Ki=[{id:1,title:"Royal Oak Case",description:" ,  , .",imageUrl:"images/lenta1.png",alt:"box1"},{id:2,title:"Velvet Night",description:" ,  ,  .",imageUrl:"images/lenta2.png",alt:"box2"},{id:3,title:"Heritage Set",description:"   .  .",imageUrl:"images/lenta3.png",alt:"box3"},{id:4,title:"Whiskey Vault",description:"   . .",imageUrl:"images/lenta4.png",alt:"box4"},{id:5,title:"Minimalist Gift",description:" ,  .  .",imageUrl:"images/lenta5.png",alt:"box5"}],ox=[{id:"oak",name:" ",color:"#8B5A2B",description:"  . , ,   .  .",textureOpacity:.6},{id:"pine",name:" ",color:"#D4B483",description:"     .     .",textureOpacity:.55},{id:"ash",name:" ",color:"#C0B3A0",description:'    ,      ""  .',textureOpacity:.7},{id:"beech",name:" ",color:"#A67B5B",description:"     . , ,  .",textureOpacity:.5},{id:"custom",name:" ",color:"#57534e",description:"   ,       .",textureOpacity:.2,isCustom:!0}],Cf=[{id:"v_red",name:" ",type:"velvet",typeName:"",color:"#7f1d1d"},{id:"v_blue",name:" ",type:"velvet",typeName:"",color:"#1e3a8a"},{id:"v_black",name:" ",type:"velvet",typeName:"",color:"#1a1a1a"},{id:"l_black",name:" ",type:"leather",typeName:". ",color:"#171717"},{id:"l_brown",name:" ",type:"leather",typeName:". ",color:"#5D4037"},{id:"el_beige",name:" ",type:"ecoleather",typeName:"-",color:"#d4c4a8"},{id:"el_black",name:" ",type:"ecoleather",typeName:"-",color:"#1c1917"},{id:"a_grey",name:" ",type:"alcantara",typeName:"",color:"#374151"},{id:"a_black",name:" ",type:"alcantara",typeName:"",color:"#0f172a"},{id:"none",name:" ",type:"none",typeName:" ",color:"#292524"},{id:"custom",name:" ",type:"custom",typeName:" ",color:"#44403c"}],Z4=({selectedWood:e,setSelectedWood:t,selectedInterior:n,setSelectedInterior:s,configuration:a,setConfiguration:l})=>{const[c,f]=V.useState(n.type),m=V.useMemo(()=>c==="none"||c==="custom"?[]:Cf.filter(E=>E.type===c),[c]),p=V.useMemo(()=>["velvet","leather","ecoleather","alcantara","none","custom"].map(A=>{const I=Cf.find(k=>k.type===A);return{type:A,label:I?I.typeName:A}}),[]),y=E=>{f(E);const A=Cf.find(I=>I.type===E);A&&s(A)},_=(E,A)=>{l(I=>({...I,[E]:A}))};return S.jsx("section",{className:"py-24 bg-stone-950 relative overflow-hidden border-t border-stone-800",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[S.jsxs(ie.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[S.jsx("h2",{className:"text-4xl font-serif text-amber-500 mb-4",children:" "}),S.jsx("p",{className:"text-stone-400 font-light text-lg",children:"  ,    "})]}),S.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[S.jsx("div",{className:"sticky top-24",children:S.jsxs(ie.div,{className:"relative aspect-square md:aspect-[4/3] w-full rounded-sm shadow-2xl shadow-black overflow-hidden border border-stone-800 bg-stone-900",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[S.jsxs("div",{className:"absolute inset-0 flex",children:[S.jsxs("div",{className:"w-2/3 h-full relative overflow-hidden border-r border-stone-900/50",children:[S.jsx(ie.div,{className:"absolute inset-0 z-0 transition-colors duration-700",style:{backgroundColor:e.color}}),!e.isCustom&&S.jsx("div",{className:"absolute inset-0 z-10 mix-blend-multiply bg-cover bg-center transition-opacity duration-500",style:{backgroundImage:"url('images/wood_texture.png')",opacity:e.textureOpacity}}),S.jsx("div",{className:"absolute top-6 left-6 z-20",children:S.jsx("span",{className:"text-[10px] uppercase tracking-widest text-stone-300 bg-black/50 px-2 py-1 backdrop-blur-sm border border-white/10",children:"Exterior"})})]}),S.jsxs("div",{className:"w-1/3 h-full relative overflow-hidden",children:[n.type!=="none"?S.jsxs(S.Fragment,{children:[S.jsx(ie.div,{className:"absolute inset-0 z-0 transition-colors duration-500",style:{backgroundColor:n.color}}),S.jsx("div",{className:`absolute inset-0 z-10 opacity-30 ${n.type==="velvet"?"bg-[url('https://www.transparenttextures.com/patterns/felt.png')]":n.type==="leather"||n.type==="ecoleather"?"bg-[url('https://www.transparenttextures.com/patterns/leather.png')]":"bg-[url('https://www.transparenttextures.com/patterns/felt.png')]"}`})]}):S.jsx("div",{className:"absolute inset-0 z-0 bg-stone-800 flex items-center justify-center",children:a.varnish&&S.jsx("div",{className:"absolute inset-0 bg-amber-500/10 mix-blend-overlay"})}),S.jsx("div",{className:"absolute inset-0 z-20 bg-gradient-to-r from-black/60 to-transparent"}),S.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 z-30",children:S.jsx("span",{className:"text-[10px] uppercase tracking-widest text-stone-300 bg-black/50 px-2 py-1 backdrop-blur-sm border border-white/10",children:"Interior"})}),a.lodgement&&S.jsx("div",{className:"absolute bottom-6 right-6 z-30",children:S.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase tracking-widest text-amber-400 bg-black/70 px-2 py-1 backdrop-blur-sm border border-amber-900/50",children:[S.jsx(fS,{size:10})," "]})}),n.type==="none"&&a.varnish&&S.jsx("div",{className:"absolute bottom-16 right-6 z-30",children:S.jsxs("span",{className:"flex items-center gap-1 text-[10px] uppercase tracking-widest text-amber-200 bg-amber-900/40 px-2 py-1 backdrop-blur-sm border border-amber-500/30",children:[S.jsx(M4,{size:10})," "]})})]})]}),S.jsxs("div",{className:"absolute bottom-6 left-6 z-40 pointer-events-none select-none drop-shadow-xl bg-gradient-to-t from-black/80 to-transparent p-4 -ml-4 -mb-6 w-full",children:[S.jsx(ie.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-stone-100 font-serif text-2xl md:text-3xl leading-none",children:e.isCustom&&a.customWood?a.customWood:e.name},e.name),S.jsxs(ie.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-amber-500 text-xs md:text-sm uppercase tracking-widest mt-1 font-medium",children:["+ ",n.type==="custom"?" ":n.name]},n.name)]})]})}),S.jsxs("div",{className:"space-y-12",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-stone-300 font-serif text-xl mb-6 flex items-center gap-2",children:[S.jsx("span",{className:"text-amber-600",children:"01."}),"  "]}),S.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:ox.map(E=>S.jsx("button",{onClick:()=>t(E),className:`group p-4 border text-left transition-all relative overflow-hidden ${e.id===E.id?"border-amber-600 bg-stone-900":"border-stone-800 hover:border-stone-600"}`,children:S.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[E.isCustom?S.jsx("div",{className:"w-6 h-6 flex items-center justify-center text-stone-500",children:S.jsx(K4,{size:16})}):S.jsx("div",{className:"w-6 h-6 rounded-full border border-stone-700 shadow-inner",style:{backgroundColor:E.color}}),S.jsx("span",{className:"font-serif text-sm text-stone-200",children:E.name})]})},E.id))}),S.jsx(pc,{children:e.isCustom&&S.jsx(ie.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:S.jsxs("div",{className:"relative pt-4",children:[S.jsx("label",{className:"text-xs text-amber-600 uppercase tracking-widest mb-2 block",children:"   ?"}),S.jsx("input",{type:"text",value:a.customWood,onChange:E=>_("customWood",E.target.value),placeholder:":  ,  ...",className:"w-full bg-stone-900/50 border border-stone-700 p-3 text-stone-200 focus:outline-none focus:border-amber-600 text-sm"})]})})})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-stone-300 font-serif text-xl mb-4 flex items-center gap-2",children:[S.jsx("span",{className:"text-amber-600",children:"02."})," "]}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:p.map(E=>S.jsx("button",{onClick:()=>y(E.type),className:`px-3 py-2 text-[10px] md:text-xs uppercase tracking-widest border transition-all ${c===E.type?"bg-amber-900/20 border-amber-600 text-amber-500":"border-stone-800 text-stone-500 hover:text-stone-300 hover:border-stone-600"}`,children:E.label},E.type))}),S.jsxs("div",{className:"bg-stone-900/30 border border-stone-800/50 p-6 rounded-sm",children:[["velvet","leather","ecoleather","alcantara"].includes(c)&&S.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs text-stone-500 uppercase tracking-widest mb-3 block",children:" :"}),S.jsx("div",{className:"flex flex-wrap gap-3",children:m.map(E=>S.jsx("button",{onClick:()=>s(E),className:`relative w-10 h-10 rounded-full border-2 transition-all ${n.id===E.id?"border-amber-500 scale-110":"border-stone-700 hover:border-stone-500"}`,style:{backgroundColor:E.color},title:E.name,children:n.id===E.id&&S.jsx("div",{className:"absolute inset-0 rounded-full border border-white/20"})},E.id))})]}),S.jsxs("div",{children:[S.jsxs("label",{className:"text-xs text-stone-500 uppercase tracking-widest mb-2 block flex items-center gap-2",children:[S.jsx(q4,{size:12}),"  ?"]}),S.jsx("input",{type:"text",value:a.customColor,onChange:E=>_("customColor",E.target.value),placeholder:"   (: Tiffany Blue)",className:"w-full bg-stone-950 border border-stone-800 p-3 text-stone-300 focus:outline-none focus:border-amber-600 text-sm placeholder-stone-600"})]}),c==="leather"&&S.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},className:"pt-2 border-t border-stone-800 mt-4",children:[S.jsx("label",{className:"text-xs text-amber-600 uppercase tracking-widest mb-2 block",children:"  ( )"}),S.jsx("input",{type:"text",value:a.leatherAnimal,onChange:E=>_("leatherAnimal",E.target.value),placeholder:": , , , ...",className:"w-full bg-stone-950 border border-stone-800 p-3 text-stone-300 focus:outline-none focus:border-amber-600 text-sm placeholder-stone-600"}),S.jsx("p",{className:"text-[10px] text-stone-500 mt-2",children:"        ."})]})]}),c==="none"&&S.jsxs("div",{className:"animate-in fade-in duration-300",children:[S.jsx("p",{className:"text-stone-400 text-sm mb-6",children:"      .    ."}),S.jsxs("label",{className:"flex items-center gap-4 cursor-pointer group",children:[S.jsx("div",{className:`w-6 h-6 border flex items-center justify-center transition-colors ${a.varnish?"bg-amber-600 border-amber-600":"border-stone-600 group-hover:border-amber-500"}`,children:a.varnish&&S.jsx(ny,{size:16,className:"text-white"})}),S.jsx("input",{type:"checkbox",checked:a.varnish,onChange:E=>_("varnish",E.target.checked),className:"hidden"}),S.jsxs("div",{children:[S.jsx("span",{className:"text-stone-200 text-sm block group-hover:text-amber-500 transition-colors",children:"  "}),S.jsx("span",{className:"text-[10px] text-amber-600 uppercase tracking-widest",children:""})]})]})]}),c==="custom"&&S.jsxs("div",{className:"animate-in fade-in duration-300",children:[S.jsx("label",{className:"text-xs text-stone-500 uppercase tracking-widest mb-2 block",children:"  "}),S.jsx("textarea",{value:a.customInteriorText,onChange:E=>_("customInteriorText",E.target.value),placeholder:", ,      ...",rows:3,className:"w-full bg-stone-950 border border-stone-800 p-3 text-stone-300 focus:outline-none focus:border-amber-600 text-sm placeholder-stone-600 resize-none"})]})]})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"text-stone-300 font-serif text-xl mb-6 flex items-center gap-2",children:[S.jsx("span",{className:"text-amber-600",children:"03."})," "]}),S.jsxs("label",{className:"flex items-start gap-4 cursor-pointer group p-4 border border-stone-800 bg-stone-900/50 hover:border-amber-700/50 transition-all",children:[S.jsx("div",{className:`mt-1 w-5 h-5 border flex items-center justify-center transition-colors flex-shrink-0 ${a.lodgement?"bg-amber-600 border-amber-600":"border-stone-600 group-hover:border-amber-500"}`,children:a.lodgement&&S.jsx(ny,{size:14,className:"text-white"})}),S.jsx("input",{type:"checkbox",checked:a.lodgement,onChange:E=>_("lodgement",E.target.checked),className:"hidden"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("span",{className:"text-stone-200 font-medium block group-hover:text-amber-500 transition-colors",children:" "}),S.jsx("p",{className:"text-xs text-stone-500 mt-1 leading-relaxed",children:"      (, , )   ."})]}),S.jsx(fS,{className:"text-stone-700 group-hover:text-amber-700 transition-colors"})]})]})]})]})]})})},tk=()=>{};var mS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},ek=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},ux={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(E=64)),s.push(n[y],n[_],n[E],n[A])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ek(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new nk;const E=l<<2|f>>4;if(s.push(E),p!==64){const A=f<<4&240|p>>2;if(s.push(A),_!==64){const I=p<<6&192|_;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ik=function(e){const t=lx(e);return ux.encodeByteArray(t,!0)},Qf=function(e){return ik(e).replace(/\./g,"")},cx=function(e){try{return ux.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=()=>sk().__FIREBASE_DEFAULTS__,ak=()=>{if(typeof process>"u"||typeof mS>"u")return;const e=mS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ok=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&cx(e[1]);return t&&JSON.parse(t)},wd=()=>{try{return tk()||rk()||ak()||ok()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},hx=e=>{var t,n;return(n=(t=wd())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},lk=e=>{const t=hx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},fx=()=>{var e;return(e=wd())==null?void 0:e.config},dx=e=>{var t;return(t=wd())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mx(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Qf(JSON.stringify(n)),Qf(JSON.stringify(c)),""].join(".")}const Bu={};function hk(){const e={prod:[],emulator:[]};for(const t of Object.keys(Bu))Bu[t]?e.emulator.push(t):e.prod.push(t);return e}function fk(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let pS=!1;function px(e,t){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Bu[e]===t||Bu[e]||pS)return;Bu[e]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=hk().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{pS=!0,c()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=fk(s),A=n("text"),I=document.getElementById(A)||document.createElement("span"),k=n("learnmore"),j=document.getElementById(k)||document.createElement("a"),O=n("preprendIcon"),q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;f(B),y(j,k);const tt=p();m(q,O),B.append(q,I,j,tt),document.body.appendChild(B)}l?(I.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function mk(){var t;const e=(t=wd())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gk(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vk(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _k(){return!mk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ek(){try{return typeof indexedDB=="object"}catch{return!1}}function Tk(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)==null?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="FirebaseError";class Ps extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=bk,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?Sk(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ps(a,f,s)}}function Sk(e,t){return e.replace(wk,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const wk=/\{\$([^}]+)}/g;function Ak(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ca(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(gS(l)&&gS(c)){if(!Ca(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function gS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Iu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Nu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function xk(e,t){const n=new Rk(e,t);return n.subscribe.bind(n)}class Rk{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ck(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=gg),a.error===void 0&&(a.error=gg),a.complete===void 0&&(a.complete=gg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ck(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){return e&&e._delegate?e._delegate:e}class Ia{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new uk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Dk(t))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ba){return this.instances.has(t)}getOptions(t=ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Nk(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ba){return this.component?this.component.multipleInstances?t:ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nk(e){return e===ba?void 0:e}function Dk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ik(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(kt||(kt={}));const Mk={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Ok=kt.INFO,Pk={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},kk=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=Pk[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class m0{constructor(t){this.name=t,this._logLevel=Ok,this._logHandler=kk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Lk=(e,t)=>t.some(n=>e instanceof n);let yS,vS;function jk(){return yS||(yS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uk(){return vS||(vS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gx=new WeakMap,ry=new WeakMap,yx=new WeakMap,yg=new WeakMap,p0=new WeakMap;function zk(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(wr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&gx.set(n,e)}).catch(()=>{}),p0.set(t,e),t}function Bk(e){if(ry.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});ry.set(e,t)}let ay={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ry.get(e);if(t==="objectStoreNames")return e.objectStoreNames||yx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Fk(e){ay=e(ay)}function Hk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(vg(this),t,...n);return yx.set(s,t.sort?t.sort():[t]),wr(s)}:Uk().includes(e)?function(...t){return e.apply(vg(this),t),wr(gx.get(this))}:function(...t){return wr(e.apply(vg(this),t))}}function qk(e){return typeof e=="function"?Hk(e):(e instanceof IDBTransaction&&Bk(e),Lk(e,jk())?new Proxy(e,ay):e)}function wr(e){if(e instanceof IDBRequest)return zk(e);if(yg.has(e))return yg.get(e);const t=qk(e);return t!==e&&(yg.set(e,t),p0.set(t,e)),t}const vg=e=>p0.get(e);function Gk(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=wr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(wr(c.result),m.oldVersion,m.newVersion,wr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const Kk=["get","getKey","getAll","getAllKeys","count"],Yk=["put","add","delete","clear"],_g=new Map;function _S(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_g.get(t))return _g.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=Yk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Kk.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return _g.set(t,l),l}Fk(e=>({...e,get:(t,n,s)=>_S(t,n)||e.get(t,n,s),has:(t,n)=>!!_S(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Qk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const oy="@firebase/app",ES="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new m0("@firebase/app"),Xk="@firebase/app-compat",Wk="@firebase/analytics-compat",Jk="@firebase/analytics",Zk="@firebase/app-check-compat",tL="@firebase/app-check",eL="@firebase/auth",nL="@firebase/auth-compat",iL="@firebase/database",sL="@firebase/data-connect",rL="@firebase/database-compat",aL="@firebase/functions",oL="@firebase/functions-compat",lL="@firebase/installations",uL="@firebase/installations-compat",cL="@firebase/messaging",hL="@firebase/messaging-compat",fL="@firebase/performance",dL="@firebase/performance-compat",mL="@firebase/remote-config",pL="@firebase/remote-config-compat",gL="@firebase/storage",yL="@firebase/storage-compat",vL="@firebase/firestore",_L="@firebase/ai",EL="@firebase/firestore-compat",TL="firebase",bL="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]",SL={[oy]:"fire-core",[Xk]:"fire-core-compat",[Jk]:"fire-analytics",[Wk]:"fire-analytics-compat",[tL]:"fire-app-check",[Zk]:"fire-app-check-compat",[eL]:"fire-auth",[nL]:"fire-auth-compat",[iL]:"fire-rtdb",[sL]:"fire-data-connect",[rL]:"fire-rtdb-compat",[aL]:"fire-fn",[oL]:"fire-fn-compat",[lL]:"fire-iid",[uL]:"fire-iid-compat",[cL]:"fire-fcm",[hL]:"fire-fcm-compat",[fL]:"fire-perf",[dL]:"fire-perf-compat",[mL]:"fire-rc",[pL]:"fire-rc-compat",[gL]:"fire-gcs",[yL]:"fire-gcs-compat",[vL]:"fire-fst",[EL]:"fire-fst-compat",[_L]:"fire-vertex","fire-js":"fire-js",[TL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new Map,wL=new Map,uy=new Map;function TS(e,t){try{e.container.addComponent(t)}catch(n){Ns.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Jo(e){const t=e.name;if(uy.has(t))return Ns.debug(`There were multiple attempts to register component ${t}.`),!1;uy.set(t,e);for(const n of Xf.values())TS(n,e);for(const n of wL.values())TS(n,e);return!0}function g0(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new yc("app","Firebase",AL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=bL;function vx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:ly,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Ar.create("bad-app-name",{appName:String(a)});if(n||(n=fx()),!n)throw Ar.create("no-options");const l=Xf.get(a);if(l){if(Ca(n,l.options)&&Ca(s,l.config))return l;throw Ar.create("duplicate-app",{appName:a})}const c=new Vk(a);for(const m of uy.values())c.addComponent(m);const f=new xL(n,s,c);return Xf.set(a,f),f}function _x(e=ly){const t=Xf.get(e);if(!t&&e===ly&&fx())return vx();if(!t)throw Ar.create("no-app",{appName:e});return t}function xr(e,t,n){let s=SL[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ns.warn(c.join(" "));return}Jo(new Ia(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="firebase-heartbeat-database",CL=1,Zu="firebase-heartbeat-store";let Eg=null;function Ex(){return Eg||(Eg=Gk(RL,CL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Zu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ar.create("idb-open",{originalErrorMessage:e.message})})),Eg}async function IL(e){try{const n=(await Ex()).transaction(Zu),s=await n.objectStore(Zu).get(Tx(e));return await n.done,s}catch(t){if(t instanceof Ps)Ns.warn(t.message);else{const n=Ar.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ns.warn(n.message)}}}async function bS(e,t){try{const s=(await Ex()).transaction(Zu,"readwrite");await s.objectStore(Zu).put(t,Tx(e)),await s.done}catch(n){if(n instanceof Ps)Ns.warn(n.message);else{const s=Ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(s.message)}}}function Tx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=1024,DL=30;class VL{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OL(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=SS();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>DL){const c=PL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ns.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=SS(),{heartbeatsToSend:s,unsentEntries:a}=ML(this._heartbeatsCache.heartbeats),l=Qf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ns.warn(n),""}}}function SS(){return new Date().toISOString().substring(0,10)}function ML(e,t=NL){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),wS(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),wS(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ek()?Tk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return bS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return bS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function wS(e){return Qf(JSON.stringify({version:2,heartbeats:e})).length}function PL(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(e){Jo(new Ia("platform-logger",t=>new $k(t),"PRIVATE")),Jo(new Ia("heartbeat",t=>new VL(t),"PRIVATE")),xr(oy,ES,e),xr(oy,ES,"esm2020"),xr("fire-js","")}kL("");var LL="firebase",jL="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(LL,jL,"app");function bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UL=bx,Sx=new yc("auth","Firebase",bx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new m0("@firebase/auth");function zL(e,...t){Wf.logLevel<=kt.WARN&&Wf.warn(`Auth (${cl}): ${e}`,...t)}function If(e,...t){Wf.logLevel<=kt.ERROR&&Wf.error(`Auth (${cl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e,...t){throw y0(e,...t)}function Xi(e,...t){return y0(e,...t)}function wx(e,t,n){const s={...UL(),[t]:n};return new yc("auth","Firebase",s).create(t,{appName:e.name})}function xs(e){return wx(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y0(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Sx.create(e,...t)}function Et(e,t,...n){if(!e)throw y0(t,...n)}function bs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw If(t),new Error(t)}function Ds(e,t){e||bs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function BL(){return AS()==="http:"||AS()==="https:"}function AS(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BL()||gk()||"connection"in navigator)?navigator.onLine:!0}function HL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ds(n>t,"Short delay should be less than long delay!"),this.isMobile=dk()||yk()}get(){return FL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(e,t){Ds(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KL=new _c(3e4,6e4);function jr(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ur(e,t,n,s,a={}){return xx(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const f=vc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return pk()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&ul(e.emulatorConfig.host)&&(p.credentials="include"),Ax.fetch()(await Rx(e,e.config.apiHost,n,f),p)})}async function xx(e,t,n){e._canInitEmulator=!1;const s={...qL,...t};try{const a=new $L(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ff(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ff(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw ff(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw wx(e,y,p);bi(e,y)}}catch(a){if(a instanceof Ps)throw a;bi(e,"network-request-failed",{message:String(a)})}}async function Ec(e,t,n,s,a={}){const l=await Ur(e,t,n,s,a);return"mfaPendingCredential"in l&&bi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function Rx(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?v0(e.config,a):`${e.config.apiScheme}://${a}`;return GL.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function YL(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),KL.get())})}}function ff(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Xi(e,t,s);return a.customData._tokenResponse=n,a}function xS(e){return e!==void 0&&e.enterprise!==void 0}class QL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return YL(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XL(e,t){return Ur(e,"GET","/v2/recaptchaConfig",jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(e,t){return Ur(e,"POST","/v1/accounts:delete",t)}async function Jf(e,t){return Ur(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JL(e,t=!1){const n=$e(e),s=await n.getIdToken(t),a=_0(s);Et(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Fu(Tg(a.auth_time)),issuedAtTime:Fu(Tg(a.iat)),expirationTime:Fu(Tg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Tg(e){return Number(e)*1e3}function _0(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const a=cx(n);return a?JSON.parse(a):(If("Failed to decode base64 JWT payload"),null)}catch(a){return If("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function RS(e){const t=_0(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ps&&ZL(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function ZL({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(e){var _;const t=e.auth,n=await e.getIdToken(),s=await tc(e,Jf(t,{idToken:n}));Et(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?Cx(a.providerUserInfo):[],c=n6(e.providerData,l),f=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!(c!=null&&c.length),p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function e6(e){const t=$e(e);await Zf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function n6(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function Cx(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(e,t){const n=await xx(e,{},async()=>{const s=vc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await Rx(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return e.emulatorConfig&&ul(e.emulatorConfig.host)&&(m.credentials="include"),Ax.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s6(e,t){return Ur(e,"POST","/v2/accounts:revokeToken",jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):RS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=RS(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await i6(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Go;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Et(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Et(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new t6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await tc(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return JL(this,t)}reload(){return e6(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Zf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(xs(this.auth));const t=await this.getIdToken();return await tc(this,WL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:I,stsTokenManager:k}=n;Et(_&&k,t,"internal-error");const j=Go.fromJSON(this.name,k);Et(typeof _=="string",t,"internal-error"),pr(s,t.name),pr(a,t.name),Et(typeof E=="boolean",t,"internal-error"),Et(typeof A=="boolean",t,"internal-error"),pr(l,t.name),pr(c,t.name),pr(f,t.name),pr(m,t.name),pr(p,t.name),pr(y,t.name);const O=new gi({uid:_,auth:t,email:a,emailVerified:E,displayName:s,isAnonymous:A,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:j,createdAt:p,lastLoginAt:y});return I&&Array.isArray(I)&&(O.providerData=I.map(q=>({...q}))),m&&(O._redirectEventId=m),O}static async _fromIdTokenResponse(t,n,s=!1){const a=new Go;a.updateFromServerResponse(n);const l=new gi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Zf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Et(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Cx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Go;f.updateFromIdToken(s);const m=new gi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Map;function Ss(e){Ds(e instanceof Function,"Expected a class definition");let t=CS.get(e);return t?(Ds(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,CS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Ix.type="NONE";const IS=Ix;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(e,t,n){return`firebase:${e}:${t}:${n}`}class Ko{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Nf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Nf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Jf(this.auth,{idToken:t}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ko(Ss(IS),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ss(IS);const c=Nf(s,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await Jf(t,{idToken:y}).catch(()=>{});if(!E)break;_=await gi._fromGetAccountInfoResponse(t,E,y)}else _=gi._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ko(l,t,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Ko(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Nx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Px(t))return"Blackberry";if(kx(t))return"Webos";if(Dx(t))return"Safari";if((t.includes("chrome/")||Vx(t))&&!t.includes("edge/"))return"Chrome";if(Ox(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Nx(e=cn()){return/firefox\//i.test(e)}function Dx(e=cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Vx(e=cn()){return/crios\//i.test(e)}function Mx(e=cn()){return/iemobile/i.test(e)}function Ox(e=cn()){return/android/i.test(e)}function Px(e=cn()){return/blackberry/i.test(e)}function kx(e=cn()){return/webos/i.test(e)}function E0(e=cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function r6(e=cn()){var t;return E0(e)&&!!((t=window.navigator)!=null&&t.standalone)}function a6(){return vk()&&document.documentMode===10}function Lx(e=cn()){return E0(e)||Ox(e)||kx(e)||Px(e)||/windows phone/i.test(e)||Mx(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(e,t=[]){let n;switch(e){case"Browser":n=NS(cn());break;case"Worker":n=`${NS(cn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${cl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(e,t={}){return Ur(e,"GET","/v2/passwordPolicy",jr(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=6;class c6{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DS(this),this.idTokenSubscription=new DS(this),this.beforeStateQueue=new o6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Jf(this,{idToken:t}),s=await gi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var l;if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Zf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(xs(this));const n=t?$e(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await l6(this),n=new c6(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new yc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await s6(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ss(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&zL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function La(e){return $e(e)}class DS{constructor(t){this.auth=t,this.observer=null,this.addObserver=xk(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f6(e){Ad=e}function Ux(e){return Ad.loadJS(e)}function d6(){return Ad.recaptchaEnterpriseScript}function m6(){return Ad.gapiScript}function p6(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class g6{constructor(){this.enterprise=new y6}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class y6{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const v6="recaptcha-enterprise",zx="NO_RECAPTCHA";class _6{constructor(t){this.type=v6,this.auth=La(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{XL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new QL(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;xS(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(zx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g6().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&xS(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=d6();m.length!==0&&(m+=f),Ux(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function VS(e,t,n,s=!1,a=!1){const l=new _6(e);let c;if(a)c=zx;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function fy(e,t,n,s,a){var l;if((l=e._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await VS(e,t,n,n==="getOobCode");return s(e,c)}else return s(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await VS(e,t,n,n==="getOobCode");return s(e,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(e,t){const n=g0(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ca(l,t??{}))return a;bi(a,"already-initialized")}return n.initialize({options:t})}function T6(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ss);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function b6(e,t,n){const s=La(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=Bx(t),{host:c,port:f}=S6(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Ca(p,s.config.emulator)&&Ca(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,ul(c)?(mx(`${l}//${c}${m}`),px("Auth",!0)):w6()}function Bx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function S6(e){const t=Bx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:MS(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:MS(c)}}}function MS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function w6(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(t){return bs("not implemented")}_linkToIdToken(t,n){return bs("not implemented")}_getReauthenticationResolver(t){return bs("not implemented")}}async function A6(e,t){return Ur(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(e,t){return Ec(e,"POST","/v1/accounts:signInWithPassword",jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(e,t){return Ec(e,"POST","/v1/accounts:signInWithEmailLink",jr(e,t))}async function C6(e,t){return Ec(e,"POST","/v1/accounts:signInWithEmailLink",jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends T0{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new ec(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ec(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fy(t,n,"signInWithPassword",x6);case"emailLink":return R6(t,{email:this._email,oobCode:this._password});default:bi(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fy(t,s,"signUpPassword",A6);case"emailLink":return C6(t,{idToken:n,email:this._email,oobCode:this._password});default:bi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(e,t){return Ec(e,"POST","/v1/accounts:signInWithIdp",jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="http://localhost";class Na extends T0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Na(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Yo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Yo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Yo(t,n)}buildRequest(){const t={requestUri:I6,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=vc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D6(e){const t=Iu(Nu(e)).link,n=t?Iu(Nu(t)).deep_link_id:null,s=Iu(Nu(e)).deep_link_id;return(s?Iu(Nu(s)).link:null)||s||n||t||e}class b0{constructor(t){const n=Iu(Nu(t)),s=n.apiKey??null,a=n.oobCode??null,l=N6(n.mode??null);Et(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=D6(t);try{return new b0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(t,n){return ec._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=b0.parseLink(n);return Et(s,"argument-error"),ec._fromEmailAndCode(t,s.code,s.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Fx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Tc{constructor(){super("facebook.com")}static credential(t){return Na._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Na._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return _r.credentialFromTaggedObject(t)}static credentialFromError(t){return _r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return _r.credential(n,s)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Tc{constructor(){super("github.com")}static credential(t){return Na._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Tc{constructor(){super("twitter.com")}static credential(t,n){return Na._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Tr.credential(n,s)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(e,t){return Ec(e,"POST","/v1/accounts:signUp",jr(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await gi._fromIdTokenResponse(t,s,a),c=OS(s);return new Da({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=OS(s);return new Da({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function OS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends Ps{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,td.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new td(t,n,s,a)}}function Hx(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(e,l,t,s):l})}async function M6(e,t,n=!1){const s=await tc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Da._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(e,t,n=!1){const{auth:s}=e;if(Xn(s.app))return Promise.reject(xs(s));const a="reauthenticate";try{const l=await tc(e,Hx(s,a,t,e),n);Et(l.idToken,s,"internal-error");const c=_0(l.idToken);Et(c,s,"internal-error");const{sub:f}=c;return Et(e.uid===f,s,"user-mismatch"),Da._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&bi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(e,t,n=!1){if(Xn(e.app))return Promise.reject(xs(e));const s="signIn",a=await Hx(e,s,t),l=await Da._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function P6(e,t){return qx(La(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(e){const t=La(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function k6(e,t,n){if(Xn(e.app))return Promise.reject(xs(e));const s=La(e),c=await fy(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V6).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Gx(e),m}),f=await Da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function L6(e,t,n){return Xn(e.app)?Promise.reject(xs(e)):P6($e(e),hl.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Gx(e),s})}function j6(e,t,n,s){return $e(e).onIdTokenChanged(t,n,s)}function U6(e,t,n){return $e(e).beforeAuthStateChanged(t,n)}function z6(e,t,n,s){return $e(e).onAuthStateChanged(t,n,s)}function B6(e){return $e(e).signOut()}const ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=1e3,H6=10;class Yx extends Kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);a6()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,H6):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Yx.type="LOCAL";const q6=Yx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends Kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$x.type="SESSION";const Qx=$x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new xd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await G6(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=S0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function Y6(e){Wi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function $6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function X6(){return Xx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firebaseLocalStorageDb",W6=1,nd="firebaseLocalStorage",Jx="fbase_key";class bc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(e,t){return e.transaction([nd],t?"readwrite":"readonly").objectStore(nd)}function J6(){const e=indexedDB.deleteDatabase(Wx);return new bc(e).toPromise()}function dy(){const e=indexedDB.open(Wx,W6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(nd,{keyPath:Jx})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(nd)?t(s):(s.close(),await J6(),t(await dy()))})})}async function PS(e,t,n){const s=Rd(e,!0).put({[Jx]:t,value:n});return new bc(s).toPromise()}async function Z6(e,t){const n=Rd(e,!1).get(t),s=await new bc(n).toPromise();return s===void 0?null:s.value}function kS(e,t){const n=Rd(e,!0).delete(t);return new bc(n).toPromise()}const t3=800,e3=3;class Zx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>e3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(X6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await $6(),!this.activeServiceWorker)return;this.sender=new K6(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Q6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dy();return await PS(t,ed,"1"),await kS(t,ed),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>PS(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Z6(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>kS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Rd(a,!1).getAll();return new bc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zx.type="LOCAL";const n3=Zx;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(e,t){return t?Ss(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends T0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Yo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Yo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function s3(e){return qx(e.auth,new w0(e),e.bypassAuthState)}function r3(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),O6(n,new w0(e),e.bypassAuthState)}async function a3(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),M6(n,new w0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return s3;case"linkViaPopup":case"linkViaRedirect":return a3;case"reauthViaPopup":case"reauthViaRedirect":return r3;default:bi(this.auth,"internal-error")}}resolve(t){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new _c(2e3,1e4);class Ho extends tR{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const t=S0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,o3.get())};t()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="pendingRedirect",Df=new Map;class u3 extends tR{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Df.get(this.auth._key());if(!t){try{const s=await c3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Df.set(this.auth._key(),t)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c3(e,t){const n=d3(t),s=f3(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function h3(e,t){Df.set(e._key(),t)}function f3(e){return Ss(e._redirectPersistence)}function d3(e){return Nf(l3,e.config.apiKey,e.name)}async function m3(e,t,n=!1){if(Xn(e.app))return Promise.reject(xs(e));const s=La(e),a=i3(s,t),c=await new u3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=600*1e3;class g3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!y3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!eR(t)){const a=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Xi(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=p3&&this.cachedEventUids.clear(),this.cachedEventUids.has(LS(t))}saveEventToCache(t){this.cachedEventUids.add(LS(t)),this.lastProcessedEventTime=Date.now()}}function LS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function eR({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function y3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eR(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(e,t={}){return Ur(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E3=/^https?/;async function T3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await v3(e);for(const n of t)try{if(b3(n))return}catch{}bi(e,"unauthorized-domain")}function b3(e){const t=cy(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!E3.test(n))return!1;if(_3.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new _c(3e4,6e4);function jS(){const e=Wi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function w3(e){return new Promise((t,n)=>{var a,l,c;function s(){jS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jS(),n(Xi(e,"network-request-failed"))},timeout:S3.get()})}if((l=(a=Wi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)t(gapi.iframes.getContext());else if((c=Wi().gapi)!=null&&c.load)s();else{const f=p6("iframefcb");return Wi()[f]=()=>{gapi.load?s():n(Xi(e,"network-request-failed"))},Ux(`${m6()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw Vf=null,t})}let Vf=null;function A3(e){return Vf=Vf||w3(e),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new _c(5e3,15e3),R3="__/auth/iframe",C3="emulator/auth/iframe",I3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D3(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?v0(t,C3):`https://${e.config.authDomain}/${R3}`,s={apiKey:t.apiKey,appName:e.name,v:cl},a=N3.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${vc(s).slice(1)}`}async function V3(e){const t=await A3(e),n=Wi().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:D3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I3,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Xi(e,"network-request-failed"),f=Wi().setTimeout(()=>{l(c)},x3.get());function m(){Wi().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O3=500,P3=600,k3="_blank",L3="http://localhost";class US{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j3(e,t,n,s=O3,a=P3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...M3,width:s.toString(),height:a.toString(),top:l,left:c},p=cn().toLowerCase();n&&(f=Vx(p)?k3:n),Nx(p)&&(t=t||L3,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[A,I])=>`${E}${A}=${I},`,"");if(r6(p)&&f!=="_self")return U3(t||"",f),new US(null);const _=window.open(t||"",f,y);Et(_,e,"popup-blocked");try{_.focus()}catch{}return new US(_)}function U3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="__/auth/handler",B3="emulator/auth/handler",F3=encodeURIComponent("fac");async function zS(e,t,n,s,a,l){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:cl,eventId:a};if(t instanceof Fx){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",Ak(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Tc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${F3}=${encodeURIComponent(m)}`:"";return`${H3(e)}?${vc(f).slice(1)}${p}`}function H3({config:e}){return e.emulator?v0(e,B3):`https://${e.authDomain}/${z3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="webStorageSupport";class q3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qx,this._completeRedirectFn=m3,this._overrideRedirectResult=h3}async _openPopup(t,n,s,a){var c;Ds((c=this.eventManagers[t._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await zS(t,n,s,cy(),a);return j3(t,l,S0())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await zS(t,n,s,cy(),a);return Y6(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ds(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await V3(t),s=new g3(t);return n.register("authEvent",a=>(Et(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(bg,{type:bg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[bg];l!==void 0&&n(!!l),bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lx()||Dx()||E0()}}const G3=q3;var BS="@firebase/auth",FS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $3(e){Jo(new Ia("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jx(e)},p=new h6(s,a,l,m);return T6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Jo(new Ia("auth-internal",t=>{const n=La(t.getProvider("auth").getImmediate());return(s=>new K3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(BS,FS,Y3(e)),xr(BS,FS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=300,X3=dx("authIdTokenMaxAge")||Q3;let HS=null;const W3=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X3)return;const a=n==null?void 0:n.token;HS!==a&&(HS=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function J3(e=_x()){const t=g0(e,"auth");if(t.isInitialized())return t.getImmediate();const n=E6(e,{popupRedirectResolver:G3,persistence:[n3,q6,Qx]}),s=dx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=W3(l.toString());U6(n,c,()=>c(n.currentUser)),j6(n,f=>c(f))}}const a=hx("auth");return a&&b6(n,`http://${a}`),n}function Z3(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}f6({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=Xi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Z3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$3("Browser");var qS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,nR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,R){function C(){}C.prototype=R.prototype,N.F=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(L,P,F){for(var D=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)D[$t-2]=arguments[$t];return R.prototype[P].apply(L,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,C){C||(C=0);const L=Array(16);if(typeof R=="string")for(var P=0;P<16;++P)L[P]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(P=0;P<16;++P)L[P]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],P=N.g[2];let F=N.g[3],D;D=R+(F^C&(P^F))+L[0]+3614090360&4294967295,R=C+(D<<7&4294967295|D>>>25),D=F+(P^R&(C^P))+L[1]+3905402710&4294967295,F=R+(D<<12&4294967295|D>>>20),D=P+(C^F&(R^C))+L[2]+606105819&4294967295,P=F+(D<<17&4294967295|D>>>15),D=C+(R^P&(F^R))+L[3]+3250441966&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(F^C&(P^F))+L[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=F+(P^R&(C^P))+L[5]+1200080426&4294967295,F=R+(D<<12&4294967295|D>>>20),D=P+(C^F&(R^C))+L[6]+2821735955&4294967295,P=F+(D<<17&4294967295|D>>>15),D=C+(R^P&(F^R))+L[7]+4249261313&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(F^C&(P^F))+L[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=F+(P^R&(C^P))+L[9]+2336552879&4294967295,F=R+(D<<12&4294967295|D>>>20),D=P+(C^F&(R^C))+L[10]+4294925233&4294967295,P=F+(D<<17&4294967295|D>>>15),D=C+(R^P&(F^R))+L[11]+2304563134&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(F^C&(P^F))+L[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=F+(P^R&(C^P))+L[13]+4254626195&4294967295,F=R+(D<<12&4294967295|D>>>20),D=P+(C^F&(R^C))+L[14]+2792965006&4294967295,P=F+(D<<17&4294967295|D>>>15),D=C+(R^P&(F^R))+L[15]+1236535329&4294967295,C=P+(D<<22&4294967295|D>>>10),D=R+(P^F&(C^P))+L[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=F+(C^P&(R^C))+L[6]+3225465664&4294967295,F=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(F^R))+L[11]+643717713&4294967295,P=F+(D<<14&4294967295|D>>>18),D=C+(F^R&(P^F))+L[0]+3921069994&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^F&(C^P))+L[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=F+(C^P&(R^C))+L[10]+38016083&4294967295,F=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(F^R))+L[15]+3634488961&4294967295,P=F+(D<<14&4294967295|D>>>18),D=C+(F^R&(P^F))+L[4]+3889429448&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^F&(C^P))+L[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=F+(C^P&(R^C))+L[14]+3275163606&4294967295,F=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(F^R))+L[3]+4107603335&4294967295,P=F+(D<<14&4294967295|D>>>18),D=C+(F^R&(P^F))+L[8]+1163531501&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(P^F&(C^P))+L[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=F+(C^P&(R^C))+L[2]+4243563512&4294967295,F=R+(D<<9&4294967295|D>>>23),D=P+(R^C&(F^R))+L[7]+1735328473&4294967295,P=F+(D<<14&4294967295|D>>>18),D=C+(F^R&(P^F))+L[12]+2368359562&4294967295,C=P+(D<<20&4294967295|D>>>12),D=R+(C^P^F)+L[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=F+(R^C^P)+L[8]+2272392833&4294967295,F=R+(D<<11&4294967295|D>>>21),D=P+(F^R^C)+L[11]+1839030562&4294967295,P=F+(D<<16&4294967295|D>>>16),D=C+(P^F^R)+L[14]+4259657740&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^F)+L[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=F+(R^C^P)+L[4]+1272893353&4294967295,F=R+(D<<11&4294967295|D>>>21),D=P+(F^R^C)+L[7]+4139469664&4294967295,P=F+(D<<16&4294967295|D>>>16),D=C+(P^F^R)+L[10]+3200236656&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^F)+L[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=F+(R^C^P)+L[0]+3936430074&4294967295,F=R+(D<<11&4294967295|D>>>21),D=P+(F^R^C)+L[3]+3572445317&4294967295,P=F+(D<<16&4294967295|D>>>16),D=C+(P^F^R)+L[6]+76029189&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(C^P^F)+L[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=F+(R^C^P)+L[12]+3873151461&4294967295,F=R+(D<<11&4294967295|D>>>21),D=P+(F^R^C)+L[15]+530742520&4294967295,P=F+(D<<16&4294967295|D>>>16),D=C+(P^F^R)+L[2]+3299628645&4294967295,C=P+(D<<23&4294967295|D>>>9),D=R+(P^(C|~F))+L[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=F+(C^(R|~P))+L[7]+1126891415&4294967295,F=R+(D<<10&4294967295|D>>>22),D=P+(R^(F|~C))+L[14]+2878612391&4294967295,P=F+(D<<15&4294967295|D>>>17),D=C+(F^(P|~R))+L[5]+4237533241&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~F))+L[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=F+(C^(R|~P))+L[3]+2399980690&4294967295,F=R+(D<<10&4294967295|D>>>22),D=P+(R^(F|~C))+L[10]+4293915773&4294967295,P=F+(D<<15&4294967295|D>>>17),D=C+(F^(P|~R))+L[1]+2240044497&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~F))+L[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=F+(C^(R|~P))+L[15]+4264355552&4294967295,F=R+(D<<10&4294967295|D>>>22),D=P+(R^(F|~C))+L[6]+2734768916&4294967295,P=F+(D<<15&4294967295|D>>>17),D=C+(F^(P|~R))+L[13]+1309151649&4294967295,C=P+(D<<21&4294967295|D>>>11),D=R+(P^(C|~F))+L[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=F+(C^(R|~P))+L[11]+3174756917&4294967295,F=R+(D<<10&4294967295|D>>>22),D=P+(R^(F|~C))+L[2]+718787259&4294967295,P=F+(D<<15&4294967295|D>>>17),D=C+(F^(P|~R))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+F&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const C=R-this.blockSize,L=this.C;let P=this.h,F=0;for(;F<R;){if(P==0)for(;F<=C;)a(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<R;)if(L[P++]=N.charCodeAt(F++),P==this.blockSize){a(this,L),P=0;break}}else for(;F<R;)if(L[P++]=N[F++],P==this.blockSize){a(this,L),P=0;break}}this.h=P,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)N[R++]=this.g[C]>>>L&255;return N};function l(N,R){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function c(N,R){this.h=R;const C=[];let L=!0;for(let P=N.length-1;P>=0;P--){const F=N[P]|0;L&&F==R||(C[P]=F,L=!1)}this.g=C}var f={};function m(N){return-128<=N&&N<128?l(N,function(R){return new c([R|0],R<0?-1:0)}):new c([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return j(p(-N));const R=[];let C=1;for(let L=0;N>=C;L++)R[L]=N/C|0,C*=4294967296;return new c(R,0)}function y(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return j(y(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let L=_;for(let F=0;F<N.length;F+=8){var P=Math.min(8,N.length-F);const D=parseInt(N.substring(F,F+P),R);P<8?(P=p(Math.pow(R,P)),L=L.j(P).add(p(D))):(L=L.j(C),L=L.add(p(D)))}return L}var _=m(0),E=m(1),A=m(16777216);e=c.prototype,e.m=function(){if(k(this))return-j(this).m();let N=0,R=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);N+=(L>=0?L:4294967296+L)*R,R*=4294967296}return N},e.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(k(this))return"-"+j(this).toString(N);const R=p(Math.pow(N,6));var C=this;let L="";for(;;){const P=tt(C,R).g;C=O(C,P.j(R));let F=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=P,I(C))return F+L;for(;F.length<6;)F="0"+F;L=F+L}},e.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function k(N){return N.h==-1}e.l=function(N){return N=O(this,N),k(N)?-1:I(N)?0:1};function j(N){const R=N.g.length,C=[];for(let L=0;L<R;L++)C[L]=~N.g[L];return new c(C,~N.h).add(E)}e.abs=function(){return k(this)?j(this):this},e.add=function(N){const R=Math.max(this.g.length,N.g.length),C=[];let L=0;for(let P=0;P<=R;P++){let F=L+(this.i(P)&65535)+(N.i(P)&65535),D=(F>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);L=D>>>16,F&=65535,D&=65535,C[P]=D<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function O(N,R){return N.add(j(R))}e.j=function(N){if(I(this)||I(N))return _;if(k(this))return k(N)?j(this).j(j(N)):j(j(this).j(N));if(k(N))return j(this.j(j(N)));if(this.l(A)<0&&N.l(A)<0)return p(this.m()*N.m());const R=this.g.length+N.g.length,C=[];for(var L=0;L<2*R;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<N.g.length;P++){const F=this.i(L)>>>16,D=this.i(L)&65535,$t=N.i(P)>>>16,le=N.i(P)&65535;C[2*L+2*P]+=D*le,q(C,2*L+2*P),C[2*L+2*P+1]+=F*le,q(C,2*L+2*P+1),C[2*L+2*P+1]+=D*$t,q(C,2*L+2*P+1),C[2*L+2*P+2]+=F*$t,q(C,2*L+2*P+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new c(C,0)};function q(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function B(N,R){this.g=N,this.h=R}function tt(N,R){if(I(R))throw Error("division by zero");if(I(N))return new B(_,_);if(k(N))return R=tt(j(N),R),new B(j(R.g),j(R.h));if(k(R))return R=tt(N,j(R)),new B(j(R.g),R.h);if(N.g.length>30){if(k(N)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var C=E,L=R;L.l(N)<=0;)C=at(C),L=at(L);var P=ut(C,1),F=ut(L,1);for(L=ut(L,2),C=ut(C,2);!I(L);){var D=F.add(L);D.l(N)<=0&&(P=P.add(C),F=D),L=ut(L,1),C=ut(C,1)}return R=O(N,P.j(R)),new B(P,R)}for(P=_;N.l(R)>=0;){for(C=Math.max(1,Math.floor(N.m()/R.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),F=p(C),D=F.j(R);k(D)||D.l(N)>0;)C-=L,F=p(C),D=F.j(R);I(F)&&(F=E),P=P.add(F),N=O(N,D)}return new B(P,N)}e.B=function(N){return tt(this,N).h},e.and=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)&N.i(L);return new c(C,this.h&N.h)},e.or=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)|N.i(L);return new c(C,this.h|N.h)},e.xor=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)^N.i(L);return new c(C,this.h^N.h)};function at(N){const R=N.g.length+1,C=[];for(let L=0;L<R;L++)C[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(C,N.h)}function ut(N,R){const C=R>>5;R%=32;const L=N.g.length-C,P=[];for(let F=0;F<L;F++)P[F]=R>0?N.i(F+C)>>>R|N.i(F+C+1)<<32-R:N.i(F+C);return new c(P,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nR=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Rr=c}).apply(typeof qS<"u"?qS:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iR,Du,sR,Mf,my,rR,aR,oR;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var b=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var G=h[x];if(!(G in b))break t;b=b[G]}h=h[h.length-1],x=b[h],v=v(x),v!=x&&v!=null&&t(b,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var b=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&b.push([x,v[x]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,b){return h.call.apply(h.bind,arguments)}function p(h,v,b){return p=m,p.apply(null,arguments)}function y(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function _(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(x,G,X){for(var ot=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ot[xt-2]=arguments[xt];return v.prototype[G].apply(x,ot)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const v=h.length;if(v>0){const b=Array(v);for(let x=0;x<v;x++)b[x]=h[x];return b}return[]}function I(h,v){for(let x=1;x<arguments.length;x++){const G=arguments[x];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=h.length||0;const X=G.length||0;h.length=b+X;for(let ot=0;ot<X;ot++)h[b+ot]=G[ot]}else h.push(G)}}class k{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(h){c.setTimeout(()=>{throw h},0)}function O(){var h=N;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class q{constructor(){this.h=this.g=null}add(v,b){const x=B.get();x.set(v,b),this.h?this.h.next=x:this.g=x,this.h=x}}var B=new k(()=>new tt,h=>h.reset());class tt{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ut=!1,N=new q,R=()=>{const h=Promise.resolve(void 0);at=()=>{h.then(C)}};function C(){for(var h;h=O();){try{h.h.call(h.g)}catch(b){j(b)}var v=B;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ut=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,v),c.removeEventListener("test",b,v)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function $t(h,v){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_($t,P),$t.prototype.init=function(h,v){const b=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(h,v,b,x,G){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!x,this.ha=G,this.key=++Q,this.da=this.fa=!1}function dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,v,b){for(const x in h)v.call(b,h[x],x,h)}function Mt(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function z(h){const v={};for(const b in h)v[b]=h[b];return v}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,v){let b,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(b in x)h[b]=x[b];for(let X=0;X<it.length;X++)b=it[X],Object.prototype.hasOwnProperty.call(x,b)&&(h[b]=x[b])}}function ft(h){this.src=h,this.g={},this.h=0}ft.prototype.add=function(h,v,b,x,G){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ot=It(h,v,x,G);return ot>-1?(v=h[ot],b||(v.fa=!1)):(v=new rt(v,this.src,X,!!x,G),v.fa=b,h.push(v)),v};function bt(h,v){const b=v.type;if(b in h.g){var x=h.g[b],G=Array.prototype.indexOf.call(x,v,void 0),X;(X=G>=0)&&Array.prototype.splice.call(x,G,1),X&&(dt(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function It(h,v,b,x){for(let G=0;G<h.length;++G){const X=h[G];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==x)return G}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),je={};function ue(h,v,b,x,G){if(Array.isArray(v)){for(let X=0;X<v.length;X++)ue(h,v[X],b,x,G);return null}return b=El(b),h&&h[le]?h.J(v,b,f(x)?!!x.capture:!1,G):Hr(h,v,b,!1,x,G)}function Hr(h,v,b,x,G,X){if(!v)throw Error("Invalid event type");const ot=f(G)?!!G.capture:!!G;let xt=qr(h);if(xt||(h[zt]=xt=new ft(h)),b=xt.add(v,b,x,ot,X),b.proxy)return b;if(x=za(),b.proxy=x,x.src=h,x.listener=b,h.addEventListener)F||(G=ot),G===void 0&&(G=!1),h.addEventListener(v.toString(),x,G);else if(h.attachEvent)h.attachEvent(wi(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function za(){function h(b){return v.call(h.src,h.listener,b)}const v=vl;return h}function Ba(h,v,b,x,G){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ba(h,v[X],b,x,G);else x=f(x)?!!x.capture:!!x,b=El(b),h&&h[le]?(h=h.i,X=String(v).toString(),X in h.g&&(v=h.g[X],b=It(v,b,x,G),b>-1&&(dt(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[X],h.h--)))):h&&(h=qr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=It(v,b,x,G)),(b=h>-1?v[h]:null)&&Fa(b))}function Fa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[le])bt(v.i,h);else{var b=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(b,x,h.capture):v.detachEvent?v.detachEvent(wi(b),x):v.addListener&&v.removeListener&&v.removeListener(x),(b=qr(v))?(bt(b,h),b.h==0&&(b.src=null,v[zt]=null)):dt(h)}}}function wi(h){return h in je?je[h]:je[h]="on"+h}function vl(h,v){if(h.da)h=!0;else{v=new $t(v,this);const b=h.listener,x=h.ha||h.src;h.fa&&Fa(h),h=b.call(x,v)}return h}function qr(h){return h=h[zt],h instanceof ft?h:null}var _l="__closure_events_fn_"+(Math.random()*1e9>>>0);function El(h){return typeof h=="function"?h:(h[_l]||(h[_l]=function(v){return h.handleEvent(v)}),h[_l])}function we(){L.call(this),this.i=new ft(this),this.M=this,this.G=null}_(we,L),we.prototype[le]=!0,we.prototype.removeEventListener=function(h,v,b,x){Ba(this,h,v,b,x)};function Ue(h,v){var b,x=h.G;if(x)for(b=[];x;x=x.G)b.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new P(v,h);else if(v instanceof P)v.target=v.target||h;else{var G=v;v=new P(x,h),lt(v,G)}G=!0;let X,ot;if(b)for(ot=b.length-1;ot>=0;ot--)X=v.g=b[ot],G=ks(X,x,!0,v)&&G;if(X=v.g=h,G=ks(X,x,!0,v)&&G,G=ks(X,x,!1,v)&&G,b)for(ot=0;ot<b.length;ot++)X=v.g=b[ot],G=ks(X,x,!1,v)&&G}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let x=0;x<b.length;x++)dt(b[x]);delete h.g[v],h.h--}}this.G=null},we.prototype.J=function(h,v,b,x){return this.i.add(String(h),v,!1,b,x)},we.prototype.K=function(h,v,b,x){return this.i.add(String(h),v,!0,b,x)};function ks(h,v,b,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let X=0;X<v.length;++X){const ot=v[X];if(ot&&!ot.da&&ot.capture==b){const xt=ot.listener,_e=ot.ha||ot.src;ot.fa&&bt(h.i,ot),G=xt.call(_e,x)!==!1&&G}}return G&&!x.defaultPrevented}function Gd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Ic(h){h.g=Gd(()=>{h.g=null,h.i&&(h.i=!1,Ic(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class hn extends L{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ic(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(h){L.call(this),this.h=h,this.g={}}_(Gr,L);var Tl=[];function bl(h){Ct(h.g,function(v,b){this.g.hasOwnProperty(b)&&Fa(v)},h),h.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),bl(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=c.JSON.stringify,Kd=c.JSON.parse,Nc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Dc(){}function Vc(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){P.call(this,"d")}_(Qe,P);function kn(){P.call(this,"c")}_(kn,P);var ve={},Mc=null;function Ha(){return Mc=Mc||new we}ve.Ia="serverreachability";function Oc(h){P.call(this,ve.Ia,h)}_(Oc,P);function Ai(h){const v=Ha();Ue(v,new Oc(v))}ve.STAT_EVENT="statevent";function Kr(h,v){P.call(this,ve.STAT_EVENT,h),this.stat=v}_(Kr,P);function Ae(h){const v=Ha();Ue(v,new Kr(v,h))}ve.Ja="timingevent";function xi(h,v){P.call(this,ve.Ja,h),this.size=v}_(xi,P);function Ri(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Yd(h,v,b,x,G,X){h.info(function(){if(h.g)if(X){var ot="",xt=X.split("&");for(let Gt=0;Gt<xt.length;Gt++){var _e=xt[Gt].split("=");if(_e.length>1){const ce=_e[0];_e=_e[1];const zn=ce.split("_");ot=zn.length>=2&&zn[1]=="type"?ot+(ce+"="+_e+"&"):ot+(ce+"=redacted&")}}}else ot=null;else ot=X;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+v+`
`+b+`
`+ot})}function Pc(h,v,b,x,G,X,ot){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+v+`
`+b+`
`+X+" "+ot})}function Ci(h,v,b,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+$d(h,b)+(x?" "+x:"")})}function Yr(h,v){h.info(function(){return"TIMEOUT: "+v})}ni.prototype.info=function(){};function $d(h,v){if(!h.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var b=X[h];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var G=x[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ot=1;ot<x.length;ot++)x[ot]=""}}}}return Ls(X)}catch{return v}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function Qr(){}_(Qr,Dc),Qr.prototype.g=function(){return new XMLHttpRequest},wl=new Qr;function is(h){return encodeURIComponent(String(h))}function kc(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function ii(h,v,b,x){this.j=h,this.i=v,this.l=b,this.S=x||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var xe={},He={};function Ii(h,v,b){h.M=1,h.A=Xr(Ce(v)),h.u=b,h.R=!0,qa(h,null)}function qa(h,v){h.F=Date.now(),Ni(h),h.B=Ce(h.A);var b=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),$a(b.i,"t",x),h.C=0,b=h.j.L,h.h=new si,h.g=Wc(h.j,b?v:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),v=h.V,b=h.g,x=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(Tl[0]=G.toString()),G=Tl);for(let X=0;X<G.length;X++){const ot=ue(b,G[X],x||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ai(),Yd(h.i,h.v,h.B,h.l,h.S,h.u)}ii.prototype.ba=function(h){h=h.target;const v=this.O;v&&oi(h)==3?v.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)t:{const xt=oi(this.g),_e=this.g.ya(),Gt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||xt!=4||_e==7||(_e==8||Gt<=0?Ai(3):Ai(2)),Di(this);var v=this.g.ca();this.X=v;var b=Qd(this);if(this.o=v==200,Pc(this.i,this.v,this.B,this.l,this.S,xt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var x,G=this.g;if((x=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(x)){var X=x;break e}}X=null}if(h=X)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,Ae(12),xn(this),Ln(this);break t}}if(this.R){h=!0;let ce;for(;!this.K&&this.C<b.length;)if(ce=jc(this,b),ce==He){xt==4&&(this.m=4,Ae(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==xe){this.m=4,Ae(15),Ci(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,ce,null),Vi(this,ce);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||b.length!=0||this.h.h||(this.m=1,Ae(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,b,"[Invalid Chunked Response]"),xn(this),Ln(this);else if(b.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Ul(ot),ot.P=!0,Ae(11))}}else Ci(this.i,this.l,b,null),Vi(this,b);xt==4&&xn(this),this.o&&!this.K&&(xt==4?Yc(this.j,this):(this.o=!1,Ni(this)))}else rs(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),xn(this),Ln(this)}}}catch{}finally{}};function Qd(h){if(!Lc(h))return h.g.la();const v=Xe(h.g);if(v==="")return"";let b="";const x=v.length,G=oi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return xn(h),Ln(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<x;X++)h.h.h=!0,b+=h.h.i.decode(v[X],{stream:!(G&&X==x-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function Lc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function jc(h,v){var b=h.C,x=v.indexOf(`
`,b);return x==-1?He:(b=Number(v.substring(b,x)),isNaN(b)?xe:(x+=1,x+b>v.length?He:(v=v.slice(x,x+b),h.C=x+b,v)))}ii.prototype.cancel=function(){this.K=!0,xn(this)};function Ni(h){h.T=Date.now()+h.H,Ga(h,h.H)}function Ga(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ri(p(h.aa,h),v)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ii.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Yr(this.i,this.B),this.M!=2&&(Ai(),Ae(17)),xn(this),this.m=2,Ln(this)):Ga(this,this.T-h)};function Ln(h){h.j.I==0||h.K||Yc(h.j,h)}function xn(h){Di(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,bl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Vi(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Oi(b.h,h))){if(!h.L&&Oi(b.h,h)&&b.I==3){try{var x=b.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Za(b),Gs(b);else break t;ia(b),Ae(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ri(p(b.Va,b),6e3));Mi(b.h)<=1&&b.ta&&(b.ta=void 0)}else zi(b,11)}else if((h.L||b.g==h)&&Za(b),!D(v))for(G=b.Ba.g.parse(v),v=0;v<G.length;v++){let Gt=G[v];const ce=Gt[0];if(!(ce<=b.K))if(b.K=ce,Gt=Gt[1],b.I==2)if(Gt[0]=="c"){b.M=Gt[1],b.ba=Gt[2];const zn=Gt[3];zn!=null&&(b.ka=zn,b.j.info("VER="+b.ka));const Bi=Gt[4];Bi!=null&&(b.za=Bi,b.j.info("SVER="+b.za));const li=Gt[5];li!=null&&typeof li=="number"&&li>0&&(x=1.5*li,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const ui=h.g;if(ui){const sa=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var X=x.h;X.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Rl(X,X.h),X.h=null))}if(x.G){const to=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(x.wa=to,Qt(x.J,x.G,to))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var ot=h;if(x.na=Xc(x,x.L?x.ba:null,x.W),ot.L){Cl(x.h,ot);var xt=ot,_e=x.O;_e&&(xt.H=_e),xt.D&&(Di(xt),Ni(xt)),x.g=ot}else Gc(x);b.i.length>0&&Ui(b)}else Gt[0]!="stop"&&Gt[0]!="close"||zi(b,7);else b.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?zi(b,7):Ll(b):Gt[0]!="noop"&&b.l&&b.l.qa(Gt),b.A=0)}}Ai(4)}catch{}}var Re=class{constructor(h,v){this.g=h,this.map=v}};function Al(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mi(h){return h.h?1:h.g?h.g.size:0}function Oi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Rl(h,v){h.g?h.g.add(v):h.h=v}function Cl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Al.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Il(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return A(h.i)}var Uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const x=h[b].indexOf("=");let G,X=null;x>=0?(G=h[b].substring(0,x),X=h[b].substring(x+1)):G=h[b],v(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Rn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Rn?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,js(this,h.u),this.h=h.h,Nl(this,Hc(h.i)),this.m=h.m):h&&(v=String(h).match(Uc))?(this.l=!1,qe(this,v[1]||"",!0),this.o=Pi(v[2]||""),this.g=Pi(v[3]||"",!0),js(this,v[4]),this.h=Pi(v[5]||"",!0),Nl(this,v[6]||"",!0),this.m=Pi(v[7]||"")):(this.l=!1,this.i=new zs(null,this.l))}Rn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Wr(v,Ya,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Wr(v,Ya,!0),"@"),h.push(is(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Wr(b,b.charAt(0)=="/"?Dl:zc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Wr(b,Bc)),h.join("")},Rn.prototype.resolve=function(h){const v=Ce(this);let b=!!h.j;b?qe(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var x=h.h;if(b)js(v,h.u);else if(b=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var G=v.h.lastIndexOf("/");G!=-1&&(x=v.h.slice(0,G+1)+x)}if(G=x,G==".."||G==".")x="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){x=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ot=0;ot<G.length;){const xt=G[ot++];xt=="."?x&&ot==G.length&&X.push(""):xt==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),x&&ot==G.length&&X.push("")):(X.push(xt),x=!0)}x=X.join("/")}else x=G}return b?v.h=x:b=h.i.toString()!=="",b?Nl(v,Hc(h.i)):b=!!h.m,b&&(v.m=h.m),v};function Ce(h){return new Rn(h)}function qe(h,v,b){h.j=b?Pi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function js(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Nl(h,v,b){v instanceof zs?(h.i=v,Qa(h.i,h.l)):(b||(v=Wr(v,Us)),h.i=new zs(v,h.l))}function Qt(h,v,b){h.i.set(v,b)}function Xr(h){return Qt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Pi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Wr(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,gn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ya=/[#\/\?@]/g,zc=/[#\?:]/g,Dl=/[#\?]/g,Us=/[#\?@]/g,Bc=/#/g;function zs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ka(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}e=zs.prototype,e.add=function(h,v){yn(this),this.i=null,h=Bs(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Fc(h,v){yn(h),v=Bs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Vl(h,v){return yn(h),v=Bs(h,v),h.g.has(v)}e.forEach=function(h,v){yn(this),this.g.forEach(function(b,x){b.forEach(function(G){h.call(v,G,x,this)},this)},this)};function Ml(h,v){yn(h);let b=[];if(typeof v=="string")Vl(h,v)&&(b=b.concat(h.g.get(Bs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}e.set=function(h,v){return yn(this),this.i=null,h=Bs(this,h),Vl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Ml(this,h),h.length>0?String(h[0]):v):v};function $a(h,v,b){Fc(h,v),b.length>0&&(h.i=null,h.g.set(Bs(h,v),A(b)),h.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var b=v[x];const G=is(b);b=Ml(this,b);for(let X=0;X<b.length;X++){let ot=G;b[X]!==""&&(ot+="="+is(b[X])),h.push(ot)}}return this.i=h.join("&")};function Hc(h){const v=new zs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Bs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Qa(h,v){v&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(b,x){const G=x.toLowerCase();x!=G&&(Fc(this,x),$a(this,G,b))},h)),h.j=v}function ri(h,v){const b=new ni;if(c.Image){const x=new Image;x.onload=y(jn,b,"TestLoadImage: loaded",!0,v,x),x.onerror=y(jn,b,"TestLoadImage: error",!1,v,x),x.onabort=y(jn,b,"TestLoadImage: abort",!1,v,x),x.ontimeout=y(jn,b,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Ol(h,v){const b=new ni,x=new AbortController,G=setTimeout(()=>{x.abort(),jn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(X=>{clearTimeout(G),X.ok?jn(b,"TestPingServer: ok",!0,v):jn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),jn(b,"TestPingServer: error",!1,v)})}function jn(h,v,b,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(b)}catch{}}function Fs(){this.g=new Nc}function ki(h){this.i=h.Sb||null,this.h=h.ab||!1}_(ki,Dc),ki.prototype.g=function(){return new Jr(this.i,this.h)};function Jr(h,v){we.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Jr,we),e=Jr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ai(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Hs(this):ai(this),this.readyState==3&&Xa(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},e.Na=function(h){this.g&&(this.response=h,Hs(this))},e.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ai(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let v="";return Ct(h,function(b,x){v+=x,v+=":",v+=b,v+=`\r
`}),v}function Zr(h,v,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=Un(b),typeof h=="string"?b!=null&&is(b):Qt(h,v,b))}function Jt(h){we.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Jt,we);var Li=/^https?$/i,Pl=["POST","PUT"];e=Jt.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){ta(this,X);return}if(h=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)b.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())b.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Pl,v,void 0)>=0)||x||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ot]of b)this.g.setRequestHeader(X,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ta(this,X)}};function ta(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,kl(h),ss(h)}function kl(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),ss(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Jt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ea(this):this.Xa())},e.Xa=function(){ea(this)};function ea(h){if(h.h&&typeof l<"u"){if(h.v&&oi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),oi(h)==4){h.h=!1;try{const X=h.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var x;if(x=X===0){let ot=String(h.D).match(Uc)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),x=!Li.test(ot?ot.toLowerCase():"")}b=x}if(b)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var G=oi(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",kl(h)}}finally{ss(h)}}}}function ss(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||Ue(h,"ready");try{b.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function oi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Kd(v)}};function Xe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(h){const v={};h=(h.g&&oi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(D(h[x]))continue;var b=kc(h[x]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[G]||[];v[G]=X,X.push(b)}Mt(v,function(x){return x.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function qs(h){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,h),this.Za=ji("retryDelaySeedMs",1e4,h),this.Ta=ji("forwardChannelMaxRetries",2,h),this.va=ji("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(h&&h.concurrentRequestLimit),this.Ba=new Fs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=qs.prototype,e.ka=8,e.I=1,e.connect=function(h,v,b,x){Ae(0),this.W=h,this.H=v||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=Xc(this,null,this.W),Ui(this)};function Ll(h){if(Wa(h),h.I==3){var v=h.V++,b=Ce(h.J);if(Qt(b,"SID",h.M),Qt(b,"RID",v),Qt(b,"TYPE","terminate"),na(h,b),v=new ii(h,h.j,v),v.M=2,v.A=Xr(Ce(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=v.A,b=!0),b||(v.g=Wc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ni(v)}Qc(h)}function Gs(h){h.g&&(Ul(h),h.g.cancel(),h.g=null)}function Wa(h){Gs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Za(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ui(h){if(!xl(h.h)&&!h.m){h.m=!0;var v=h.Ea;at||R(),ut||(at(),ut=!0),N.add(v,h),h.D=0}}function Ja(h,v){return Mi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ri(p(h.Ea,h,v),$c(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new ii(this,this.j,h);let X=this.o;if(this.U&&(X?(X=z(X),lt(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=qc(this,G,v),b=Ce(this.J),Qt(b,"RID",h),Qt(b,"CVER",22),this.G&&Qt(b,"X-HTTP-Session-Id",this.G),na(this,b),X&&(this.R?v="headers="+is(Un(X))+"&"+v:this.u&&Zr(b,this.u,X)),Rl(this.h,G),this.Ra&&Qt(b,"TYPE","init"),this.S?(Qt(b,"$req",v),Qt(b,"SID","null"),G.U=!0,Ii(G,b,null)):Ii(G,b,v),this.I=2}}else this.I==3&&(h?jl(this,h):this.i.length==0||xl(this.h)||jl(this))};function jl(h,v){var b;v?b=v.l:b=h.V++;const x=Ce(h.J);Qt(x,"SID",h.M),Qt(x,"RID",b),Qt(x,"AID",h.K),na(h,x),h.u&&h.o&&Zr(x,h.u,h.o),b=new ii(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=qc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Rl(h.h,b),Ii(b,x,v)}function na(h,v){h.H&&Ct(h.H,function(b,x){Qt(v,x,b)}),h.l&&Ct({},function(b,x){Qt(v,x,b)})}function qc(h,v,b){b=Math.min(h.i.length,b);const x=h.l?p(h.l.Ka,h.l,h):null;t:{var G=h.i;let xt=-1;for(;;){const _e=["count="+b];xt==-1?b>0?(xt=G[0].g,_e.push("ofs="+xt)):xt=0:_e.push("ofs="+xt);let Gt=!0;for(let ce=0;ce<b;ce++){var X=G[ce].g;const zn=G[ce].map;if(X-=xt,X<0)xt=Math.max(0,G[ce].g-100),Gt=!1;else try{X="req"+X+"_"||"";try{var ot=zn instanceof Map?zn:Object.entries(zn);for(const[Bi,li]of ot){let ui=li;f(li)&&(ui=Ls(li)),_e.push(X+Bi+"="+encodeURIComponent(ui))}}catch(Bi){throw _e.push(X+"type="+encodeURIComponent("_badmap")),Bi}}catch{x&&x(zn)}}if(Gt){ot=_e.join("&");break t}}ot=void 0}return h=h.i.splice(0,b),v.G=h,ot}function Gc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;at||R(),ut||(at(),ut=!0),N.add(v,h),h.A=0}}function ia(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ri(p(h.Da,h),$c(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ri(p(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Gs(this),Kc(this))};function Ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Kc(h){h.g=new ii(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Ce(h.na);Qt(v,"RID","rpc"),Qt(v,"SID",h.M),Qt(v,"AID",h.K),Qt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qt(v,"TO",h.ia),Qt(v,"TYPE","xmlhttp"),na(h,v),h.u&&h.o&&Zr(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Xr(Ce(v)),b.u=null,b.R=!0,qa(b,h)}e.Va=function(){this.C!=null&&(this.C=null,Gs(this),ia(this),Ae(19))};function Za(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Yc(h,v){var b=null;if(h.g==v){Za(h),Ul(h),h.g=null;var x=2}else if(Oi(h.h,v))b=v.G,Cl(h.h,v),x=1;else return;if(h.I!=0){if(v.o)if(x==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var G=h.D;x=Ha(),Ue(x,new xi(x,b)),Ui(h)}else Gc(h);else if(G=v.m,G==3||G==0&&v.X>0||!(x==1&&Ja(h,v)||x==2&&ia(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),G){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function $c(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function zi(h,v){if(h.j.info("Error code "+v),v==2){var b=p(h.bb,h),x=h.Ua;const G=!x;x=new Rn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(x,"https"),Xr(x),G?ri(x.toString(),b):Ol(x.toString(),b)}else Ae(2);h.I=0,h.l&&h.l.pa(v),Qc(h),Wa(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Qc(h){if(h.I=0,h.ja=[],h.l){const v=Il(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ja,v),I(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function Xc(h,v,b){var x=b instanceof Rn?Ce(b):new Rn(b);if(x.g!="")v&&(x.g=v+"."+x.g),js(x,x.u);else{var G=c.location;x=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const X=new Rn(null);x&&qe(X,x),v&&(X.g=v),G&&js(X,G),b&&(X.h=b),x=X}return b=h.G,v=h.wa,b&&v&&Qt(x,b,v),Qt(x,"VER",h.ka),na(h,x),x}function Wc(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Jt(new ki({ab:b})):new Jt(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}e=Jc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ks(){}Ks.prototype.g=function(h,v){return new fn(h,v)};function fn(h,v){we.call(this),this.g=new qs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!D(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!D(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new as(this)}_(fn,we),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ll(this.g)},fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Ls(h),h=b);v.i.push(new Re(v.Ya++,h)),v.I==3&&Ui(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,fn.Z.N.call(this)};function Zc(h){Qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const b in v){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(Zc,Qe);function th(){kn.call(this),this.status=1}_(th,kn);function as(h){this.g=h}_(as,Jc),as.prototype.ra=function(){Ue(this.g,"a")},as.prototype.qa=function(h){Ue(this.g,new Zc(h))},as.prototype.pa=function(h){Ue(this.g,new th)},as.prototype.oa=function(){Ue(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,oR=function(){return new Ks},aR=function(){return Ha()},rR=ve,my={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Mf=$r,Sl.COMPLETE="complete",sR=Sl,Vc.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",we.prototype.listen=we.prototype.J,Du=Vc,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,iR=Jt}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.8.0";function t5(e){fl=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new m0("@firebase/firestore");function Oo(){return Va.logLevel}function ht(e,...t){if(Va.logLevel<=kt.DEBUG){const n=t.map(A0);Va.debug(`Firestore (${fl}): ${e}`,...n)}}function Vs(e,...t){if(Va.logLevel<=kt.ERROR){const n=t.map(A0);Va.error(`Firestore (${fl}): ${e}`,...n)}}function Zo(e,...t){if(Va.logLevel<=kt.WARN){const n=t.map(A0);Va.warn(`Firestore (${fl}): ${e}`,...n)}}function A0(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,lR(e,s,n)}function lR(e,t,n){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Vs(s),new Error(s)}function Yt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||lR(t,a,s)}function At(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ps{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class e5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class n5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class i5{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Yt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rs,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rs)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new uR(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class s5{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class r5{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new s5(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class GS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a5{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Yt(this.o===void 0,3512);const s=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new GS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new GS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=o5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Lt(e,t){return e<t?-1:e>t?1:0}function py(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return Sg(a)===Sg(l)?Lt(a,l):Sg(a)?1:-1}return Lt(e.length,t.length)}const l5=55296,u5=57343;function Sg(e){const t=e.charCodeAt(0);return t>=l5&&t<=u5}function tl(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="__name__";class $i{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=$i.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Lt(t.length,n.length)}static compareSegments(t,n){const s=$i.isNumericId(t),a=$i.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?$i.extractNumericId(t).compare($i.extractNumericId(n)):py(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Rr.fromString(t.substring(4,t.length-2))}}class se extends $i{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new se(n)}static emptyPath(){return new se([])}}const c5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends $i{construct(t,n,s){return new nn(t,n,s)}static isValidIdentifier(t){return c5.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KS}static keyField(){return new nn([KS])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ct(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new ct(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(se.fromString(t))}static fromName(t){return new vt(se.fromString(t).popFirst(5))}static empty(){return new vt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e,t,n){if(!n)throw new ct(et.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function h5(e,t,n,s){if(t===!0&&s===!0)throw new ct(et.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function YS(e){if(!vt.isDocumentKey(e))throw new ct(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $S(e){if(vt.isDocumentKey(e))throw new ct(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hR(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Cd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function es(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(e);throw new ct(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sc(e,t){if(!hR(e))throw new ct(et.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ct(et.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=-62135596800,XS=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*XS);return new oe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<QS)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XS}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sc(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-QS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:ke("string",oe._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new oe(0,0))}static max(){return new St(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function f5(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=St.fromTimestamp(s===1e9?new oe(n+1,0):new oe(n,s));return new Dr(a,vt.empty(),t)}function d5(e){return new Dr(e.readTime,e.key,nc)}class Dr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Dr(St.min(),vt.empty(),nc)}static max(){return new Dr(St.max(),vt.empty(),nc)}}function m5(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Lt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(e){if(e.code!==et.FAILED_PRECONDITION||e.message!==p5)throw e;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new st(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof st?n:st.resolve(n)}catch(n){return st.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):st.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):st.reject(n)}static resolve(t){return new st(((n,s)=>{n(t)}))}static reject(t){return new st(((n,s)=>{s(t)}))}static waitFor(t){return new st(((n,s)=>{let a=0,l=0,c=!1;t.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=st.resolve(!1);for(const s of t)n=n.next((a=>a?st.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new st(((s,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++f,f===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new st(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function y5(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Id.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=-1;function Nd(e){return e==null}function id(e){return e===0&&1/e==-1/0}function v5(e){return typeof e=="number"&&Number.isInteger(e)&&!id(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="";function _5(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=WS(t)),t=E5(e.get(n),t);return WS(t)}function E5(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case fR:n+="";break;default:n+=l}}return n}function WS(e){return e+fR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n){this.comparator=t,this.root=n||en.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mf(this.root,t,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mf(this.root,t,this.comparator,!0)}}class mf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new en(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new en(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZS(this.data.getIterator())}getIteratorFrom(t){return new ZS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Fe(this.comparator);return n.data=t,n}}class ZS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Pn([])}unionWith(t){let n=new Fe(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return tl(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mR("Invalid base64 string: "+l):l}})(t);return new sn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new sn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const T5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const n=T5.exec(e);if(Yt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(e.seconds),nanos:be(e.nanos)}}function be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Mr(e){return typeof e=="string"?sn.fromBase64String(e):sn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="server_timestamp",gR="__type__",yR="__previous_value__",vR="__local_write_time__";function C0(e){var n,s;return((s=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[gR])==null?void 0:s.stringValue)===pR}function Dd(e){const t=e.mapValue.fields[yR];return C0(t)?Dd(t):t}function ic(e){const t=Vr(e.mapValue.fields[vR].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,n,s,a,l,c,f,m,p,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=_}}const sd="(default)";class sc{constructor(t,n){this.projectId=t,this.database=n||sd}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===sd}isEqual(t){return t instanceof sc&&t.projectId===this.projectId&&t.database===this.database}}function S5(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ct(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="__type__",w5="__max__",pf={mapValue:{}},ER="__vector__",rd="value";function Or(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?C0(e)?4:x5(e)?9007199254740991:A5(e)?10:11:Tt(28295,{value:e})}function ns(e,t){if(e===t)return!0;const n=Or(e);if(n!==Or(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ic(e).isEqual(ic(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vr(a.timestampValue),f=Vr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Mr(a.bytesValue).isEqual(Mr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return be(a.geoPointValue.latitude)===be(l.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return be(a.integerValue)===be(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=be(a.doubleValue),f=be(l.doubleValue);return c===f?id(c)===id(f):isNaN(c)&&isNaN(f)}return!1})(e,t);case 9:return tl(e.arrayValue.values||[],t.arrayValue.values||[],ns);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(JS(c)!==JS(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ns(c[m],f[m])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function rc(e,t){return(e.values||[]).find((n=>ns(n,t)))!==void 0}function el(e,t){if(e===t)return 0;const n=Or(e),s=Or(t);if(n!==s)return Lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const f=be(l.integerValue||l.doubleValue),m=be(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(e,t);case 3:return tw(e.timestampValue,t.timestampValue);case 4:return tw(ic(e),ic(t));case 5:return py(e.stringValue,t.stringValue);case 6:return(function(l,c){const f=Mr(l),m=Mr(c);return f.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Lt(f[p],m[p]);if(y!==0)return y}return Lt(f.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const f=Lt(be(l.latitude),be(c.latitude));return f!==0?f:Lt(be(l.longitude),be(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return ew(e.arrayValue,t.arrayValue);case 10:return(function(l,c){var E,A,I,k;const f=l.fields||{},m=c.fields||{},p=(E=f[rd])==null?void 0:E.arrayValue,y=(A=m[rd])==null?void 0:A.arrayValue,_=Lt(((I=p==null?void 0:p.values)==null?void 0:I.length)||0,((k=y==null?void 0:y.values)==null?void 0:k.length)||0);return _!==0?_:ew(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===pf.mapValue&&c===pf.mapValue)return 0;if(l===pf.mapValue)return 1;if(c===pf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=py(m[_],y[_]);if(E!==0)return E;const A=el(f[m[_]],p[y[_]]);if(A!==0)return A}return Lt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function tw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Lt(e,t);const n=Vr(e),s=Vr(t),a=Lt(n.seconds,s.seconds);return a!==0?a:Lt(n.nanos,s.nanos)}function ew(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=el(n[a],s[a]);if(l)return l}return Lt(n.length,s.length)}function nl(e){return gy(e)}function gy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Vr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Mr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=gy(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${gy(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function Of(e){switch(Or(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dd(e);return t?16+Of(t):16;case 5:return 2*e.stringValue.length;case 6:return Mr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Of(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return zr(s.fields,((l,c)=>{a+=l.length+Of(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function nw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function yy(e){return!!e&&"integerValue"in e}function I0(e){return!!e&&"arrayValue"in e}function iw(e){return!!e&&"nullValue"in e}function sw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pf(e){return!!e&&"mapValue"in e}function A5(e){var n,s;return((s=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[_R])==null?void 0:s.stringValue)===ER}function Hu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return zr(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Hu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hu(e.arrayValue.values[n]);return t}return{...e}}function x5(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===w5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Pf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hu(n)}setAll(t){let n=nn.emptyPath(),s={},a=[];t.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Hu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ns(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){zr(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new wn(Hu(this.value))}}function TR(e){const t=[];return zr(e.fields,((n,s)=>{const a=new nn([n]);if(Pf(s)){const l=TR(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,n,s,a,l,c,f){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new ln(t,0,St.min(),St.min(),St.min(),wn.empty(),0)}static newFoundDocument(t,n,s,a){return new ln(t,1,n,St.min(),s,a,0)}static newNoDocument(t,n){return new ln(t,2,n,St.min(),St.min(),wn.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,St.min(),St.min(),wn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n){this.position=t,this.inclusive=n}}function rw(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=el(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function aw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ns(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,n="asc"){this.field=t,this.dir=n}}function R5(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{}class Pe extends bR{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new I5(t,n,s):n==="array-contains"?new V5(t,s):n==="in"?new M5(t,s):n==="not-in"?new O5(t,s):n==="array-contains-any"?new P5(t,s):new Pe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new N5(t,s):new D5(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&Or(this.value)===Or(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends bR{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Si(t,n)}matches(t){return SR(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SR(e){return e.op==="and"}function wR(e){return C5(e)&&SR(e)}function C5(e){for(const t of e.filters)if(t instanceof Si)return!1;return!0}function vy(e){if(e instanceof Pe)return e.field.canonicalString()+e.op.toString()+nl(e.value);if(wR(e))return e.filters.map((t=>vy(t))).join(",");{const t=e.filters.map((n=>vy(n))).join(",");return`${e.op}(${t})`}}function AR(e,t){return e instanceof Pe?(function(s,a){return a instanceof Pe&&s.op===a.op&&s.field.isEqual(a.field)&&ns(s.value,a.value)})(e,t):e instanceof Si?(function(s,a){return a instanceof Si&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&AR(c,a.filters[f])),!0):!1})(e,t):void Tt(19439)}function xR(e){return e instanceof Pe?(function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`})(e):e instanceof Si?(function(n){return n.op.toString()+" {"+n.getFilters().map(xR).join(" ,")+"}"})(e):"Filter"}class I5 extends Pe{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class N5 extends Pe{constructor(t,n){super(t,"in",n),this.keys=RR("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class D5 extends Pe{constructor(t,n){super(t,"not-in",n),this.keys=RR("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function RR(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>vt.fromName(s.referenceValue)))}class V5 extends Pe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return I0(n)&&rc(n.arrayValue,this.value)}}class M5 extends Pe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class O5 extends Pe{constructor(t,n){super(t,"not-in",n)}matches(t){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class P5 extends Pe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!I0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>rc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(t,n=null,s=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function ow(e,t=null,n=[],s=[],a=null,l=null,c=null){return new k5(e,t,n,s,a,l,c)}function N0(e){const t=At(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>vy(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Nd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>nl(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>nl(s))).join(",")),t.Te=n}return t.Te}function D0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!R5(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!AR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!aw(e.startAt,t.startAt)&&aw(e.endAt,t.endAt)}function _y(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function L5(e,t,n,s,a,l,c,f){return new pl(e,t,n,s,a,l,c,f)}function V0(e){return new pl(e)}function lw(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function j5(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function CR(e){return e.collectionGroup!==null}function qu(e){const t=At(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Fe(nn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new ac(l,s))})),n.has(nn.keyField().canonicalString())||t.Ie.push(new ac(nn.keyField(),s))}return t.Ie}function Ji(e){const t=At(e);return t.Ee||(t.Ee=U5(t,qu(e))),t.Ee}function U5(e,t){if(e.limitType==="F")return ow(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ac(a.field,l)}));const n=e.endAt?new ad(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ad(e.startAt.position,e.startAt.inclusive):null;return ow(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Ey(e,t){const n=e.filters.concat([t]);return new pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function z5(e,t){const n=e.explicitOrderBy.concat([t]);return new pl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function od(e,t,n){return new pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vd(e,t){return D0(Ji(e),Ji(t))&&e.limitType===t.limitType}function IR(e){return`${N0(Ji(e))}|lt:${e.limitType}`}function Po(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>xR(a))).join(", ")}]`),Nd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>nl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>nl(a))).join(",")),`Target(${s})`})(Ji(e))}; limitType=${e.limitType})`}function Md(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):vt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of qu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=rw(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,qu(s),a)||s.endAt&&!(function(c,f,m){const p=rw(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,qu(s),a))})(e,t)}function B5(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function NR(e){return(t,n)=>{let s=!1;for(const a of qu(e)){const l=F5(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function F5(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?el(m,p):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){zr(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return dR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new me(vt.comparator);function Ms(){return H5}const DR=new me(vt.comparator);function Vu(...e){let t=DR;for(const n of e)t=t.insert(n.key,n);return t}function VR(e){let t=DR;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Aa(){return Gu()}function MR(){return Gu()}function Gu(){return new ja((e=>e.toString()),((e,t)=>e.isEqual(t)))}const q5=new me(vt.comparator),G5=new Fe(vt.comparator);function jt(...e){let t=G5;for(const n of e)t=t.add(n);return t}const K5=new Fe(Lt);function Y5(){return K5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(t)?"-0":t}}function OR(e){return{integerValue:""+e}}function $5(e,t){return v5(t)?OR(t):M0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function Q5(e,t,n){return e instanceof ld?(function(a,l){const c={fields:{[gR]:{stringValue:pR},[vR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&C0(l)&&(l=Dd(l)),l&&(c.fields[yR]=l),{mapValue:c}})(n,t):e instanceof oc?kR(e,t):e instanceof lc?LR(e,t):(function(a,l){const c=PR(a,l),f=uw(c)+uw(a.Ae);return yy(c)&&yy(a.Ae)?OR(f):M0(a.serializer,f)})(e,t)}function X5(e,t,n){return e instanceof oc?kR(e,t):e instanceof lc?LR(e,t):n}function PR(e,t){return e instanceof ud?(function(s){return yy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class ld extends Od{}class oc extends Od{constructor(t){super(),this.elements=t}}function kR(e,t){const n=jR(t);for(const s of e.elements)n.some((a=>ns(a,s)))||n.push(s);return{arrayValue:{values:n}}}class lc extends Od{constructor(t){super(),this.elements=t}}function LR(e,t){let n=jR(t);for(const s of e.elements)n=n.filter((a=>!ns(a,s)));return{arrayValue:{values:n}}}class ud extends Od{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function uw(e){return be(e.integerValue||e.doubleValue)}function jR(e){return I0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function W5(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof oc&&a instanceof oc||s instanceof lc&&a instanceof lc?tl(s.elements,a.elements,ns):s instanceof ud&&a instanceof ud?ns(s.Ae,a.Ae):s instanceof ld&&a instanceof ld})(e.transform,t.transform)}class J5{constructor(t,n){this.version=t,this.transformResults=n}}class yi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yi}static exists(t){return new yi(void 0,t)}static updateTime(t){return new yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Pd{}function UR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new BR(e.key,yi.none()):new wc(e.key,e.data,yi.none());{const n=e.data,s=wn.empty();let a=new Fe(nn.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Br(e.key,s,new Pn(a.toArray()),yi.none())}}function Z5(e,t,n){e instanceof wc?(function(a,l,c){const f=a.value.clone(),m=hw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(e,t,n):e instanceof Br?(function(a,l,c){if(!kf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=hw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(zR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Ku(e,t,n,s){return e instanceof wc?(function(l,c,f,m){if(!kf(l.precondition,c))return f;const p=l.value.clone(),y=fw(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,s):e instanceof Br?(function(l,c,f,m){if(!kf(l.precondition,c))return f;const p=fw(l.fieldTransforms,m,c),y=c.data;return y.setAll(zR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,f){return kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(e,t,n)}function tj(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=PR(s.transform,a||null);l!=null&&(n===null&&(n=wn.empty()),n.set(s.field,l))}return n||null}function cw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&tl(s,a,((l,c)=>W5(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wc extends Pd{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Br extends Pd{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zR(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function hw(e,t,n){const s=new Map;Yt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);s.set(l.field,X5(c,f,n[a]))}return s}function fw(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,Q5(l,c,t))}return s}class BR extends Pd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ej extends Pd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&Z5(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ku(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ku(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=MR();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=UR(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&tl(this.mutations,t.mutations,((n,s)=>cw(n,s)))&&tl(this.baseMutations,t.baseMutations,((n,s)=>cw(n,s)))}}class O0{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Yt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return q5})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new O0(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,Bt;function rj(e){switch(e){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function FR(e){if(e===void 0)return Vs("GRPC error has no .code"),et.UNKNOWN;switch(e){case Me.OK:return et.OK;case Me.CANCELLED:return et.CANCELLED;case Me.UNKNOWN:return et.UNKNOWN;case Me.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Me.INTERNAL:return et.INTERNAL;case Me.UNAVAILABLE:return et.UNAVAILABLE;case Me.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Me.NOT_FOUND:return et.NOT_FOUND;case Me.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Me.ABORTED:return et.ABORTED;case Me.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Me.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:e})}}(Bt=Me||(Me={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new Rr([4294967295,4294967295],0);function dw(e){const t=aj().encode(e),n=new nR;return n.update(t),new Uint8Array(n.digest())}function mw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Rr([n,s],0),new Rr([a,l],0)]}class P0{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(s<0)throw new Mu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Rr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Rr.fromNumber(s)));return a.compare(oj)===1&&(a=new Rr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=dw(t),[s,a]=mw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new P0(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(t){if(this.ge===0)return;const n=dw(t),[s,a]=mw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,Ac.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new kd(St.min(),a,new me(Lt),Ms(),jt())}}class Ac{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ac(s,n,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class HR{constructor(t,n){this.targetId=t,this.Ce=n}}class qR{constructor(t,n,s=sn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class pw{constructor(){this.ve=0,this.Fe=gw(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),n=jt(),s=jt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new Ac(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=gw()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class lj{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ms(),this.He=gf(),this.Je=gf(),this.Ze=new me(Lt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(_y(l))if(s===0){const c=new vt(l.path);this.et(n,c,ln.newNoDocument(c,St.min()))}else Yt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(t),m=f?this.ct(f,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Mr(s).toUint8Array()}catch(m){if(m instanceof mR)return Zo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new P0(c,a,l)}catch(m){return Zo(m instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&_y(f.target)){const m=new vt(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=jt();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new kd(t,n,this.Ze,this.je,s);return this.je=Ms(),this.He=gf(),this.Je=gf(),this.Ze=new me(Lt),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new pw,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Fe(Lt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Fe(Lt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pw),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function gf(){return new me(vt.comparator)}function gw(){return new me(vt.comparator)}const uj={asc:"ASCENDING",desc:"DESCENDING"},cj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hj={and:"AND",or:"OR"};class fj{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ty(e,t){return e.useProto3Json||Nd(t)?t:{value:t}}function cd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dj(e,t){return cd(e,t.toTimestamp())}function Zi(e){return Yt(!!e,49232),St.fromTimestamp((function(n){const s=Vr(n);return new oe(s.seconds,s.nanos)})(e))}function k0(e,t){return by(e,t).canonicalString()}function by(e,t){const n=(function(a){return new se(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function KR(e){const t=se.fromString(e);return Yt(WR(t),10190,{key:t.toString()}),t}function Sy(e,t){return k0(e.databaseId,t.path)}function wg(e,t){const n=KR(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt($R(n))}function YR(e,t){return k0(e.databaseId,t)}function mj(e){const t=KR(e);return t.length===4?se.emptyPath():$R(t)}function wy(e){return new se(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $R(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function yw(e,t,n){return{name:Sy(e,t),fields:n.value.mapValue.fields}}function pj(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?et.UNKNOWN:FR(p.code);return new ct(y,p.message||"")})(c);n=new qR(s,a,l,f||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=wg(e,s.document.name),l=Zi(s.document.updateTime),c=s.document.createTime?Zi(s.document.createTime):St.min(),f=new wn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Lf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=wg(e,s.document),l=s.readTime?Zi(s.readTime):St.min(),c=ln.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Lf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=wg(e,s.document),l=s.removedTargetIds||[];n=new Lf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new sj(a,l),f=s.targetId;n=new HR(f,c)}}return n}function gj(e,t){let n;if(t instanceof wc)n={update:yw(e,t.key,t.value)};else if(t instanceof BR)n={delete:Sy(e,t.key)};else if(t instanceof Br)n={update:yw(e,t.key,t.data),updateMask:Aj(t.fieldMask)};else{if(!(t instanceof ej))return Tt(16599,{dt:t.type});n={verify:Sy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof ld)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ud)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:dj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function yj(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Zi(a.updateTime):Zi(l);return c.isEqual(St.min())&&(c=Zi(l)),new J5(c,a.transformResults||[])})(n,t)))):[]}function vj(e,t){return{documents:[YR(e,t.path)]}}function _j(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YR(e,a);const l=(function(p){if(p.length!==0)return XR(Si.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:ko(E.field),direction:bj(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Ty(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function Ej(e){let t=mj(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Yt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=QR(_);return E instanceof Si&&wR(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(I){return new ac(Lo(I.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let E;return E=typeof _=="object"?_.value:_,Nd(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(_){const E=!!_.before,A=_.values||[];return new ad(A,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,A=_.values||[];return new ad(A,E)})(n.endAt)),L5(t,a,c,l,f,"F",m,p)}function Tj(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function QR(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return Pe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return Pe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Pe.create(Lo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Si.create(n.compositeFilter.filters.map((s=>QR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function bj(e){return uj[e]}function Sj(e){return cj[e]}function wj(e){return hj[e]}function ko(e){return{fieldPath:e.canonicalString()}}function Lo(e){return nn.fromServerFormat(e.fieldPath)}function XR(e){return e instanceof Pe?(function(n){if(n.op==="=="){if(sw(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(iw(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sw(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(iw(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:Sj(n.op),value:n.value}}})(e):e instanceof Si?(function(n){const s=n.getFilters().map((a=>XR(a)));return s.length===1?s[0]:{compositeFilter:{op:wj(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function Aj(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function WR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function JR(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n,s,a,l=St.min(),c=St.min(),f=sn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(t){this.yt=t}}function Rj(e){const t=Ej({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?od(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.Sn=new Ij}addToCollectionParentIndex(t,n){return this.Sn.add(n),st.resolve()}getCollectionParents(t,n){return st.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return st.resolve()}deleteFieldIndex(t,n){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,n){return st.resolve()}getDocumentsMatchingTarget(t,n){return st.resolve(null)}getIndexType(t,n){return st.resolve(0)}getFieldIndexes(t,n){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,n){return st.resolve(Dr.min())}getMinOffsetFromCollectionGroup(t,n){return st.resolve(Dr.min())}updateCollectionGroup(t,n,s){return st.resolve()}updateIndexEntries(t,n){return st.resolve()}}class Ij{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Fe(se.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Fe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZR=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(ZR,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new il(0)}static ar(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",Nj=1048576;function Ew([e,t],[n,s]){const a=Lt(e,n);return a===0?Lt(t,s):a}class Dj{constructor(t){this.Pr=t,this.buffer=new Fe(Ew),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ew(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vj{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ht(_w,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?ht(_w,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Ar(3e5)}))}}class Mj{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return st.resolve(Id.ce);const s=new Dj(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(vw)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vw):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(p=Date.now(),Oo()<=kt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function Oj(e,t){return new Mj(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(){this.changes=new ja((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?st.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Ku(s.mutation,a,Pn.empty(),oe.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=jt()){const a=Aa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=Vu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=Aa();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,jt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(t,n,s,a){let l=Ms();const c=Gu(),f=(function(){return Gu()})();return n.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Br)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ku(y.mutation,p,y.mutation.getFieldMask(),oe.now())):c.set(p.key,Pn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>f.set(p,new kj(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(t,n){const s=Gu();let a=new me(((c,f)=>c-f)),l=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||Pn.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||jt()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=MR();y.forEach((E=>{if(!l.has(E)){const A=UR(n.get(E),s.get(E));A!==null&&_.set(E,A),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return st.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return j5(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):CR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):st.resolve(Aa());let f=nc,m=l;return c.next((p=>st.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?st.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,jt()))).next((y=>({batchId:f,changes:VR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let a=Vu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(t,l).next((f=>st.forEach(f,(m=>{const p=(function(_,E){return new pl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let f=Vu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Ku(y.mutation,p,Pn.empty(),oe.now()),Md(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return st.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Zi(a.createTime)}})(n)),st.resolve()}getNamedQuery(t,n){return st.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:Rj(a.bundledQuery),readTime:Zi(a.readTime)}})(n)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.overlays=new me(vt.comparator),this.Lr=new Map}getOverlay(t,n){return st.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Aa();return st.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),st.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),st.resolve()}getOverlaysForCollection(t,n,s){const a=Aa(),l=n.length+1,c=new vt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return st.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new me(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Aa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Aa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return st.resolve(f)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new ij(n,s));let l=this.Lr.get(n);l===void 0&&(l=jt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.kr=new Fe(Ye.Kr),this.qr=new Fe(Ye.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Ye(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Ye(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new vt(new se([])),s=new Ye(n,t),a=new Ye(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new vt(new se([])),s=new Ye(n,t),a=new Ye(n,t+1);let l=jt();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Ye(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ye{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return vt.comparator(t.key,n.key)||Lt(t.Hr,n.Hr)}static Ur(t,n){return Lt(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Fe(Ye.Kr)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nj(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Jr=this.Jr.add(new Ye(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return st.resolve(c)}lookupMutationBatch(t,n){return st.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return st.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?R0:this.Yn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ye(n,0),a=new Ye(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const f=this.Zr(c.Hr);l.push(f)})),st.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Fe(Lt);return n.forEach((a=>{const l=new Ye(a,0),c=new Ye(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{s=s.add(f.Hr)}))})),st.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;vt.isDocumentKey(l)||(l=l.child(""));const c=new Ye(new vt(l),0);let f=new Fe(Lt);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),c),st.resolve(this.Yr(f))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Yt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return st.forEach(n.mutations,(a=>{const l=new Ye(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Ye(n,0),a=this.Jr.firstAfterOrEqual(s);return st.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(t){this.ti=t,this.docs=(function(){return new me(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return st.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let s=Ms();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),st.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Ms();const c=n.path,f=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||m5(d5(y),s)<=0||(a.has(y.key)||Md(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return st.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ni(t,n){return st.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new Hj(this)}getSize(t){return st.resolve(this.size)}}class Hj extends Pj{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),st.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t){this.persistence=t,this.ri=new ja((n=>N0(n)),D0),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new L0,this.targetCount=0,this.oi=il._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),st.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new il(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,st.resolve()}updateTargetData(t,n){return this.lr(n),st.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),st.waitFor(l).next((()=>a))}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return st.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),st.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),st.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),st.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return st.resolve(s)}containsKey(t,n){return st.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,n){this._i={},this.overlays={},this.ai=new Id(0),this.ui=!1,this.ui=!0,this.ci=new zj,this.referenceDelegate=t(this),this.li=new qj(this),this.indexManager=new Cj,this.remoteDocumentCache=(function(a){return new Fj(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new xj(n),this.Pi=new jj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Uj,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new Bj(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const a=new Gj(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return st.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class Gj extends g5{constructor(t){super(),this.currentSequenceNumber=t}}class j0{constructor(t){this.persistence=t,this.Ri=new L0,this.Ai=null}static Vi(t){return new j0(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),st.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),st.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),st.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,(s=>{const a=vt.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,St.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return st.or([()=>st.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class hd{constructor(t,n){this.persistence=t,this.fi=new ja((s=>_5(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Oj(this,n)}static Vi(t,n){return new hd(t,n)}Ti(){}Ii(t){return st.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return st.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?st.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((f=>{f||(s++,l.removeEntry(c,St.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),st.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),st.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),st.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Of(t.data.value)),n}wr(t,n,s){return st.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return st.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=jt(),a=jt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new U0(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _k()?8:y5(cn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Kj;return this.ys(t,n,c).next((f=>{if(l.result=f,this.As)return this.ws(t,n,c,f.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(Oo()<=kt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),st.resolve()):(Oo()<=kt.DEBUG&&ht("QueryEngine","Query:",Po(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Oo()<=kt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ji(n))):st.resolve())}gs(t,n){if(lw(n))return st.resolve(null);let s=Ji(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=od(n,null,"F"),s=Ji(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=jt(...l);return this.fs.getDocuments(t,c).next((f=>this.indexManager.getMinOffset(t,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,c,m.readTime)?this.gs(t,od(n,null,"F")):this.Ds(t,p,n,m)}))))})))))}ps(t,n,s,a){return lw(n)||a.isEqual(St.min())?st.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?st.resolve(null):(Oo()<=kt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(n)),this.Ds(t,c,n,f5(a,nc)).next((f=>f)))}))}bs(t,n){let s=new Fe(NR(t));return n.forEach(((a,l)=>{Md(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return Oo()<=kt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Po(n)),this.fs.getDocumentsMatchingQuery(t,n,Dr.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="LocalStore",$j=3e8;class Qj{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new me(Lt),this.Fs=new ja((l=>N0(l)),D0),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function Xj(e,t,n,s){return new Qj(e,t,n,s)}async function eC(e,t){const n=At(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=jt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function Wj(e,t){const n=At(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,E=_.keys();let A=st.resolve();return E.forEach((I=>{A=A.next((()=>y.getEntry(m,I))).next((k=>{const j=p.docVersions.get(I);Yt(j!==null,48541),k.version.compareTo(j)<0&&(_.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),y.addEntry(k)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=jt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function nC(e){const t=At(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function Jj(e,t){const n=At(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];t.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let A=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?A=A.withResumeToken(sn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(_,A),(function(k,j,O){return k.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=$j?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(E,A,y)&&f.push(n.li.updateTargetData(l,A))}));let m=Ms(),p=jt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Zj(l,c,t.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!s.isEqual(St.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(y)}return st.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function Zj(e,t,n){let s=jt(),a=jt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Ms();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ht(z0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function t9(e,t){const n=At(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=R0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function e9(e,t){const n=At(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,st.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Sr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Ay(e,t,n){const s=At(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ml(c))throw c;ht(z0,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function Tw(e,t,n){const s=At(e);let a=St.min(),l=jt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=At(m),E=_.Fs.get(y);return E!==void 0?st.resolve(_.vs.get(E)):_.li.getTargetData(p,y)})(s,c,Ji(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:St.min(),n?l:jt()))).next((f=>(n9(s,B5(t),f),{documents:f,ks:l})))))}function n9(e,t,n){let s=e.Ms.get(t)||St.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class bw{constructor(){this.activeTargetIds=Y5()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class i9{constructor(){this.vo=new bw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new bw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="ConnectivityMonitor";class ww{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ht(Sw,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ht(Sw,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=null;function xy(){return yf===null?yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():yf++,"0x"+yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="RestConnection",r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class a9{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===sd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=xy(),f=this.Qo(t,n.toUriEncodedString());ht(Ag,`Sending RPC '${t}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),y=ul(p);return this.zo(t,f,m,s,y).then((_=>(ht(Ag,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Zo(Ag,`RPC '${t}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=r9[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection",xu=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class $o extends a9{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!$o.c_){const t=aR();xu(t,rR.STAT_EVENT,(n=>{n.stat===my.PROXY?ht(an,"STAT_EVENT: detected buffering proxy"):n.stat===my.NOPROXY&&ht(an,"STAT_EVENT: detected no buffering proxy")})),$o.c_=!0}}zo(t,n,s,a,l){const c=xy();return new Promise(((f,m)=>{const p=new iR;p.setWithCredentials(!0),p.listenOnce(sR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const _=p.getResponseJson();ht(an,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),f(_);break;case Mf.TIMEOUT:ht(an,`RPC '${t}' ${c} timed out`),m(new ct(et.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const E=p.getStatus();if(ht(an,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const k=(function(O){const q=O.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(q)>=0?q:et.UNKNOWN})(I.status);m(new ct(k,I.message))}else m(new ct(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ht(an,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);ht(an,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=xy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");ht(an,`Creating RPC '${t}' stream ${a}: ${p}`,f);const y=c.createWebChannel(p,f);this.I_(y);let _=!1,E=!1;const A=new o9({Ho:I=>{E?ht(an,`Not sending because RPC '${t}' stream ${a} is closed:`,I):(_||(ht(an,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),ht(an,`RPC '${t}' stream ${a} sending:`,I),y.send(I))},Jo:()=>y.close()});return xu(y,Du.EventType.OPEN,(()=>{E||(ht(an,`RPC '${t}' stream ${a} transport opened.`),A.i_())})),xu(y,Du.EventType.CLOSE,(()=>{E||(E=!0,ht(an,`RPC '${t}' stream ${a} transport closed`),A.o_(),this.E_(y))})),xu(y,Du.EventType.ERROR,(I=>{E||(E=!0,Zo(an,`RPC '${t}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),A.o_(new ct(et.UNAVAILABLE,"The operation could not be completed")))})),xu(y,Du.EventType.MESSAGE,(I=>{var k;if(!E){const j=I.data[0];Yt(!!j,16349);const O=j,q=(O==null?void 0:O.error)||((k=O[0])==null?void 0:k.error);if(q){ht(an,`RPC '${t}' stream ${a} received error:`,q);const B=q.status;let tt=(function(N){const R=Me[N];if(R!==void 0)return FR(R)})(B),at=q.message;tt===void 0&&(tt=et.INTERNAL,at="Unknown error status: "+B+" with message "+q.message),E=!0,A.o_(new ct(tt,at)),y.close()}else ht(an,`RPC '${t}' stream ${a} received:`,j),A.__(j)}})),$o.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return oR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(e){return new $o(e)}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(e){return new fj(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$o.c_=!1;class iC{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="PersistentStream";class sC{constructor(t,n,s,a,l,c,f,m){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iC(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ct(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(Aw,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ht(Aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u9 extends sC{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=pj(this.serializer,t),s=(function(l){if(!("targetChange"in l))return St.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Zi(c.readTime):St.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=wy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=_y(m)?{documents:vj(l,m)}:{query:_j(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=GR(l,c.resumeToken);const p=Ty(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(St.min())>0){f.readTime=cd(l,c.snapshotVersion.toTimestamp());const p=Ty(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const s=Tj(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=wy(this.serializer),n.removeTarget=t,this.K_(n)}}class c9 extends sC{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=yj(t.writeResults,t.commitTime),s=Zi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=wy(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>gj(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{}class f9 extends h9{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,by(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(et.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(t,by(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function d9(e,t,n,s){return new f9(e,t,n,s)}class m9{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class p9{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Ua(this)&&(ht(Ma,"Restarting streams for network reachability change."),await(async function(m){const p=At(m);p.Ea.add(4),await xc(p),p.Va.set("Unknown"),p.Ea.delete(4),await jd(p)})(this))}))})),this.Va=new m9(s,a)}}async function jd(e){if(Ua(e))for(const t of e.Ra)await t(!0)}async function xc(e){for(const t of e.Ra)await t(!1)}function rC(e,t){const n=At(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),q0(n)?H0(n):gl(n).O_()&&F0(n,t))}function B0(e,t){const n=At(e),s=gl(n);n.Ia.delete(t),s.O_()&&aC(n,t),n.Ia.size===0&&(s.O_()?s.L_():Ua(n)&&n.Va.set("Unknown"))}function F0(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gl(e).Z_(t)}function aC(e,t){e.da.$e(t),gl(e).X_(t)}function H0(e){e.da=new lj({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),gl(e).start(),e.Va.ua()}function q0(e){return Ua(e)&&!gl(e).x_()&&e.Ia.size>0}function Ua(e){return At(e).Ea.size===0}function oC(e){e.da=void 0}async function g9(e){e.Va.set("Online")}async function y9(e){e.Ia.forEach(((t,n)=>{F0(e,t)}))}async function v9(e,t){oC(e),q0(e)?(e.Va.ha(t),H0(e)):e.Va.set("Unknown")}async function _9(e,t,n){if(e.Va.set("Online"),t instanceof qR&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.da.removeTarget(f))})(e,t)}catch(s){ht(Ma,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fd(e,s)}else if(t instanceof Lf?e.da.Xe(t):t instanceof HR?e.da.st(t):e.da.tt(t),!n.isEqual(St.min()))try{const s=await nC(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),aC(l,m);const _=new Sr(y.target,m,p,y.sequenceNumber);F0(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(e,n)}catch(s){ht(Ma,"Failed to raise snapshot:",s),await fd(e,s)}}async function fd(e,t,n){if(!ml(t))throw t;e.Ea.add(1),await xc(e),e.Va.set("Offline"),n||(n=()=>nC(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ht(Ma,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await jd(e)}))}function lC(e,t){return t().catch((n=>fd(e,n,t)))}async function Ud(e){const t=At(e),n=Pr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:R0;for(;E9(t);)try{const a=await t9(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,T9(t,a)}catch(a){await fd(t,a)}uC(t)&&cC(t)}function E9(e){return Ua(e)&&e.Ta.length<10}function T9(e,t){e.Ta.push(t);const n=Pr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function uC(e){return Ua(e)&&!Pr(e).x_()&&e.Ta.length>0}function cC(e){Pr(e).start()}async function b9(e){Pr(e).ra()}async function S9(e){const t=Pr(e);for(const n of e.Ta)t.ea(n.mutations)}async function w9(e,t,n){const s=e.Ta.shift(),a=O0.from(s,t,n);await lC(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Ud(e)}async function A9(e,t){t&&Pr(e).Y_&&await(async function(s,a){if((function(c){return rj(c)&&c!==et.ABORTED})(a.code)){const l=s.Ta.shift();Pr(s).B_(),await lC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ud(s)}})(e,t),uC(e)&&cC(e)}async function xw(e,t){const n=At(e);n.asyncQueue.verifyOperationInProgress(),ht(Ma,"RemoteStore received new credentials");const s=Ua(n);n.Ea.add(3),await xc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await jd(n)}async function x9(e,t){const n=At(e);t?(n.Ea.delete(2),await jd(n)):t||(n.Ea.add(2),await xc(n),n.Va.set("Unknown"))}function gl(e){return e.ma||(e.ma=(function(n,s,a){const l=At(n);return l.sa(),new u9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:g9.bind(null,e),Yo:y9.bind(null,e),t_:v9.bind(null,e),J_:_9.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),q0(e)?H0(e):e.Va.set("Unknown")):(await e.ma.stop(),oC(e))}))),e.ma}function Pr(e){return e.fa||(e.fa=(function(n,s,a){const l=At(n);return l.sa(),new c9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:b9.bind(null,e),t_:A9.bind(null,e),ta:S9.bind(null,e),na:w9.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await Ud(e)):(await e.fa.stop(),e.Ta.length>0&&(ht(Ma,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,f=new G0(t,n,c,a,l);return f.start(s),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K0(e,t){if(Vs("AsyncQueue",`${t}: ${e}`),ml(e))return new ct(et.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(t){return new Qo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=Vu(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.ga=new me(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class sl{constructor(t,n,s,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new sl(t,n,Qo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class C9{constructor(){this.queries=Cw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=At(n),l=a.queries;a.queries=Cw(),l.forEach(((c,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new ct(et.ABORTED,"Firestore shutting down"))}}function Cw(){return new ja((e=>IR(e)),Vd)}async function hC(e,t){const n=At(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new R9,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=K0(c,`Initialization of query '${Po(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Y0(n)}async function fC(e,t){const n=At(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function I9(e,t){const n=At(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ba)f.Fa(a)&&(s=!0);c.wa=a}}s&&Y0(n)}function N9(e,t,n){const s=At(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function Y0(e){e.Ca.forEach((t=>{t.next()}))}var Ry,Iw;(Iw=Ry||(Ry={})).Ma="default",Iw.Cache="cache";class dC{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new sl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.key=t}}class pC{constructor(t){this.key=t}}class D9{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=jt(),this.mutatedKeys=jt(),this.eu=NR(t),this.tu=new Qo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new Rw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const E=a.get(y),A=Md(this.query,_)?_:null,I=!!E&&this.mutatedKeys.has(E.key),k=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let j=!1;E&&A?E.data.isEqual(A.data)?I!==k&&(s.track({type:3,doc:A}),j=!0):this.su(E,A)||(s.track({type:2,doc:A}),j=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(f=!0)):!E&&A?(s.track({type:0,doc:A}),j=!0):E&&!A&&(s.track({type:1,doc:E}),j=!0,(m||p)&&(f=!0)),j&&(A?(c=c.add(A),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:f,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(A,I){const k=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:j})}};return k(A)-k(I)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new sl(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new pC(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new mC(s))})),n}cu(t){this.Za=t.ks,this.Ya=jt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $0="SyncEngine";class V9{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class M9{constructor(t){this.key=t,this.hu=!1}}class O9{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ja((f=>IR(f)),Vd),this.Iu=new Map,this.Eu=new Set,this.Ru=new me(vt.comparator),this.Au=new Map,this.Vu=new L0,this.du={},this.mu=new Map,this.fu=il.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P9(e,t,n=!0){const s=TC(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await gC(s,t,n,!0),a}async function k9(e,t){const n=TC(e);await gC(n,t,!0,!1)}async function gC(e,t,n,s){const a=await e9(e.localStore,Ji(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await L9(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&rC(e.remoteStore,a),f}async function L9(e,t,n,s,a){e.pu=(_,E,A)=>(async function(k,j,O,q){let B=j.view.ru(O);B.Ss&&(B=await Tw(k.localStore,j.query,!1).then((({documents:N})=>j.view.ru(N,B))));const tt=q&&q.targetChanges.get(j.targetId),at=q&&q.targetMismatches.get(j.targetId)!=null,ut=j.view.applyChanges(B,k.isPrimaryClient,tt,at);return Dw(k,j.targetId,ut.au),ut.snapshot})(e,_,E,A);const l=await Tw(e.localStore,t,!0),c=new D9(t,l.ks),f=c.ru(l.documents),m=Ac.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Dw(e,n,p.au);const y=new V9(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function j9(e,t,n){const s=At(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ay(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&B0(s.remoteStore,a.targetId),Cy(s,a.targetId)})).catch(dl)):(Cy(s,a.targetId),await Ay(s.localStore,a.targetId,!0))}async function U9(e,t){const n=At(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),B0(n.remoteStore,s.targetId))}async function z9(e,t,n){const s=Y9(e);try{const a=await(function(c,f){const m=At(c),p=oe.now(),y=f.reduce(((A,I)=>A.add(I.key)),jt());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Ms(),k=jt();return m.xs.getEntries(A,y).next((j=>{I=j,I.forEach(((O,q)=>{q.isValidDocument()||(k=k.add(O))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,I))).next((j=>{_=j;const O=[];for(const q of f){const B=tj(q,_.get(q.key).overlayedDocument);B!=null&&O.push(new Br(q.key,B,TR(B.value.mapValue),yi.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,O,f)})).next((j=>{E=j;const O=j.applyToLocalDocumentSet(_,k);return m.documentOverlayCache.saveOverlays(A,j.batchId,O)}))})).then((()=>({batchId:E.batchId,changes:VR(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.du[c.currentUser.toKey()];p||(p=new me(Lt)),p=p.insert(f,m),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await Rc(s,a.changes),await Ud(s.remoteStore)}catch(a){const l=K0(a,"Failed to persist write");n.reject(l)}}async function yC(e,t){const n=At(e);try{const s=await Jj(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Yt(c.hu,14607):a.removedDocuments.size>0&&(Yt(c.hu,42227),c.hu=!1))})),await Rc(n,s,t)}catch(s){await dl(s)}}function Nw(e,t,n){const s=At(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=At(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const E of _.ba)E.va(f)&&(p=!0)})),p&&Y0(m)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function B9(e,t,n){const s=At(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new me(vt.comparator);c=c.insert(l,ln.newNoDocument(l,St.min()));const f=jt().add(l),m=new kd(St.min(),new Map,new me(Lt),c,f);await yC(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(t),Q0(s)}else await Ay(s.localStore,t,!1).then((()=>Cy(s,t,n))).catch(dl)}async function F9(e,t){const n=At(e),s=t.batch.batchId;try{const a=await Wj(n.localStore,t);_C(n,s,null),vC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Rc(n,a)}catch(a){await dl(a)}}async function H9(e,t,n){const s=At(e);try{const a=await(function(c,f){const m=At(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(Yt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,t);_C(s,t,n),vC(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Rc(s,a)}catch(a){await dl(a)}}function vC(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function _C(e,t,n){const s=At(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function Cy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||EC(e,s)}))}function EC(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(B0(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Q0(e))}function Dw(e,t,n){for(const s of n)s instanceof mC?(e.Vu.addReference(s.key,t),q9(e,s)):s instanceof pC?(ht($0,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||EC(e,s.key)):Tt(19791,{wu:s})}function q9(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(ht($0,"New document in limbo: "+n),e.Eu.add(s),Q0(e))}function Q0(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(se.fromString(t)),s=e.fu.next();e.Au.set(s,new M9(n)),e.Ru=e.Ru.insert(n,s),rC(e.remoteStore,new Sr(Ji(V0(n.path)),s,"TargetPurposeLimboResolution",Id.ce))}}async function Rc(e,t,n){const s=At(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,t,n).then((p=>{var y;if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=U0.Es(m.targetId,p);l.push(_)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,p){const y=At(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>st.forEach(p,(E=>st.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A))).next((()=>st.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))))))}catch(_){if(!ml(_))throw _;ht(z0,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=y.vs.get(E),I=A.snapshotVersion,k=A.withLastLimboFreeSnapshotVersion(I);y.vs=y.vs.insert(E,k)}}})(s.localStore,l))}async function G9(e,t){const n=At(e);if(!n.currentUser.isEqual(t)){ht($0,"User change. New user:",t.toKey());const s=await eC(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ct(et.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Rc(n,s.Ns)}}function K9(e,t){const n=At(e),s=n.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let a=jt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function TC(e){const t=At(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=K9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B9.bind(null,t),t.Pu.J_=I9.bind(null,t.eventManager),t.Pu.yu=N9.bind(null,t.eventManager),t}function Y9(e){const t=At(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=F9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=H9.bind(null,t),t}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ld(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Xj(this.persistence,new Yj,t.initialUser,this.serializer)}Cu(t){return new tC(j0.Vi,this.serializer)}Du(t){return new i9}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class $9 extends dd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Yt(this.persistence.referenceDelegate instanceof hd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Vj(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new tC((s=>hd.Vi(s,n)),this.serializer)}}class Iy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=G9.bind(null,this.syncEngine),await x9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new C9})()}createDatastore(t){const n=Ld(t.databaseInfo.databaseId),s=l9(t.databaseInfo);return d9(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,f){return new p9(s,a,l,c,f)})(this.localStore,this.datastore,t.asyncQueue,(n=>Nw(this.syncEngine,n,0)),(function(){return ww.v()?new ww:new s9})())}createSyncEngine(t,n){return(function(a,l,c,f,m,p,y){const _=new O9(a,l,c,f,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(a){const l=At(a);ht(Ma,"RemoteStore shutting down."),l.Ea.add(5),await xc(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Iy.provider={build:()=>new Iy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class Q9{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=x0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ht(kr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ht(kr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=K0(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Rg(e,t){e.asyncQueue.verifyOperationInProgress(),ht(kr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await eC(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Vw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await X9(e);ht(kr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>xw(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>xw(t.remoteStore,a))),e._onlineComponents=t}async function X9(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(kr,"Using user provided OfflineComponentProvider");try{await Rg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===et.FAILED_PRECONDITION||a.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await Rg(e,new dd)}}else ht(kr,"Using default OfflineComponentProvider"),await Rg(e,new $9(void 0));return e._offlineComponents}async function SC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(kr,"Using user provided OnlineComponentProvider"),await Vw(e,e._uninitializedComponentsProvider._online)):(ht(kr,"Using default OnlineComponentProvider"),await Vw(e,new Iy))),e._onlineComponents}function W9(e){return SC(e).then((t=>t.syncEngine))}async function wC(e){const t=await SC(e),n=t.eventManager;return n.onListen=P9.bind(null,t.syncEngine),n.onUnlisten=j9.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=k9.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=U9.bind(null,t.syncEngine),n}function J9(e,t,n={}){const s=new Rs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new bC({next:E=>{y.Nu(),c.enqueueAndForget((()=>fC(l,_)));const A=E.docs.has(f);!A&&E.fromCache?p.reject(new ct(et.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&m&&m.source==="server"?p.reject(new ct(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new dC(V0(f.path),y,{includeMetadataChanges:!0,Ka:!0});return hC(l,_)})(await wC(e),e.asyncQueue,t,n,s))),s.promise}function Z9(e,t,n={}){const s=new Rs;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new bC({next:E=>{y.Nu(),c.enqueueAndForget((()=>fC(l,_))),E.fromCache&&m.source==="server"?p.reject(new ct(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new dC(f,y,{includeMetadataChanges:!0,Ka:!0});return hC(l,_)})(await wC(e),e.asyncQueue,t,n,s))),s.promise}function tU(e,t){const n=new Rs;return e.asyncQueue.enqueueAndForget((async()=>z9(await W9(e),t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="ComponentProvider",Mw=new Map;function nU(e,t,n,s,a){return new b5(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,AC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firestore.googleapis.com",Ow=!0;class Pw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xC,this.ssl=Ow}else this.host=t.host,this.ssl=t.ssl??Ow;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Nj)throw new ct(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}h5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AC(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(et.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zd{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new e5;switch(s.type){case"firstParty":return new r5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Mw.get(n);s&&(ht(eU,"Removing Datastore"),Mw.delete(n),s.terminate())})(this),Promise.resolve()}}function iU(e,t,n,s={}){var p;e=es(e,zd);const a=ul(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},f=`${t}:${n}`;a&&(mx(`https://${f}`),px("Firestore",!0)),l.host!==xC&&l.host!==f&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ca(m,c)&&(e._setSettings(m),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=on.MOCK_USER;else{y=ck(s.mockUserToken,(p=e._app)==null?void 0:p.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ct(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new on(E)}e._authCredentials=new n5(new uR(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Fr(this.firestore,t,this._query)}}class Se{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Sc(n,Se._jsonSchema))return new Se(t,s||null,new vt(se.fromString(n.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:ke("string",Se._jsonSchemaVersion),referencePath:ke("string")};class Cr extends Fr{constructor(t,n,s){super(t,n,V0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new vt(t))}withConverter(t){return new Cr(this.firestore,t,this._path)}}function Vo(e,t,...n){if(e=$e(e),cR("collection","path",t),e instanceof zd){const s=se.fromString(t,...n);return $S(s),new Cr(e,null,s)}{if(!(e instanceof Se||e instanceof Cr))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(se.fromString(t,...n));return $S(s),new Cr(e.firestore,null,s)}}function Ou(e,t,...n){if(e=$e(e),arguments.length===1&&(t=x0.newId()),cR("doc","path",t),e instanceof zd){const s=se.fromString(t,...n);return YS(s),new Se(e,null,new vt(s))}{if(!(e instanceof Se||e instanceof Cr))throw new ct(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(se.fromString(t,...n));return YS(s),new Se(e.firestore,e instanceof Cr?e.converter:null,new vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="AsyncQueue";class Lw{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iC(this,"async_queue_retry"),this._c=()=>{const s=xg();s&&ht(kw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ml(t))throw t;ht(kw,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",jw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=G0.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:jw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function jw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class yl extends zd{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new Lw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lw(t),this._firestoreClient=void 0,await t}}}function sU(e,t){const n=typeof e=="object"?e:_x(),s=typeof e=="string"?e:sd,a=g0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=lk("firestore");l&&iU(a,...l)}return a}function X0(e){if(e._terminated)throw new ct(et.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||rU(e),e._firestoreClient}function rU(e){var s,a,l,c;const t=e._freezeSettings(),n=nU(e._databaseId,((s=e._app)==null?void 0:s.options.appId)||"",e._persistenceKey,(a=e._app)==null?void 0:a.options.apiKey,t);e._componentsProvider||(l=t.localCache)!=null&&l._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Q9(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(sn.fromBase64String(t))}catch(n){throw new ct(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Wn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sc(t,Wn._jsonSchema))return Wn.fromBase64String(t.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:ke("string",Wn._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(t){if(Sc(t,ts._jsonSchema))return new ts(t.latitude,t.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:ke("string",ts._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sc(t,vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new vi(t.vectorValues);throw new ct(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:ke("string",vi._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=/^__.*__$/;class oU{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Br(t,this.data,this.fieldMask,n,this.fieldTransforms):new wc(t,this.data,n,this.fieldTransforms)}}class RC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Br(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function CC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:e})}}class Z0{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Z0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var a;const n=(a=this.path)==null?void 0:a.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){var a;const n=(a=this.path)==null?void 0:a.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return md(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(CC(this.dataSource)&&aU.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class lU{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ld(t)}createContext(t,n,s,a=!1){return new Z0({dataSource:t,methodName:n,targetDoc:s,path:nn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bd(e){const t=e._freezeSettings(),n=Ld(e._databaseId);return new lU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function IC(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);tv("Data must be an object, but it was:",c,s);const f=NC(s,c);let m,p;if(l.merge)m=new Pn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=Oa(t,_,n);if(!c.contains(E))throw new ct(et.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);MC(y,E)||y.push(E)}m=new Pn(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new oU(new wn(f),m,p)}class Fd extends J0{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fd}}function uU(e,t,n,s){const a=e.createContext(1,t,n);tv("Data must be an object, but it was:",a,s);const l=[],c=wn.empty();zr(s,((m,p)=>{const y=VC(t,m,n);p=$e(p);const _=a.childContextForFieldPath(y);if(p instanceof Fd)l.push(y);else{const E=Cc(p,_);E!=null&&(l.push(y),c.set(y,E))}}));const f=new Pn(l);return new RC(c,f,a.fieldTransforms)}function cU(e,t,n,s,a,l){const c=e.createContext(1,t,n),f=[Oa(t,s,n)],m=[a];if(l.length%2!=0)throw new ct(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Oa(t,l[E])),m.push(l[E+1]);const p=[],y=wn.empty();for(let E=f.length-1;E>=0;--E)if(!MC(p,f[E])){const A=f[E];let I=m[E];I=$e(I);const k=c.childContextForFieldPath(A);if(I instanceof Fd)p.push(A);else{const j=Cc(I,k);j!=null&&(p.push(A),y.set(A,j))}}const _=new Pn(p);return new RC(y,_,c.fieldTransforms)}function hU(e,t,n,s=!1){return Cc(n,e.createContext(s?4:3,t))}function Cc(e,t){if(DC(e=$e(e)))return tv("Unsupported field value:",t,e),NC(e,t);if(e instanceof J0)return(function(s,a){if(!CC(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Cc(f,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=$e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=oe.fromDate(s);return{timestampValue:cd(a.serializer,l)}}if(s instanceof oe){const l=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cd(a.serializer,l)}}if(s instanceof ts)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:GR(a.serializer,s._byteString)};if(s instanceof Se){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:k0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vi)return(function(c,f){const m=c instanceof vi?c.toArray():c;return{mapValue:{fields:{[_R]:{stringValue:ER},[rd]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return M0(f.serializer,y)}))}}}}}})(s,a);if(JR(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Cd(s)}`)})(e,t)}function NC(e,t){const n={};return dR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(e,((s,a)=>{const l=Cc(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function DC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof oe||e instanceof ts||e instanceof Wn||e instanceof Se||e instanceof J0||e instanceof vi||JR(e))}function tv(e,t,n){if(!DC(n)||!hR(n)){const s=Cd(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function Oa(e,t,n){if((t=$e(t))instanceof W0)return t._internalPath;if(typeof t=="string")return VC(e,t);throw md("Field path arguments must be of type string or ",e,!1,void 0,n)}const fU=new RegExp("[~\\*/\\[\\]]");function VC(e,t,n){if(t.search(fU)>=0)throw md(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new W0(...t.split("."))._internalPath}catch{throw md(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function md(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ct(et.INVALID_ARGUMENT,f+e+m)}function MC(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{convertValue(t,n="none"){switch(Or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return zr(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){var s,a,l;const n=(l=(a=(s=t.fields)==null?void 0:s[rd].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>be(c.doubleValue)));return new vi(n)}convertGeoPoint(t){return new ts(be(t.latitude),be(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Dd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ic(t));default:return null}}convertTimestamp(t){const n=Vr(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);Yt(WR(s),9688,{name:t});const a=new sc(s.get(1),s.get(3)),l=new vt(s.popFirst(5));return a.isEqual(n)||Vs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC extends dU{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,n)}}const Uw="@firebase/firestore",zw="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Oa("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mU extends PC{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class nv extends ev{}function Cg(e,t,...n){let s=[];t instanceof ev&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof iv)).length,f=l.filter((m=>m instanceof Hd)).length;if(c>1||c>0&&f>0)throw new ct(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class Hd extends nv{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Hd(t,n,s)}_apply(t){const n=this._parse(t);return kC(t._query,n),new Fr(t.firestore,t.converter,Ey(t._query,n))}_parse(t){const n=Bd(t.firestore);return(function(l,c,f,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Hw(_,y);const I=[];for(const k of _)I.push(Fw(m,l,k));E={arrayValue:{values:I}}}else E=Fw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Hw(_,y),E=hU(f,c,_,y==="in"||y==="not-in");return Pe.create(p,y,E)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function gU(e,t,n){const s=t,a=Oa("where",e);return Hd._create(a,s,n)}class iv extends ev{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new iv(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)kC(c,m),c=Ey(c,m)})(t._query,n),new Fr(t.firestore,t.converter,Ey(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sv extends nv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new sv(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ac(l,c)})(t._query,this._field,this._direction);return new Fr(t.firestore,t.converter,z5(t._query,n))}}function Bw(e,t="asc"){const n=t,s=Oa("orderBy",e);return sv._create(s,n)}class rv extends nv{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new rv(t,n,s)}_apply(t){return new Fr(t.firestore,t.converter,od(t._query,this._limit,this._limitType))}}function yU(e){return rv._create("limit",e,"F")}function Fw(e,t,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new ct(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CR(t)&&n.indexOf("/")!==-1)throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(se.fromString(n));if(!vt.isDocumentKey(s))throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nw(e,new vt(s))}if(n instanceof Se)return nw(e,n._key);throw new ct(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(n)}.`)}function Hw(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kC(e,t){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function LC(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class Pu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ra extends PC{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Oa("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:ke("string",Ra._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class jf extends Ra{data(t={}){return super.data(t)}}class Xo{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Pu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new jf(this._firestore,this._userDataWriter,s.key,s,new Pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new jf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new jf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:vU(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=x0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:ke("string",Xo._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(e){e=es(e,Se);const t=es(e.firestore,yl),n=X0(t);return J9(n,e._key).then((s=>TU(t,e,s)))}function vf(e){e=es(e,Fr);const t=es(e.firestore,yl),n=X0(t),s=new OC(t);return pU(e._query),Z9(n,e._query).then((a=>new Xo(t,s,e,a)))}function _U(e,t,n){e=es(e,Se);const s=es(e.firestore,yl),a=LC(e.converter,t),l=Bd(s);return av(s,[IC(l,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,yi.none())])}function EU(e,t,n,...s){e=es(e,Se);const a=es(e.firestore,yl),l=Bd(a);let c;return c=typeof(t=$e(t))=="string"||t instanceof W0?cU(l,"updateDoc",e._key,t,n,s):uU(l,"updateDoc",e._key,t),av(a,[c.toMutation(e._key,yi.exists(!0))])}function Gw(e,t){const n=es(e.firestore,yl),s=Ou(e),a=LC(e.converter,t),l=Bd(e.firestore);return av(n,[IC(l,"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,yi.exists(!1))]).then((()=>s))}function av(e,t){const n=X0(e);return tU(n,t)}function TU(e,t,n){const s=n.docs.get(t._key),a=new OC(e);return new Ra(e,a,t._key,s,new Pu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){t5(cl),Jo(new Ia("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new yl(new i5(s.getProvider("auth-internal")),new a5(c,s.getProvider("app-check-internal")),S5(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),xr(Uw,zw,t),xr(Uw,zw,"esm2020")})();const bU={apiKey:"YOUR_API_KEY",authDomain:"YOUR_PROJECT_ID.firebaseapp.com",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_PROJECT_ID.appspot.com",messagingSenderId:"YOUR_SENDER_ID",appId:"YOUR_APP_ID"},jC=vx(bU),Uf=J3(jC),Yi=sU(jC),Ig=e=>{const t=e.data();return{id:e.id,email:t.email,name:t.name,isAdmin:t.isAdmin||!1,phone:t.phone}},_i={logVisitor:async()=>{try{const n=(await(await fetch("https://api.ipify.org?format=json")).json()).ip;await Gw(Vo(Yi,"visitors"),{ip:n,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})}catch(e){console.error("Failed to log visitor",e)}},getRecentVisitors:async()=>{try{const e=Cg(Vo(Yi,"visitors"),Bw("timestamp","desc"),yU(50)),t=await vf(e),n=[];return t.forEach(s=>{const a=s.data();n.push({id:s.id,ip:a.ip,userAgent:a.userAgent,timestamp:a.timestamp})}),n}catch(e){return console.error("Failed to get visitors",e),[]}},register:async(e,t,n)=>{const a=(await k6(Uf,e,t)).user,l={id:a.uid,email:a.email||e,name:n,isAdmin:!1};return await _U(Ou(Yi,"users",a.uid),l),l},login:async(e,t)=>{const n=await L6(Uf,e,t),s=Ou(Yi,"users",n.user.uid),a=await qw(s);return a.exists()?Ig(a):{id:n.user.uid,email:n.user.email||"",name:"User"}},socialLogin:async e=>{if(e==="telegram"){const t="tg_"+Date.now();return{id:t,email:`tg_user_${t.slice(-4)}@telegram.mock`,name:"Telegram User",isAdmin:!1}}throw new Error("Unknown provider")},logout:async()=>{await B6(Uf)},getUserProfile:async e=>{const t=await qw(Ou(Yi,"users",e));return t.exists()?Ig(t):null},createOrder:async(e,t)=>{const n={userId:e,date:new Date().toISOString(),status:"pending",items:" ",details:t};return{id:(await Gw(Vo(Yi,"orders"),n)).id,...n}},getUserOrders:async e=>{const t=Cg(Vo(Yi,"orders"),gU("userId","==",e)),n=await vf(t),s=[];return n.forEach(a=>{s.push({id:a.id,...a.data()})}),s.sort((a,l)=>new Date(l.date).getTime()-new Date(a.date).getTime())},getAllUsers:async()=>{const e=await vf(Vo(Yi,"users")),t=[];return e.forEach(n=>{t.push(Ig(n))}),t},getAllOrders:async()=>{const e=Cg(Vo(Yi,"orders"),Bw("date","desc")),t=await vf(e),n=[];return t.forEach(s=>{n.push({id:s.id,...s.data()})}),n},updateOrderStatus:async(e,t)=>{const n=Ou(Yi,"orders",e);await EU(n,{status:t})}},UC=V.createContext(void 0),SU=({children:e})=>{const[t,n]=V.useState(null),[s,a]=V.useState(!0);V.useEffect(()=>{const f=z6(Uf,async m=>{if(m)try{const p=await _i.getUserProfile(m.uid);n(p||{id:m.uid,email:m.email||"",name:m.displayName||"User"})}catch(p){console.error("Error fetching user profile",p)}else n(null);a(!1)});return()=>f()},[]);const l=f=>{n(f)},c=async()=>{await _i.logout(),n(null)};return S.jsx(UC.Provider,{value:{user:t,login:l,logout:c,isLoading:s},children:e})},qd=()=>{const e=V.useContext(UC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},wU=({isOpen:e,onClose:t,initialMode:n="login"})=>{const[s,a]=V.useState(n),[l,c]=V.useState(!1),[f,m]=V.useState(""),{login:p}=qd(),[y,_]=V.useState({email:"",password:"",name:""});if(!e)return null;const E=async I=>{I.preventDefault(),c(!0),m("");try{if(s==="register"){const k=await _i.register(y.email,y.password,y.name);p(k)}else{const k=await _i.login(y.email,y.password);p(k)}t()}catch(k){m(k.message||" ")}finally{c(!1)}},A=async()=>{c(!0),m("");try{const I=await _i.socialLogin("telegram");p(I),t()}catch{m("   Telegram")}finally{c(!1)}};return S.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[S.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-stone-950/80 backdrop-blur-sm"}),S.jsxs(ie.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative w-full max-w-md bg-stone-900 border border-amber-900/30 shadow-2xl overflow-hidden",children:[S.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-stone-500 hover:text-amber-500 transition-colors z-10",children:S.jsx(ax,{size:20})}),S.jsxs("div",{className:"p-8 md:p-10 max-h-[90vh] overflow-y-auto",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("h2",{className:"font-serif text-3xl text-amber-500 mb-2",children:s==="login"?"":""}),S.jsx("p",{className:"text-stone-500 text-sm font-light",children:s==="login"?"  ":"   Element"})]}),S.jsx("div",{className:"space-y-3 mb-6",children:S.jsxs("button",{onClick:A,disabled:l,className:"w-full py-3 bg-[#24A1DE] hover:bg-[#208bbf] text-white border border-transparent transition-all flex items-center justify-center gap-3 rounded-sm disabled:opacity-50",children:[S.jsx($4,{className:"w-5 h-5 fill-current"}),S.jsx("span",{className:"text-sm font-medium",children:"  Telegram"})]})}),S.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[S.jsx("div",{className:"border-t border-stone-800 w-full absolute"}),S.jsx("span",{className:"bg-stone-900 px-4 text-xs text-stone-500 uppercase z-10",children:" email"})]}),S.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s==="register"&&S.jsx("div",{className:"relative group",children:S.jsx("input",{type:"text",required:!0,value:y.name,onChange:I=>_({...y,name:I.target.value}),placeholder:"",className:"w-full bg-stone-950 border border-stone-800 p-4 text-stone-200 focus:outline-none focus:border-amber-600 transition-colors"})}),S.jsx("div",{className:"relative group",children:S.jsx("input",{type:"email",required:!0,value:y.email,onChange:I=>_({...y,email:I.target.value}),placeholder:"Email",className:"w-full bg-stone-950 border border-stone-800 p-4 text-stone-200 focus:outline-none focus:border-amber-600 transition-colors"})}),S.jsx("div",{className:"relative group",children:S.jsx("input",{type:"password",required:!0,value:y.password,onChange:I=>_({...y,password:I.target.value}),placeholder:"",className:"w-full bg-stone-950 border border-stone-800 p-4 text-stone-200 focus:outline-none focus:border-amber-600 transition-colors"})}),f&&S.jsx("p",{className:"text-red-500 text-xs text-center",children:f}),S.jsx("button",{type:"submit",disabled:l,className:"w-full py-4 bg-amber-800 hover:bg-amber-700 text-stone-100 uppercase tracking-widest text-xs transition-all flex justify-center items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?S.jsx(ix,{className:"animate-spin"}):s==="login"?"":" "})]}),S.jsx("div",{className:"mt-8 text-center",children:S.jsx("button",{onClick:()=>{a(s==="login"?"register":"login"),m("")},className:"text-stone-500 hover:text-amber-500 text-xs uppercase tracking-wider transition-colors",children:s==="login"?" ? ":"  ? "})})]})]})]})},AU=({message:e,type:t,isVisible:n,onClose:s})=>(V.useEffect(()=>{if(n){const a=setTimeout(s,5e3);return()=>clearTimeout(a)}},[n,s]),S.jsx(pc,{children:n&&S.jsx(ie.div,{initial:{opacity:0,y:50,x:20},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:20},className:"fixed bottom-6 right-6 z-[80] max-w-sm w-full",children:S.jsxs("div",{className:`flex items-center gap-4 p-4 border shadow-2xl backdrop-blur-md ${t==="success"?"bg-stone-900/90 border-green-900/50 text-stone-200":"bg-stone-900/90 border-red-900/50 text-stone-200"}`,children:[t==="success"?S.jsx(iy,{className:"text-green-500 w-5 h-5"}):S.jsx(I4,{className:"text-red-500 w-5 h-5"}),S.jsx("p",{className:"text-sm font-light flex-1",children:e}),S.jsx("button",{onClick:s,className:"text-stone-500 hover:text-stone-300",children:S.jsx(ax,{size:16})})]})})})),Mo=({children:e,delay:t=0})=>S.jsx(ie.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.8,delay:t,ease:"easeOut"},className:"relative z-10",children:e}),Kw=({label:e,value:t,onChange:n,type:s="text",id:a})=>{const[l,c]=V.useState(!1),f=t&&t.length>0,m=l||f;return S.jsxs("div",{className:"relative pt-6 pb-2 border-b border-stone-700 transition-colors focus-within:border-amber-500",children:[S.jsx("input",{id:a,type:s,value:t,onChange:n,onFocus:()=>c(!0),onBlur:()=>c(!1),className:"w-full bg-transparent text-stone-200 text-xl focus:outline-none placeholder-transparent z-10 relative",placeholder:e}),S.jsx("label",{htmlFor:a,className:`absolute left-0 transition-all duration-300 pointer-events-none z-0
                  ${m?"top-0 text-xs text-amber-500":"top-6 text-xl text-stone-500"}
              `,children:e})]})},xU=({hasConsented:e,requestConsent:t})=>{const{user:n}=qd(),s=gd(),[a,l]=V.useState(!1),[c,f]=V.useState("login"),[m,p]=V.useState({name:"",phone:"",comment:""}),[y,_]=V.useState(ox[0]),[E,A]=V.useState(Cf[0]),[I,k]=V.useState({customWood:"",leatherAnimal:"",customColor:"",customInteriorText:"",lodgement:!1,varnish:!1}),[j,O]=V.useState(!1),[q,B]=V.useState({visible:!1,message:"",type:"success"}),[tt,at]=V.useState(0),ut=V.useRef(null),{scrollYProgress:N}=m4({target:ut,offset:["start start","end start"]}),R=ey(N,[0,1],["0%","50%"]),C=ey(N,[0,.5],[1,0]);V.useEffect(()=>{const Q=setInterval(()=>{at(rt=>(rt+1)%Ki.length)},5e3);return()=>clearInterval(Q)},[]);const L=()=>{at(Q=>(Q+1)%Ki.length)},P=()=>{at(Q=>(Q-1+Ki.length)%Ki.length)},F=Q=>{f(Q),l(!0)},D=(Q,rt)=>{B({visible:!0,message:Q,type:rt})},$t=Q=>{Q.preventDefault();const rt=document.getElementById("contact");rt&&rt.scrollIntoView({behavior:"smooth"})},le=async()=>{if(!e){t(),D("    cookies","error");return}if(!m.name||!m.phone){D("   ","error");return}if(!n){D("     ","error"),setTimeout(()=>F("register"),1e3);return}O(!0);try{await _i.createOrder(n.id,{...m,contactMethod:"request",wood:y.id==="custom"?" ":y.name,customWood:y.id==="custom"?I.customWood:void 0,interior:E.type==="custom"?" ":E.typeName,interiorColor:E.name,customInterior:E.type==="custom"?I.customInteriorText:void 0,leatherAnimal:E.type==="leather"?I.leatherAnimal:void 0,customColor:I.customColor||void 0,lodgement:I.lodgement,varnish:E.type==="none"?I.varnish:void 0}),D("  !","success"),p({name:"",phone:"",comment:""})}catch{D("   ","error")}finally{O(!1)}};return S.jsxs("div",{className:"bg-stone-950 text-stone-200 overflow-x-hidden",children:[S.jsxs("nav",{className:"fixed top-0 w-full z-40 px-6 py-6 flex justify-between items-center mix-blend-difference",children:[S.jsx("div",{className:"font-logo text-2xl text-amber-500 font-bold tracking-wider cursor-default select-none",children:"ELEMENT"}),S.jsxs("div",{className:"flex items-center gap-6",children:[S.jsx("button",{onClick:$t,className:"hidden md:block text-xs uppercase tracking-[0.2em] hover:text-amber-500 transition-colors",children:""}),n?S.jsxs("button",{onClick:()=>s("/profile"),className:"flex items-center gap-2 text-amber-500 text-xs uppercase tracking-widest hover:text-amber-400",children:[S.jsx(rx,{size:16})," "]}):S.jsx("button",{onClick:()=>F("login"),className:"text-xs uppercase tracking-[0.2em] hover:text-amber-500 transition-colors",children:""})]})]}),S.jsx(wU,{isOpen:a,onClose:()=>l(!1),initialMode:c}),S.jsx(AU,{isVisible:q.visible,message:q.message,type:q.type,onClose:()=>B(Q=>({...Q,visible:!1}))}),S.jsxs("section",{ref:ut,className:"relative h-screen flex items-center justify-center overflow-hidden",children:[S.jsxs(ie.div,{style:{y:R,opacity:C},className:"absolute inset-0 z-0",children:[S.jsx("div",{className:"absolute inset-0 bg-black/60 z-10"}),S.jsx("img",{src:"images/preview.png",alt:"Preview",className:"w-full h-full object-cover grayscale brightness-50"})]}),S.jsxs("div",{className:"relative z-20 text-center px-4",children:[S.jsx(ie.h1,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.5},className:"font-logo text-6xl md:text-9xl text-amber-500/90 mb-6 drop-shadow-2xl",children:"ELEMENT"}),S.jsx(ie.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1},className:"text-stone-300 text-lg md:text-2xl font-light tracking-widest uppercase font-serif",children:"    "})]})]}),S.jsx("section",{className:"py-24 md:py-32 px-6 md:px-12 max-w-7xl mx-auto",children:S.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[S.jsxs(Mo,{children:[S.jsxs("h2",{className:"text-4xl md:text-5xl text-amber-500 mb-8 leading-tight",children:["",S.jsx("br",{})," "]}),S.jsx("div",{className:"space-y-6 text-stone-400 font-light leading-relaxed text-lg",children:S.jsxs("p",{children:["    ,       .  ",S.jsx("span",{className:"text-stone-200",children:"Element"}),"        ."]})})]}),S.jsx(Mo,{delay:.2,children:S.jsx("div",{className:"relative aspect-[3/4] overflow-hidden border border-stone-800 p-2",children:S.jsx("img",{src:"images/about.png",alt:"About",className:"w-full h-full object-cover grayscale opacity-80"})})})]})}),S.jsx("section",{className:"py-24 bg-stone-900/20",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[S.jsx(Mo,{children:S.jsx("h2",{className:"text-center text-3xl md:text-4xl mb-16 font-serif uppercase tracking-widest text-amber-500",children:" "})}),S.jsx(Mo,{children:S.jsxs("div",{className:"relative max-w-5xl mx-auto aspect-[4/5] md:aspect-[2/1] bg-stone-950 border border-stone-800 shadow-2xl overflow-hidden group",children:[S.jsx(pc,{mode:"wait",children:S.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.7},className:"absolute inset-0",children:[S.jsx("img",{src:Ki[tt].imageUrl,alt:Ki[tt].alt,className:"w-full h-full object-cover opacity-70 group-hover:opacity-60 transition-opacity duration-500"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-stone-950/20 to-transparent opacity-90"}),S.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-16 flex flex-col items-start justify-end",children:[S.jsx(ie.h3,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-3xl md:text-5xl font-serif text-amber-500 mb-4",children:Ki[tt].title}),S.jsx(ie.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"h-[1px] w-24 bg-amber-700 mb-4"}),S.jsx(ie.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-stone-300 font-light text-lg md:text-xl max-w-xl",children:Ki[tt].description}),S.jsxs(ie.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 text-xs text-stone-500 uppercase tracking-widest",children:[" ",tt+1," / ",Ki.length]})]})]},tt)}),S.jsx("button",{onClick:P,className:"absolute left-4 top-1/2 -translate-y-1/2 p-4 bg-black/40 hover:bg-amber-900/40 text-stone-400 hover:text-amber-500 border border-stone-800/50 hover:border-amber-700/50 transition-all rounded-full z-20 backdrop-blur-sm opacity-0 group-hover:opacity-100",children:S.jsx(A4,{size:32})}),S.jsx("button",{onClick:L,className:"absolute right-4 top-1/2 -translate-y-1/2 p-4 bg-black/40 hover:bg-amber-900/40 text-stone-400 hover:text-amber-500 border border-stone-800/50 hover:border-amber-700/50 transition-all rounded-full z-20 backdrop-blur-sm opacity-0 group-hover:opacity-100",children:S.jsx(R4,{size:32})}),S.jsx("div",{className:"absolute bottom-6 right-6 md:bottom-16 md:right-16 flex gap-3 z-20",children:Ki.map((Q,rt)=>S.jsx("button",{onClick:()=>at(rt),className:`h-1.5 rounded-full transition-all duration-500 ${tt===rt?"w-12 bg-amber-600":"w-3 bg-stone-700 hover:bg-stone-500"}`},rt))})]})})]})}),S.jsx(Z4,{selectedWood:y,setSelectedWood:_,selectedInterior:E,setSelectedInterior:A,configuration:I,setConfiguration:k}),S.jsx("section",{id:"contact",className:"py-24 bg-stone-900 border-t border-amber-900/20",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-16",children:[S.jsxs(Mo,{children:[S.jsx("h2",{className:"text-5xl font-serif text-amber-500 mb-6",children:" "}),S.jsxs("div",{className:"space-y-4 text-stone-400",children:[S.jsxs("p",{className:"flex items-center gap-4",children:[S.jsx(B4,{className:"w-5 h-5 text-amber-600"})," info@element-box.ru"]}),S.jsx("p",{className:"mt-4 text-sm font-light leading-relaxed max-w-md",children:" ,           ."})]})]}),S.jsx(Mo,{delay:.2,children:S.jsxs("div",{className:"space-y-8",children:[S.jsx(Kw,{id:"name",label:" ",value:m.name,onChange:Q=>p({...m,name:Q.target.value})}),S.jsx(Kw,{id:"phone",label:"",type:"tel",value:m.phone,onChange:Q=>p({...m,phone:Q.target.value})}),S.jsx("div",{className:"pt-6",children:S.jsxs("button",{onClick:le,disabled:j,className:"w-full py-4 bg-amber-900/20 border border-amber-800 hover:bg-amber-900/40 text-amber-500 hover:text-amber-400 uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2 group",children:[j?"...":" ",!j&&S.jsx(ny,{size:18,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})})]})})]})}),S.jsx("footer",{className:"py-8 text-center border-t border-stone-900 text-stone-600 text-xs uppercase tracking-widest",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex justify-between items-center",children:[S.jsx("div",{className:"font-logo text-lg text-stone-500",children:"Element"}),S.jsx("div",{children:"Element    "})]})})]})},Yw=["admin@element.com"],RU=()=>{const{user:e,isLoading:t}=qd(),n=gd(),[s,a]=V.useState("dashboard"),[l,c]=V.useState(!1),[f,m]=V.useState([]),[p,y]=V.useState([]);V.useEffect(()=>{if(!t){if(!e||e.email&&!Yw.includes(e.email))return;_()}},[e,t]);const _=async()=>{c(!0);try{const[O,q]=await Promise.all([_i.getAllUsers(),_i.getAllOrders()]);m(O),y(q)}catch(O){console.error("Failed to fetch admin data",O)}finally{c(!1)}},E=async(O,q)=>{await _i.updateOrderStatus(O,q),y(B=>B.map(tt=>tt.id===O?{...tt,status:q}:tt))},A=O=>{const q=f.find(B=>B.id===O);return q?q.name:""},I=O=>{const q=f.find(B=>B.id===O);return q?q.email:""};if(t)return S.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center text-stone-500",children:"..."});if(!e||e.email&&!Yw.includes(e.email))return S.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center p-4",children:S.jsxs("div",{className:"w-full max-w-md p-10 bg-stone-900 border border-stone-800 shadow-2xl relative text-center",children:[S.jsx("div",{className:"w-16 h-16 bg-stone-950 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-900/30",children:S.jsx(j4,{className:"w-6 h-6 text-red-600"})}),S.jsx("h1",{className:"text-2xl font-serif text-stone-200 mb-2",children:" "}),S.jsx("p",{className:"text-stone-500 text-sm mb-6",children:"    ."}),S.jsx("button",{onClick:()=>n("/"),className:"text-amber-600 hover:text-amber-500 uppercase text-xs tracking-widest border-b border-amber-600/30 pb-1",children:"  "})]})});const k=({title:O,value:q,sub:B,icon:tt})=>S.jsxs("div",{className:"bg-stone-900 border border-stone-800 p-6 flex flex-col justify-between h-32 relative overflow-hidden",children:[S.jsxs("div",{className:"flex justify-between items-start z-10",children:[S.jsx("span",{className:"text-stone-500 text-xs uppercase tracking-widest",children:O}),S.jsx(tt,{className:"text-stone-700 w-5 h-5"})]}),S.jsxs("div",{className:"z-10",children:[S.jsx("h3",{className:"text-3xl font-serif text-stone-200",children:q}),S.jsx("p",{className:"text-xs text-amber-600 mt-1",children:B})]}),S.jsx("div",{className:"absolute -bottom-4 -right-4 text-stone-800 opacity-20",children:S.jsx(tt,{size:100})})]}),j=({status:O})=>{const q={pending:"bg-yellow-900/20 text-yellow-600 border-yellow-900/30",processing:"bg-blue-900/20 text-blue-500 border-blue-900/30",completed:"bg-green-900/20 text-green-500 border-green-900/30",cancelled:"bg-red-900/20 text-red-500 border-red-900/30"},B={pending:"",processing:" ",completed:"",cancelled:""},tt=O;return S.jsx("span",{className:`px-2 py-1 text-[10px] uppercase tracking-wider border rounded-sm ${q[tt]||q.pending}`,children:B[tt]||O})};return S.jsxs("div",{className:"min-h-screen bg-stone-950 text-stone-300 flex",children:[S.jsxs("aside",{className:"w-64 bg-stone-900 border-r border-stone-800 flex flex-col fixed h-full z-20",children:[S.jsxs("div",{className:"p-8 border-b border-stone-800",children:[S.jsx("div",{className:"font-logo text-2xl text-amber-600",children:"ELEMENT"}),S.jsx("div",{className:"text-[10px] text-stone-600 uppercase tracking-[0.3em] mt-1",children:"Admin Panel"}),S.jsx("div",{className:"text-[10px] text-stone-500 mt-2 truncate",children:e.email})]}),S.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[S.jsxs("button",{onClick:()=>a("dashboard"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-colors ${s==="dashboard"?"bg-stone-800 text-amber-500 border-l-2 border-amber-500":"text-stone-400 hover:text-stone-200 hover:bg-stone-800/50"}`,children:[S.jsx(P4,{size:18})," "]}),S.jsxs("button",{onClick:()=>a("orders"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-colors ${s==="orders"?"bg-stone-800 text-amber-500 border-l-2 border-amber-500":"text-stone-400 hover:text-stone-200 hover:bg-stone-800/50"}`,children:[S.jsx(sy,{size:18})," ",p.filter(O=>O.status==="pending").length>0&&S.jsx("span",{className:"ml-auto bg-amber-600 text-stone-950 text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:p.filter(O=>O.status==="pending").length})]}),S.jsxs("button",{onClick:()=>a("users"),className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-colors ${s==="users"?"bg-stone-800 text-amber-500 border-l-2 border-amber-500":"text-stone-400 hover:text-stone-200 hover:bg-stone-800/50"}`,children:[S.jsx(dS,{size:18})," "]})]}),S.jsx("div",{className:"p-4 border-t border-stone-800",children:S.jsxs("button",{onClick:()=>n("/"),className:"flex items-center gap-2 text-xs text-stone-500 hover:text-stone-200 transition-colors px-4",children:[S.jsx(sx,{size:16}),"  "]})})]}),S.jsxs("main",{className:"flex-1 ml-64 p-8 md:p-12",children:[s==="dashboard"&&S.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[S.jsxs("header",{className:"mb-8",children:[S.jsx("h2",{className:"text-3xl font-serif text-stone-100",children:""}),S.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"    "})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx(k,{title:" ",value:p.length,sub:`${p.filter(O=>O.status==="completed").length} `,icon:sy}),S.jsx(k,{title:" ",value:f.length,sub:`${f.length-p.map(O=>O.userId).filter((O,q,B)=>B.indexOf(O)===q).length}  `,icon:dS}),S.jsx(k,{title:"",value:`${f.length>0?Math.round(p.map(O=>O.userId).filter((O,q,B)=>B.indexOf(O)===q).length/f.length*100):0}%`,sub:"   ",icon:iy})]}),S.jsxs("div",{className:"bg-stone-900 border border-stone-800 p-6",children:[S.jsx("h3",{className:"text-lg font-serif text-stone-200 mb-6",children:" "}),S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-left text-sm text-stone-400",children:[S.jsx("thead",{className:"text-xs uppercase text-stone-600 border-b border-stone-800",children:S.jsxs("tr",{children:[S.jsx("th",{className:"pb-3 pl-4",children:"ID"}),S.jsx("th",{className:"pb-3",children:""}),S.jsx("th",{className:"pb-3",children:""}),S.jsx("th",{className:"pb-3",children:""})]})}),S.jsx("tbody",{className:"divide-y divide-stone-800/50",children:p.slice(0,5).map(O=>S.jsxs("tr",{className:"hover:bg-stone-800/30",children:[S.jsxs("td",{className:"py-4 pl-4 font-mono text-amber-700",children:["#",O.id.slice(-6)]}),S.jsx("td",{className:"py-4 text-stone-300",children:A(O.userId)}),S.jsx("td",{className:"py-4",children:S.jsx(j,{status:O.status})}),S.jsx("td",{className:"py-4 text-xs opacity-60",children:new Date(O.date).toLocaleDateString()})]},O.id))})]})}),S.jsx("button",{onClick:()=>a("orders"),className:"mt-4 text-xs text-amber-600 hover:text-amber-500 uppercase tracking-widest",children:"  "})]})]}),s==="orders"&&S.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[S.jsx("header",{className:"flex justify-between items-end",children:S.jsxs("div",{children:[S.jsx("h2",{className:"text-3xl font-serif text-stone-100",children:""}),S.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"   "})]})}),S.jsx("div",{className:"bg-stone-900 border border-stone-800 overflow-hidden",children:S.jsxs("table",{className:"w-full text-left text-sm text-stone-400",children:[S.jsx("thead",{className:"bg-stone-950 text-xs uppercase text-stone-500 font-medium",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-4",children:""}),S.jsx("th",{className:"px-6 py-4",children:" / "}),S.jsx("th",{className:"px-6 py-4",children:""}),S.jsx("th",{className:"px-6 py-4",children:""}),S.jsx("th",{className:"px-6 py-4",children:""}),S.jsx("th",{className:"px-6 py-4",children:""})]})}),S.jsxs("tbody",{className:"divide-y divide-stone-800",children:[p.map(O=>S.jsxs("tr",{className:"hover:bg-stone-800/30 transition-colors",children:[S.jsxs("td",{className:"px-6 py-4",children:[S.jsxs("div",{className:"font-mono text-amber-600 text-sm",children:["#",O.id.slice(-6)]}),S.jsx("div",{className:"text-xs text-stone-600 mt-1",children:new Date(O.date).toLocaleDateString()})]}),S.jsxs("td",{className:"px-6 py-4",children:[S.jsx("div",{className:"text-stone-200 font-medium",children:A(O.userId)}),S.jsxs("div",{className:"text-xs text-stone-500 mt-1 flex flex-col gap-0.5",children:[S.jsxs("span",{children:["Email: ",I(O.userId)]}),S.jsxs("span",{className:"text-amber-700",children:[": ",O.details.contactMethod,O.details.contactEmail&&` (${O.details.contactEmail})`]})]})]}),S.jsx("td",{className:"px-6 py-4",children:S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("span",{className:"text-stone-300",children:O.details.wood||""}),S.jsx("span",{className:"text-xs text-stone-500",children:O.details.varnish?"":""})]})}),S.jsx("td",{className:"px-6 py-4 max-w-xs truncate",title:O.details.comment,children:O.details.comment||S.jsx("span",{className:"text-stone-700 italic",children:" "})}),S.jsx("td",{className:"px-6 py-4",children:S.jsx(j,{status:O.status})}),S.jsx("td",{className:"px-6 py-4",children:S.jsxs("div",{className:"relative group inline-block",children:[S.jsx("button",{className:"text-xs uppercase tracking-wider text-stone-400 hover:text-stone-200 border border-stone-700 px-3 py-1 hover:bg-stone-800",children:""}),S.jsx("div",{className:"absolute right-0 top-full mt-2 w-32 bg-stone-900 border border-stone-700 shadow-xl hidden group-hover:block z-50",children:["pending","processing","completed","cancelled"].map(q=>S.jsx("button",{onClick:()=>E(O.id,q),className:"block w-full text-left px-4 py-2 text-xs text-stone-400 hover:text-amber-500 hover:bg-stone-800 uppercase",children:q},q))})]})})]},O.id)),p.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-stone-600",children:"  "})})]})]})})]}),s==="users"&&S.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[S.jsxs("header",{children:[S.jsx("h2",{className:"text-3xl font-serif text-stone-100",children:""}),S.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"  "})]}),S.jsx("div",{className:"bg-stone-900 border border-stone-800 overflow-hidden",children:S.jsxs("table",{className:"w-full text-left text-sm text-stone-400",children:[S.jsx("thead",{className:"bg-stone-950 text-xs uppercase text-stone-500 font-medium",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-6 py-4",children:""}),S.jsx("th",{className:"px-6 py-4",children:"Email / ID"}),S.jsx("th",{className:"px-6 py-4",children:""}),S.jsx("th",{className:"px-6 py-4",children:""})]})}),S.jsx("tbody",{className:"divide-y divide-stone-800",children:f.map(O=>{const q=p.filter(tt=>tt.userId===O.id),B=q.length>0;return S.jsxs("tr",{className:"hover:bg-stone-800/30",children:[S.jsx("td",{className:"px-6 py-4 text-stone-200 font-medium",children:O.name}),S.jsxs("td",{className:"px-6 py-4",children:[S.jsx("div",{children:O.email}),S.jsx("div",{className:"text-[10px] text-stone-600 font-mono mt-0.5",children:O.id})]}),S.jsx("td",{className:"px-6 py-4",children:S.jsx("span",{className:`font-mono ${B?"text-amber-600":"text-stone-600"}`,children:q.length})}),S.jsx("td",{className:"px-6 py-4",children:B?S.jsxs("span",{className:"flex items-center gap-2 text-xs text-green-500 uppercase tracking-widest",children:[S.jsx(iy,{size:12})," "]}):S.jsxs("span",{className:"flex items-center gap-2 text-xs text-stone-500 uppercase tracking-widest opacity-50",children:[S.jsx(nx,{size:12})," "]})})]},O.id)})})]})})]})]})]})},CU=()=>{const{user:e,logout:t}=qd(),n=gd(),[s,a]=V.useState([]),[l,c]=V.useState(!0);V.useEffect(()=>{if(!e){n("/");return}(async()=>{const p=await _i.getUserOrders(e.id);a(p),c(!1)})()},[e,n]);const f=()=>{t(),n("/")};return e?S.jsx("div",{className:"min-h-screen bg-stone-950 text-stone-200 pt-24 pb-12 px-6",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"flex justify-between items-end mb-12 border-b border-stone-800 pb-6",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"font-serif text-4xl text-amber-500 mb-2",children:" "}),S.jsxs("p",{className:"text-stone-500 font-light flex items-center gap-2",children:[S.jsx(rx,{size:16})," ",e.name," ",S.jsx("span",{className:"text-stone-700",children:"|"})," ",e.email]})]}),S.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-6 py-2 border border-stone-800 hover:border-red-900/50 hover:text-red-500 transition-colors text-xs uppercase tracking-widest",children:[S.jsx(sx,{size:14})," "]})]}),S.jsxs("div",{className:"grid gap-8",children:[S.jsx("h2",{className:"text-2xl font-serif text-stone-300 mb-4",children:" "}),l?S.jsx("div",{className:"flex justify-center py-12",children:S.jsx(ix,{className:"animate-spin text-amber-600"})}):s.length===0?S.jsxs("div",{className:"text-center py-12 border border-dashed border-stone-800 rounded",children:[S.jsx(sy,{className:"w-12 h-12 text-stone-700 mx-auto mb-4"}),S.jsx("p",{className:"text-stone-500",children:"     "}),S.jsx("button",{onClick:()=>n("/"),className:"mt-4 text-amber-600 hover:text-amber-500 text-sm",children:"  "})]}):S.jsx("div",{className:"space-y-4",children:s.map((m,p)=>S.jsxs(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-stone-900 border border-stone-800 p-6 hover:border-amber-900/30 transition-colors group",children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-4",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[S.jsxs("span",{className:"font-mono text-amber-600 text-sm",children:["#",m.id]}),S.jsx("span",{className:`px-2 py-0.5 text-[10px] uppercase tracking-wider border rounded ${m.status==="completed"?"border-green-900 text-green-500":m.status==="pending"?"border-yellow-900/50 text-yellow-500":"border-stone-700 text-stone-500"}`,children:m.status==="pending"?"":m.status})]}),S.jsxs("p",{className:"text-xs text-stone-500 flex items-center gap-2",children:[S.jsx(nx,{size:12})," ",new Date(m.date).toLocaleDateString()]})]}),S.jsx("div",{className:"text-right",children:S.jsx("p",{className:"font-serif text-lg text-stone-200",children:m.items})})]}),(m.details.comment||m.details.wood)&&S.jsxs("div",{className:"mt-4 pt-4 border-t border-stone-800/50 text-sm text-stone-400 font-light grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.details.comment&&S.jsxs("p",{children:[S.jsx("span",{className:"text-stone-600",children:":"})," ",m.details.comment]}),S.jsxs("div",{className:"flex gap-4",children:[m.details.wood&&S.jsxs("p",{children:[S.jsx("span",{className:"text-stone-600",children:":"})," ",m.details.wood]}),m.details.varnish&&S.jsxs("p",{children:[S.jsx("span",{className:"text-stone-600",children:":"})," "]})]})]})]},m.id))})]})]})}):null},IU=({onComplete:e})=>{const[t,n]=V.useState(!0);return V.useEffect(()=>{const s=setTimeout(()=>{n(!1),setTimeout(e,1e3)},2500);return()=>clearTimeout(s)},[e]),S.jsx(pc,{children:t&&S.jsx(ie.div,{className:"fixed inset-0 z-[100] flex items-center justify-center bg-stone-950",initial:{opacity:1},exit:{opacity:0,transition:{duration:1,ease:"easeInOut"}},children:S.jsxs(ie.div,{initial:{scale:.8,opacity:0,letterSpacing:"1em"},animate:{scale:1,opacity:1,letterSpacing:"0.2em"},transition:{duration:1.5,ease:"easeOut"},className:"flex flex-col items-center",children:[S.jsxs("h1",{className:"font-logo text-6xl md:text-9xl text-amber-500 uppercase tracking-widest relative",children:["Element",S.jsx(ie.span,{className:"absolute -bottom-4 left-0 w-full h-[1px] bg-amber-700",initial:{width:0},animate:{width:"100%"},transition:{delay:1,duration:1}})]}),S.jsx(ie.p,{className:"mt-6 text-stone-500 text-sm uppercase tracking-[0.3em]",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.5},children:"Premium Custom Woodwork"})]})})})},NU=({isVisible:e,onAccept:t,onDecline:n})=>S.jsx(pc,{children:e&&S.jsx(ie.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed bottom-0 left-0 w-full z-50 bg-stone-900/95 backdrop-blur-md border-t border-amber-900/30 p-6 md:p-8",children:S.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[S.jsx("div",{className:"text-stone-300 text-sm md:text-base max-w-2xl text-center md:text-left",children:S.jsx("p",{children:"   cookie    .  ,       .     ."})}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("button",{onClick:n,className:"px-6 py-2 border border-stone-600 text-stone-400 hover:text-stone-200 hover:border-stone-400 transition-colors uppercase text-xs tracking-widest",children:""}),S.jsx("button",{onClick:t,className:"px-6 py-2 bg-amber-800 text-stone-100 hover:bg-amber-700 transition-colors uppercase text-xs tracking-widest shadow-lg shadow-amber-900/20",children:""})]})]})})}),DU=()=>{const[e,t]=V.useState(!0),[n,s]=V.useState(!1),[a,l]=V.useState(!1);V.useEffect(()=>{var y;_i.logVisitor(),localStorage.getItem("element_cookie_consent")==="true"?s(!0):setTimeout(()=>l(!0),4e3),(y=window.Telegram)!=null&&y.WebApp&&(window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand())},[]);const c=()=>{s(!0),l(!1),localStorage.setItem("element_cookie_consent","true")},f=()=>{s(!1),l(!1),localStorage.setItem("element_cookie_consent","false")},m=()=>{l(!0)};return S.jsxs(SU,{children:[e&&S.jsx(IU,{onComplete:()=>t(!1)}),S.jsx(QN,{children:S.jsxs(AN,{children:[S.jsx(_f,{path:"/",element:S.jsx(xU,{hasConsented:n,requestConsent:m})}),S.jsx(_f,{path:"/profile",element:S.jsx(CU,{})}),S.jsx(_f,{path:"/admfil",element:S.jsx(RU,{})})]})}),S.jsx(NU,{isVisible:a,onAccept:c,onDecline:f})]})},zC=document.getElementById("root");if(!zC)throw new Error("Could not find root element to mount to");const VU=C2.createRoot(zC);VU.render(S.jsx(E2.StrictMode,{children:S.jsx(DU,{})}));
